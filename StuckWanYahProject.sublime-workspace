{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"acc",
				"accessToken"
			],
			[
				"image",
				"images"
			],
			[
				"getUser",
				"getUserProfilePicture"
			],
			[
				"pro",
				"profile"
			],
			[
				"user",
				"userId"
			],
			[
				"find",
				"findOne"
			],
			[
				"s",
				"src\tAttr"
			],
			[
				"ob",
				"obj"
			],
			[
				"calc",
				"calcAge"
			],
			[
				"res",
				"result"
			],
			[
				"param",
				"params"
			],
			[
				"err",
				"error"
			],
			[
				"perfo",
				"performRequest"
			],
			[
				"body",
				"bodyObj"
			],
			[
				"mee",
				"message"
			],
			[
				"par",
				"parseurl"
			],
			[
				"me",
				"message"
			],
			[
				"bo",
				"Body"
			],
			[
				"for",
				"for\tfor (…) {…}"
			],
			[
				"bod",
				"bodyObj"
			],
			[
				"re",
				"response"
			],
			[
				"checkUserExistance",
				"checkUserExistanceOnFb"
			],
			[
				"publ",
				"public_profile"
			],
			[
				"ceck",
				"checkUserExistance"
			],
			[
				"file",
				"filename"
			],
			[
				"Face",
				"facebookStatusCodes"
			],
			[
				"conne",
				"connected"
			],
			[
				"use",
				"userId"
			],
			[
				"faceboo",
				"facebookHandle"
			],
			[
				"statu",
				"statusText"
			],
			[
				"au",
				"authResponse"
			],
			[
				"clie",
				"clientSecret"
			],
			[
				"clien",
				"clientID"
			],
			[
				"cal",
				"callbackURL"
			],
			[
				"tes",
				"testDbURL"
			],
			[
				"mog",
				"mongodb"
			],
			[
				"sta",
				"statusChangeCallback"
			],
			[
				"new",
				"newPhoto"
			],
			[
				"val",
				"value"
			],
			[
				"pho",
				"photos"
			],
			[
				"photo",
				"photo"
			],
			[
				"age",
				"age_range"
			],
			[
				"las",
				"last_name"
			],
			[
				"first",
				"first_name"
			],
			[
				"data",
				"data"
			],
			[
				"profile",
				"profile"
			],
			[
				"ex",
				"expires"
			],
			[
				"cons",
				"console"
			],
			[
				"auth",
				"authResponse"
			],
			[
				"log",
				"login"
			],
			[
				"conn",
				"connected"
			],
			[
				"if",
				"if\tif"
			],
			[
				"funnc",
				"function"
			],
			[
				"min",
				"minIndex"
			],
			[
				"face",
				"facebook_friends"
			],
			[
				"frien",
				"facebook_friends"
			],
			[
				"Form",
				"submitForm"
			],
			[
				"a",
				"ajax"
			],
			[
				"stat",
				"statics"
			],
			[
				"dat",
				"data"
			],
			[
				"con",
				"console"
			],
			[
				"getC",
				"getCurrentUser"
			],
			[
				"is",
				"is_blocked"
			],
			[
				"get",
				"getTwoRandomPhotos"
			],
			[
				"u",
				"unique"
			],
			[
				"Mon",
				"MongoClient"
			],
			[
				"mongo",
				"mongodb"
			],
			[
				"json",
				"jsonfile"
			],
			[
				"top",
				"topTenWinings"
			],
			[
				"succe",
				"success"
			],
			[
				"per",
				"performanceRating"
			],
			[
				"playe",
				"player1"
			],
			[
				"player",
				"player2"
			],
			[
				"plaer",
				"player1"
			],
			[
				"loser",
				"loser_draws_arr"
			],
			[
				"winner",
				"winner_draws_arr"
			],
			[
				"len",
				"length"
			],
			[
				"obj",
				"object"
			],
			[
				"req",
				"req"
			],
			[
				"gener",
				"gender"
			],
			[
				"win",
				"wins"
			],
			[
				"retu",
				"returned"
			],
			[
				"mac",
				"match"
			],
			[
				"f",
				"fi\t<%= Fixtures.identify(:symbol) %>"
			],
			[
				"pla",
				"player1"
			],
			[
				"next",
				"nextElementSibling"
			],
			[
				"inn",
				"innerText"
			],
			[
				"app",
				"appendChild"
			],
			[
				"count",
				"counter_number"
			],
			[
				"com",
				"comma"
			],
			[
				"coun",
				"counter_number"
			],
			[
				"imae",
				"image_id"
			],
			[
				"challe",
				"challengers"
			],
			[
				"in",
				"input\tTag"
			],
			[
				"d",
				"delete"
			],
			[
				"vo",
				"voter"
			],
			[
				"hr",
				"herokuapp"
			],
			[
				"http",
				"https"
			],
			[
				"base",
				"baseUrl"
			],
			[
				"clas",
				"className"
			],
			[
				"cou",
				"counter_number"
			],
			[
				"getEle",
				"getElementsByTagName"
			],
			[
				"Stuck",
				"StuckWanYah"
			],
			[
				"faceb",
				"Facebook"
			],
			[
				"loca",
				"location"
			],
			[
				"stuc",
				"stuckwanyah"
			],
			[
				"fac",
				"connect_facebook"
			],
			[
				"fb_",
				"fb_app_secret"
			],
			[
				"conf",
				"CONFIG"
			],
			[
				"fi",
				"field"
			],
			[
				"getM",
				"getMediaOptions"
			],
			[
				"wns",
				"wins"
			],
			[
				"result",
				"results"
			],
			[
				"player_",
				"player_1"
			],
			[
				"call",
				"callback"
			],
			[
				"para",
				"parallel"
			],
			[
				"player_1",
				"player_1_score"
			],
			[
				"tie",
				"tieBreaker"
			],
			[
				"succ",
				"success"
			],
			[
				"winer",
				"winner"
			],
			[
				"winner_",
				"winner_loses_arr"
			],
			[
				"w",
				"winner"
			],
			[
				"lose",
				"losses"
			],
			[
				"wii",
				"winning"
			],
			[
				"rat",
				"ratings"
			],
			[
				"strin",
				"stringify"
			],
			[
				"local",
				"localhost"
			],
			[
				"dataf",
				"data-fb-id"
			]
		]
	},
	"buffers":
	[
		{
			"file": "server.js",
			"settings":
			{
				"buffer_size": 86520,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					112,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAC0JwEALy8gSW52b2tlIEphdmFTY3JpcHQgU3RyaWN0IG1vZGUKJ3VzZSBzdHJpY3QnOwovLyBJbml0aWFsaXppbmcgZGVwZW5kZW5jaWVzCnZhciBleHByZXNzID0gcmVxdWlyZSgiZXhwcmVzcyIpCgksIGh0dHAgPSByZXF1aXJlKCJodHRwIikKCSwgaHR0cHMgPSByZXF1aXJlKCJodHRwcyIpCgksIGVqcyA9IHJlcXVpcmUoJ2VqcycpCgksIHNlc3Npb24gPSByZXF1aXJlKCJleHByZXNzLXNlc3Npb24iKQoJLCByZXN0ZnVsID0gcmVxdWlyZSgnbm9kZS1yZXN0ZnVsJykKCSwgbW9uZ29vc2UgPSByZXF1aXJlKCJtb25nb29zZSIpCgksIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJykKCSwgbW9tZW50ID0gcmVxdWlyZSgibW9tZW50IikKCSwgY29va2llUGFyc2VyID0gcmVxdWlyZSgnY29va2llLXBhcnNlcicpCgkvLyAsIGNvb2tpZVNlc3Npb24gPSByZXF1aXJlKCdjb29raWUtc2Vzc2lvbicpCgksIGJvZHlQYXJzZXIgPSByZXF1aXJlKCJib2R5LXBhcnNlciIpCgksIHBhdGggPSByZXF1aXJlKCJwYXRoIikKCSwgZmF2aWNvbiA9IHJlcXVpcmUoJ3NlcnZlLWZhdmljb24nKQoJLCBwYXJzZXVybCA9IHJlcXVpcmUoJ3BhcnNldXJsJykKCSwgcmVxdWVzdCA9IHJlcXVpcmUoJ3JlcXVlc3QtcHJvbWlzZScpCgksIHBhc3Nwb3J0ID0gcmVxdWlyZSgncGFzc3BvcnQnKQoJLCBGYWNlYm9va1N0cmF0ZWd5ID0gcmVxdWlyZSgncGFzc3BvcnQtZmFjZWJvb2snKS5TdHJhdGVneQoJLCBqd3QgPSByZXF1aXJlKCdqd3Qtc2ltcGxlJykKCSwgQ3J5cHRvSlMgPSByZXF1aXJlKCdjcnlwdG8tanMnKQoJLy8gLCBleHByZXNzSnd0ID0gcmVxdWlyZSgnZXhwcmVzcy1qd3QnKQoJLCB4bWwyanMgPSByZXF1aXJlKCJ4bWwyanMiKQoJLCBmcyA9IHJlcXVpcmUoJ2ZzJykKCSwgYXN5bmMgPSByZXF1aXJlKCJhc3luYyIpCgksIGNvbG9ycyA9IHJlcXVpcmUoJ2NvbG9ycycpCgksIEVsbyA9IHJlcXVpcmUoJ2FycGFkJykKCSwgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCkKCSwgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKQoJLCBrZXlzID0gcmVxdWlyZSgiLi9jb25maWcva2V5cyIpCgkvLyAsIFNvY2tldCA9IHJlcXVpcmUoJ3NvY2tldC5pbycpCgksIGxvZ1N5bWJvbHMgPSByZXF1aXJlKCdsb2ctc3ltYm9scycpCgkvLyAsIG1lcmdlID0gcmVxdWlyZSgnbG9kYXNoLm1lcmdlJykKCS8vICwgbWVyZ2VfaXQgPSByZXF1aXJlKCdtZXJnZScpOwoKLy8gQ3JlYXRpbmcgR2xvYmFsIGluc3RhbmNlIGZvciBleHByZXNzCmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsKbGV0IHNlcnZlcjsKCnNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7CgovLyBzZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoewovLyAJa2V5OiBmcy5yZWFkRmlsZVN5bmMoJy4va2V5LnBlbScpLAovLyAJY2VydDogZnMucmVhZEZpbGVTeW5jKCcuL2NlcnQucGVtJykKLy8gfSwgYXBwKTsKCmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7CgovLyB2YXIgaW8gPSBuZXcgU29ja2V0KHNlcnZlcik7Cgp2YXIgc291cmNlRGlyZWN0b3J5ID0gImFwcC9pbWFnZXMvcGhvdG9zLyI7Ci8vIEludm9rZSBtb2RlbAp2YXIgU3dlZXRsaXBzID0gcmVxdWlyZSgiLi9tb2RlbHMvc3dlZXRsaXBzIik7Ci8vIFJlZ2lzdGVyIHBob3RvcyBtb2RlbAp2YXIgUGhvdG9zID0gU3dlZXRsaXBzLnBob3RvczsKdmFyIEhpdHMgPSBTd2VldGxpcHMuaGl0czsKLy8gdmFyIEJsb2NrZWRQaG90b3MgPSBTd2VldGxpcHMuYmxvY2tlZFBob3RvczsKUGhvdG9zLm1ldGhvZHMoWydnZXQnLCAncHV0JywncG9zdCcsICdkZWxldGUnXSkucmVnaXN0ZXIocm91dGVyLCAnL3Bob3RvcycpOwpIaXRzLm1ldGhvZHMoWydnZXQnLCAncHV0JywncG9zdCcsICdkZWxldGUnXSkucmVnaXN0ZXIocm91dGVyLCAnL2hpdHMnKTsKCi8vIGNvbmZpZ3VyZSB0aGUgaW5zdGFuY2UKLy8gRXhwcmVzcyBjb25maWd1cmF0aW9uCmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUKTsKLy8gYXBwLnNldCgnZW52JywgJ3Byb2R1Y3Rpb24nKTsKLy8gVGVsbCBleHByZXNzIHdoZXJlIGl0IGNhbiBmaW5kIHRoZSB0ZW1wbGF0ZXMKYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lICsgJy92aWV3cycpKTsKLy9TZXQgZWpzIGFzIHRoZSBkZWZhdWx0IHRlbXBsYXRlCmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2h0bWwnKTsKYXBwLmVuZ2luZSgnaHRtbCcsIGVqcy5yZW5kZXJGaWxlKTsKLy8gTWFrZSB0aGUgZmlsZXMgaW4gdGhlIGFwcC8gZm9sZGVyIGF2aWxhYmxlIHRvIHRoZSB3b3JsZAphcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycpKSk7CmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ2FwcCcpKSk7CmFwcC51c2UoJy9waG90b3MnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnYXBwL2ltYWdlcy9waG90b3MnKSkpOwphcHAudXNlKCcvaW5zdGFudGdhbWUnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnaW5zdGFudGdhbWUnKSkpOwphcHAudXNlKCcvc3R1Y2t3YW55YWhnYW1lJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3N0dWNrd2FueWFoZ2FtZScpKSk7CgovLyBQYXJzZSBQT1NUIHJlcXVlc3QgZGF0YS4gSXQgd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhlIHJlcS5ib2R5IG9iamVjdAphcHAudXNlKGZhdmljb24ocGF0aC5qb2luKF9fZGlybmFtZSwgJ2FwcCcsICdmYXZpY29uLmljbycpKSk7Ci8vUkVTVGZ1bCBBUEkgcmVxdWlyZW1lbnRzCmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpOwovLyBDaGVjayBGYWNlYm9vayBTaWduYXR1cmUKYXBwLnVzZShib2R5UGFyc2VyLmpzb24oewogICAgdmVyaWZ5OiBjaGVja19mYl9zaWduYXR1cmUKfSkpOwoKZnVuY3Rpb24gY2hlY2tfZmJfc2lnbmF0dXJlKHJlcSwgcmVzLCBidWYpIHsKICAgIGNvbnNvbGUubG9nKCdDaGVjayBmYWNlYm9vayBzaWduYXR1cmUgc3RlcC4nKQogICAgdmFyIGZiX3NpZ25hdHVyZSA9IHJlcS5oZWFkZXJzWyJ4LWh1Yi1zaWduYXR1cmUiXTsKICAgIGlmICghZmJfc2lnbmF0dXJlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaWduYXR1cmUgdmVyIGZhaWxlZC4nKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNpZ25fc3BsaXRzID0gc2lnbmF0dXJlLnNwbGl0KCc9Jyk7CiAgICAgICAgdmFyIG1ldGhvZCA9IHNpZ25fc3BsaXRzWzBdOwogICAgICAgIHZhciBzaWduX2hhc2ggPSBzaWduX3NwbGl0c1sxXTsKCiAgICAgICAgdmFyIHJlYWxfaGFzaCA9IGNyeXB0by5jcmVhdGVIbWFjKCdzaGExJywgRkJfQVBQX1NFQ1JFVCkKICAgICAgICAgICAgLnVwZGF0ZShidWYpCiAgICAgICAgICAgIC5kaWdlc3QoJ2hleCcpOwoKICAgICAgICBpZiAoc2lnbl9oYXNoICE9IHJlYWxfaGFzaCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZ25hdHVyZSB2ZXIgZmFpbGVkLicpOwogICAgICAgIH0KICAgIH0KfQoKYXBwLnVzZShjb3JzKCkpOwphcHAudXNlKGNvb2tpZVBhcnNlcigpKTsgLy8ga2V5cy5zZXNzaW9uLmNvb2tpZVNlY3JldCkpOwovLyBpbml0aWFsaXplIGV4cHJlc3Mtc2Vzc2lvbiB0byBhbGxvdyB1cyB0cmFjayB0aGUgbG9nZ2VkLWluIHVzZXIgYWNyb3NzIHNlc3Npb25zLgovKmFwcC51c2UoY29va2llU2Vzc2lvbih7CgluYW1lOiAnc2Vzc2lvbicsCglrZXlzOiBba2V5cy5zZXNzaW9uLmNvb2tpZUtleV0sCgltYXhBZ2U6IDMgKiAyNCAqIDYwICogNjAgKiAxMDAwIC8vIDcyIGhvdXJzICgzIGRheXMpCn0pKSovCmFwcC51c2Uoc2Vzc2lvbih7CglrZXk6ICd1c2VyX3NpZCcsCglzZWNyZXQ6IGtleXMuc2Vzc2lvbi5jb29raWVTZWNyZXQsCglyZXNhdmU6IHRydWUsCglzYXZlVW5pbml0aWFsaXplZDogdHJ1ZSwKCWNvb2tpZTogeyBtYXhBZ2U6IDIgKiA3ICogMjQgKiA2MCAqIDYwICogMTAwMCwgZXhwaXJlczogNjAwMDAwIH0KfSkpOwoKcGFzc3BvcnQudXNlKG5ldyBGYWNlYm9va1N0cmF0ZWd5KHsKCS8vIG9wdGlvbnMgZm9yIHRoZSBmYWNlYm9vayBzdHJhdAoJY2xpZW50SUQ6IGtleXMuZmFjZWJvb2suYXBwSUQsCgljbGllbnRTZWNyZXQ6IGtleXMuZmFjZWJvb2suY2xpZW50U2VjcmV0LAoJY2FsbGJhY2tVUkw6IGtleXMuZmFjZWJvb2suY2FsbGJhY2tVUkwsCglwcm9maWxlRmllbGRzOiBbJ2lkJywnZGlzcGxheU5hbWUnLCdwaG90b3MnLC8qJ2JpcnRoZGF5JywnZ2VuZGVyJywncHJvZmlsZVVybCcsJ2xpbmsnLCdhZ2UnLCovJ2VtYWlsJ10sCgllbmFibGVQcm9vZjogdHJ1ZQp9LCBmdW5jdGlvbihhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSB7CgoJY29uc29sZS5sb2cocHJvZmlsZSk7CgkvLyB2YXIgbWUgPSBuZXcgUGhvdG9zKHsKCS8vIAllbWFpbDogcHJvZmlsZS5lbWFpbHNbMF0udmFsdWUsCgkvLyAJbmFtZTogcHJvZmlsZS5kaXNwbGF5TmFtZQoJLy8gfSk7CgoJLyogc2F2ZSBpZiBuZXcgKi8KCS8vIFBob3Rvcy5maW5kT25lKHsgZW1haWw6IG1lLmVtYWlsIH0sIGZ1bmN0aW9uKGVyciwgdSkgewoJLy8gCWlmKCF1KSB7CgkvLyAJCW1lLnNhdmUoKS50aGVuKGZ1bmN0aW9uKG5ld1VzZXIpIHsKCS8vIAkJCWNvbnNvbGUubG9nKCJuZXcgdXNlciBjcmVhdGVkOiAiICsgbmV3VXNlcik7CgkvLyAJCQlkb25lKG51bGwsIG5ld1VzZXIpOwoJLy8gCQl9KS5jYXRjaChmdW5jdGlvbihlcnIpewoJLy8gCQkJcmV0dXJuIGRvbmUoZXJyKTsKCS8vIAkJfSk7CgkvLyAJfSBlbHNlIHsKCS8vIAkJY29uc29sZS5sb2coInVzZXIgaXM6ICIgKyB1KTsKCS8vIAkJZG9uZShudWxsLCB1KTsKCS8vIAl9CgkvLyB9KTsKCgkvLyB2YXIgb3B0aW9ucyA9IHthY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlfTsKCS8vIFBob3Rvcy5maW5kT3JDcmVhdGUoeyAiZmFjZWJvb2tIYW5kbGUuaWQiOiBwcm9maWxlLmlkIH0sIG9wdGlvbnMsIGZ1bmN0aW9uKGVyciwgdXNlcikgewoJLy8gCXJldHVybiBkb25lKGVyciwgdXNlcik7CgkvLyB9KTsKCgkvLyAvLyBjaGVjayBpZiBwaG90byBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGIKCS8vIFBob3Rvcy5maW5kT25lKHsiZmFjZWJvb2tIYW5kbGUuaWQiOiBwcm9maWxlLmlkfSkudGhlbigoY3VycmVudFVzZXIpID0+IHsKCS8vIAlpZiAoIWN1cnJlbnRVc2VyKSB7CgkvLyAJCS8vIGFscmVhZHkgaGF2ZSB0aGUgcGhvdG8KCS8vIAkJY29uc29sZS5sb2coInVzZXIgaXM6IiwgY3VycmVudFVzZXIpOwoJLy8gCQlkb25lKG51bGwsIGN1cnJlbnRVc2VyKTsKCS8vIAl9IGVsc2UgewoJLy8gCQkvLyBpZiBub3QsIGNyZWF0ZSB1c2VyIGluIHRoZSBkYgoJLy8gCQluZXcgUGhvdG9zKHsKCS8vIAkJCWRpc3BsYXlOYW1lOiBwcm9maWxlLmRpc3BsYXlOYW1lLAoJLy8gCQkJZmFjZWJvb2tIYW5kbGU6IHtpZDogcHJvZmlsZS5pZH0KCS8vIAkJfSkuc2F2ZSgpLnRoZW4oKG5ld1Bob3RvKSA9PiB7CgkvLyAJCQljb25zb2xlLmxvZygnbmV3IHBob3RvIGNyZWF0ZWQ6JyArIG5ld1Bob3RvKTsKCS8vIAkJfSkKCS8vIAl9CgkvLyB9KTsKfSkpOwoKLyoqIFJlZ2lzdGVycyBhIGZ1bmN0aW9uIHVzZWQgdG8gc2VyaWFsaXplIHVzZXIgb2JqZWN0cyBpbnRvIHRoZSBzZXNzaW9uLiAqLwpwYXNzcG9ydC5zZXJpYWxpemVVc2VyKCh1c2VyLCBkb25lKSA9PiB7Cgljb25zb2xlLmxvZyh1c2VyKTsKCS8vZG9uZShudWxsLCB1c2VyLl9pZCk7Cglkb25lKG51bGwsIHVzZXIuaWQpOwp9KTsKLyoqIFJlZ2lzdGVycyBhIGZ1bmN0aW9uIHVzZWQgdG8gZGVzZXJpYWxpemUgdXNlciBvYmplY3RzIG91dCBvZiB0aGUgc2Vzc2lvbi4gKi8KcGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKChpZCwgZG9uZSkgPT4gewoJY29uc29sZS5sb2coaWQpCglkb25lKG51bGwsIGlkKQoJLy8gUGhvdG9zLmZpbmRCeUlkKGlkKS50aGVuKCh1c2VyKSA9PiB7CgkvLyAJZG9uZShudWxsLCB1c2VyKTsKCS8vIH0pOwp9KTsKCmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7CglpZiAoIXJlcS5zZXNzaW9uLnZpZXdzKSByZXEuc2Vzc2lvbi52aWV3cyA9IHt9CgkvLyBnZXQgdGhlIHVybCBwYXRobmFtZQoJdmFyIHBhdGhuYW1lID0gcGFyc2V1cmwocmVxKS5wYXRobmFtZTsKCS8vIGNvdW50IHRoZSB2aWV3cwoJcmVxLnNlc3Npb24udmlld3NbcGF0aG5hbWVdID0gKHJlcS5zZXNzaW9uLnZpZXdzW3BhdGhuYW1lXSB8fCAwKSArIDE7CgoJaWYgKHJlcS5zZXNzaW9uLnNlZW55b3UpIHsKCQlyZXMuc2V0SGVhZGVyKCdYLVNlZW4tWW91JywgdHJ1ZSk7Cgl9IGVsc2UgewoJCS8vIHNldHRpbmcgYSBwcm9wZXJ0eSB3aWxsIGF1dG9tYXRpY2FsbHkgY2F1c2UgYSBTZXQtQ29va2llIHJlc3BvbnNlIHRvIGJlIHNlbnQKCQlyZXEuc2Vzc2lvbi5zZWVueW91ID0gdHJ1ZTsKCQlyZXMuc2V0SGVhZGVyKCdYLVNlZW4tWW91JywgZmFsc2UpOwoJfQoKCXJlcy5sb2NhbHMuc2Vzc2lvbiA9IHJlcS5zZXNzaW9uOwoJcmVxLnNlc3Npb24udmlzaXRvcnMgPSAocmVxLnNlc3Npb24udmlzaXRvcnMgfHwgMCkgKyAxOwoJLy8gcmVxLnNlc3Npb24uZ2VuZGVyID0gJ21hbGUnOwoKCW5leHQoKTsKfSk7CgovLyBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIGNoZWNrIGZvciBsb2dnZWQtaW4gdXNlcnMKLy8gVGhpcyBtaWRkbGV3YXJlIHdpbGwgY2hlY2sgaWYgdXNlcidzIGNvb2tpZSBpcyBzdGlsbCBzYXZlZCBpbiBicm93c2VyIGFuZCB1c2VyIGlzIG5vdCBzZXQsIHRoZW4gYXV0b21hdGljYWxseSBsb2cgdGhlIHVzZXIgb3V0LgovLyBUaGlzIHVzdWFsbHkgaGFwcGVucyB3aGVuIHlvdSBzdG9wIHlvdXIgZXhwcmVzcyBzZXJ2ZXIgYWZ0ZXIgbG9naW4sIHlvdXIgY29va2llIHN0aWxsIHJlbWFpbnMgc2F2ZWQgaW4gdGhlIGJyb3dzZXIuCi8vIE1pZGRsZXdhcmUgZm9yIHNvbWUgbG9jYWwgdmFyaWFibGVzIHRvIGJlIHVzZWQgaW4gdGhlIHRlbXBsYXRlCmFwcC51c2UoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7Cgl2YXIgbG9nZ2VkSW4gPSAhIXJlcS5zZXNzaW9uLmlkOwoKCWlmIChyZXEuY29va2llcy51c2VyX3NpZCAmJiAhcmVxLnNlc3Npb24udXNlcl9pZCkgewoJCXJlcy5jbGVhckNvb2tpZSgndXNlcl9zaWQnKTsKCX0KCWlmIChyZXEuc2Vzc2lvbi51c2VyX2lkICYmIHJlcS5jb29raWVzLnVzZXJfc2lkKSB7CgkJcmVxLnNlc3Npb24uYXV0aGVudGljYXRlZCA9IHRydWU7CgkJcmVzLmxvY2Fscy5jb25uZWN0ZWQgPSByZXEuc2Vzc2lvbi5hdXRoZW50aWNhdGVkOwoJCXJldHVybiBuZXh0KCk7Cgl9CgllbHNlIHsKCQlyZXEuc2Vzc2lvbi5hdXRoZW50aWNhdGVkID0gZmFsc2U7CgkJcmVzLmxvY2Fscy5jb25uZWN0ZWQgPSByZXEuc2Vzc2lvbi5hdXRoZW50aWNhdGVkOwoKCQkvKiB0ZW1wISByZW1vdmUgdGhpcyBsaW5lIGFuZCB1bmNvbW1lbnQgbGluZSBiZWxvdyBmb3IgcHJvZHVjdGlvbiAqLyAvL3JlcS5zZXNzaW9uLnVzZXJfaWQgPSAxMDAwMDQxNzcyNzgxNjk7IG5leHQoKTsKCgkJaWYgKC9cL2F1dGh8XC9mb28vLnRlc3QocGFyc2V1cmwocmVxKS5wYXRobmFtZSkpIHsKCQkJcmV0dXJuIG5leHQoKTsKCQl9IGVsc2UgewoJCQlyZXMucmVkaXJlY3QoJy9mb28nKTsKCQl9Cgl9Cn0pOwoKYXBwLnVzZShhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHsKCXRyeSB7CgkJLy8gaWYgKCFyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhvcml6YXRpb24gaGVhZGVyIGlzIHJlcXVpcmVkJyk7CgkJLy8gY29uc3QgYWNjZXNzVG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uLnRyaW0oKS5zcGxpdCgnICcpWzFdOwoJCS8vIGF3YWl0IG9rdGFKd3RWZXJpZmllci52ZXJpZnlBY2Nlc3NUb2tlbihhY2Nlc3NUb2tlbik7CgkJaWYgKHJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkgewoJCQluZXh0KCkKCQl9CgkJLy8gcmVzLnJlZGlyZWN0KCcvJyk7CgkJbmV4dCgpOwoJfSBjYXRjaCAoZXJyb3IpIHsKCQluZXh0KGVycm9yLm1lc3NhZ2UpOwoJfQp9KTsKCmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTsKYXBwLnVzZShwYXNzcG9ydC5zZXNzaW9uKCkpOwoKLy8gSW52b2tlIGluc3RhbmNlIHRvIGxpc3RlbiB0byBwb3J0Ci8vIENyZWF0ZSBuZXcgc2VydmVyCnNlcnZlci5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCBmdW5jdGlvbigpewoJY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIuYmx1ZSk7Cgljb25zb2xlLmxvZygiU3R1Y2tXYW5ZYWggc2VydmVyIHJ1bm5pbmcgb24gcG9ydCAlZCIubWFnZW50YSwgYXBwLmdldCgncG9ydCcpKTsKCWNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iLmJsdWUpOwp9KTsKCnZhciBvcHRzID0gewoJdXNlTmV3VXJsUGFyc2VyOiB0cnVlLAoJdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLAoJLy8gYXV0b19yZWNvbm5lY3Q6IHRydWUsCgkvLyBwb29sU2l6ZTogMTAsCgkvLyBzZXJ2ZXI6IHsKCS8vIAlzb2NrZXRPcHRpb25zOiB7IGtlZXBBbGl2ZTogMSB9CgkvLyB9LAoJLy8gZGI6IHsKCS8vIAludW1iZXJPZlJldHJpZXM6IDEwMDAsCgkvLyAJcmV0cnlNaWxpU2Vjb25kczogMTAwMAoJLy8gfQp9OwovLyBtb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7Ci8vIC8vIENyZWF0aW5nIGFuIGluc3RhbmNlIGZvciBNb25nb0RCCi8vIHN3aXRjaChhcHAuZ2V0KCdlbnYnKSkgewovLyAJY2FzZSAnZGV2ZWxvcG1lbnQnOgovLyAJCW1vbmdvb3NlLmNvbm5lY3QoLyprZXlzLm1vbmdvZGIudGVzdERiVVJMKi8ibW9uZ29kYjovL2NocmlzYXVndTpjaGF0bTNAZHMxMTc3MTkubWxhYi5jb206MTc3MTkvc3dlZXRsaXBzZGIiLCBvcHRzKTsKLy8gCQlicmVhazsKLy8gCWNhc2UgJ3Byb2R1Y3Rpb24nOgovLyAJCW1vbmdvb3NlLmNvbm5lY3Qoa2V5cy5tb25nb2RiLm1vbmdvZGJVUkksIG9wdHMpOwovLyAJCWJyZWFrOwovLyAJZGVmYXVsdDoKLy8gCQl0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZXhlY3V0aW9uIGVudmlyb25tZW50OiAnLCBhcHAuZ2V0KCdlbnYnKSk7Ci8vIH0KLy8gbW9uZ29vc2UuY29ubmVjdGlvbi5vbigiY29ubmVjdGVkIiwgZnVuY3Rpb24oKXsKLy8gCWNvbnNvbGUubG9nKGxvZ1N5bWJvbHMuc3VjY2VzcywgIkNvbm5lY3RlZDogU3VjY2Vzc2Z1bGx5IGNvbm5lY3QgdG8gbW9uZ28gc2VydmVyIi5ncmVlbik7Ci8vIAljb25zb2xlLmxvZygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iLmJsdWUpOwovLyB9KTsKLy8gbW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbigpewovLyAJY29uc29sZS5sb2cobG9nU3ltYm9scy5lcnJvciwgIkVycm9yOiBDb3VsZCBub3QgY29ubmVjdCB0byBNb25nb0RCLiBEaWQgeW91IGZvcmdldCB0byBydW4gJ21vbmdvZCc/Ii5yZWQpOwovLyAJY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIi5ibHVlKTsKLy8gfSk7CgovLyBBUEkgbmFtZXNwYWNlCmFwcC51c2UoJy9hcGkvdjEnLCByb3V0ZXIpOwoKLyoqCiAqIFJvdXRlcwogKi8KLy8gU2VydmVyIGluZGV4IHBhZ2UKYXBwLmdldCgiLyIsIC8qc2Vzc2lvbkNoZWNrZXIsKi8gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KXsKCXJlbmRlckluZGV4UGFnZSh7CgkJcGFyYW1zOiByZXEsCgkJc3VjY2VzczogZnVuY3Rpb24ob2JqKXsKCQkJcmVzLnJlbmRlcigiaG9tZS5odG1sIiwgb2JqKTsKCQl9LAoJCWVycm9yOiBmdW5jdGlvbihlcnIpewoJCQljb25zb2xlLmVycm9yKCJFcnJvciBvY2N1cnJlZDogIiwgZXJyKTsKCQl9Cgl9KTsKfSk7CgphcHAuZ2V0KCIvcmF0ZSIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXJhdGVJbWFnZXMoewoJCXBhcmFtczogcmVxLAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKG9iail7CgkJCXJlcy5yZWRpcmVjdCgnLycpOwoJCX0sCgkJZXJyb3I6IGZ1bmN0aW9uKGVycil7CgkJCWNvbnNvbGUuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoaWxlIHJhdGluZzogIiwgZXJyKTsKCQl9Cgl9KTsKfSk7CgphcHAuZ2V0KCIvdGllIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewoJdGllQnJlYWtlcih7CgkJcGFyYW1zOiByZXEsCgkJc3VjY2VzczogZnVuY3Rpb24ob2JqKXsKCQkJcmVzLnJlZGlyZWN0KCcvJyk7CgkJfSwKCQllcnJvcjogZnVuY3Rpb24oZXJyKXsKCQkJbmV4dChlcnIpOwoJCX0KCX0pOwp9KTsKCi8vIGNvbm5lY3QgdG8gZmFjZWJvb2sgcGFnZQphcHAucm91dGUoJy9mb28nKQoJLmdldChmdW5jdGlvbiAocmVxLCByZXMpIHsKCQlyZXMucmVuZGVyKCdjb25uZWN0Lmh0bWwnKTsKCX0pCgkucG9zdChmdW5jdGlvbiAocmVxLCByZXMpIHsKCQl2YXIgc2Vzc2lvbiA9IHJlcS5zZXNzaW9uOwoJCXZhciB1c2VySWQgPSByZXEuYm9keS5wcm9maWxlaWQ7CgkJLy8gUXVlcnkgZGF0YWJhc2Ugd2l0aCB0aGUgdXNlcmlkCgkJLy8gY29uc29sZS5sb2cocmVxLmJvZHkpCgkJUGhvdG9zLmZpbmRPbmUoeyRvcjogW3siaW1hZ2VJZCI6IHVzZXJJZH0seyJmYWNlYm9va0hhbmRsZS5pZHMiOiB1c2VySWR9XX0sIChlcnIsIHVzZXIpID0+IHsKCQkJaWYgKCF1c2VyKSB7CgkJCQkvLyBjcmVhdGUgbmV3IHVzZXIKCQkJCXJlcy5zZW5kKCJ1c2VyIGRvZXMgbm90IGV4aXN0IikKCQkJfSBlbHNlIGlmICh1c2VyKSB7CgkJCQkvLyBBc3NpZ24gdXNlcmlkIHRvIHNlc3Npb24udXNlcl9pZCB2YXJpYWJsZXMKCQkJCXNlc3Npb24udXNlcl9pZCA9IHVzZXJJZDsKCQkJCXJlcy5zZXRIZWFkZXIoJ3VzZXJJZCcsIHNlc3Npb24udXNlcl9pZCk7CgkJCQlyZXMucmVkaXJlY3QoJy9iYXInKTsgLy8gcmVkaXJlY3QgdG8gaG9tZXBhZ2UgLwoJCQl9CgkJfSk7Cgl9KTsKCmFwcC5nZXQoJy9iYXInLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKCXZhciBzZXNzaW9uID0gcmVxLnNlc3Npb247Cgl2YXIgc29tZUF0dHJpYnV0ZSA9IHNlc3Npb24uc29tZUF0dHJpYnV0ZTsKCglzZXNzaW9uLnNvbWVBdHRyaWJ1dGUgPSAiZm9vIjsKCXNlc3Npb24uc2VlbnlvdSA9IHRydWU7CglzZXNzaW9uLnVzZXJfaWQ7CglzZXNzaW9uLmdlbmRlciA9ICJtYWxlIjsKCXNlc3Npb24uYXV0aGVudGljYXRlZCA9IHRydWU7CglzZXNzaW9uLmFjY2Vzc190b2tlbjsKCglpZiAocmVxLnNlc3Npb24udmlld3MpIHsKCQlyZXMud3JpdGUoYDxwPldlbGNvbWUgdXNlcjogJHtzZXNzaW9uLnVzZXJfaWR9IDwvcD5cbmApOwoJCXJlcy53cml0ZSgnPHA+UmV0dXJuaW5nIHdpdGggc29tZSB0ZXh0OiAnICsgc2Vzc2lvbi5zb21lQXR0cmlidXRlICsgJzwvcD4gXG4nKTsKCQlyZXMud3JpdGUoJzxwPnlvdSB2aWV3ZWQgdGhpcyBwYWdlICcgKyByZXEuc2Vzc2lvbi52aWV3c1snL2JhciddICsgJyB0aW1lcyA8L3A+IFxuJyk7CgkJcmVzLndyaXRlKCc8cD5leHBpcmVzIGluOiAnICsgKHNlc3Npb24uY29va2llLm1heEFnZSAvIDEwMDApICsgJ3M8L3A+Jyk7CgkJcmVzLndyaXRlKGA8cD5UaGlzIHdpbGwgcHJpbnQgdGhlIGF0dHJpYnV0ZSBJIHNldCBlYXJsaWVyOiAkeyBzb21lQXR0cmlidXRlIH08L3A+XG5gKTsKCQlyZXMuZW5kKCdkb25lJyk7Cgl9IGVsc2UgewoJCXJlcS5zZXNzaW9uLnZpZXdzID0gMTsKCQlyZXMuZW5kKCd3ZWxjb21lIHRvIHRoZSBzZXNzaW9uIGRlbW8uIHJlZnJlc2ghJyk7Cgl9Cn0pOwoKYXBwLnBvc3QoJy91cGxvYWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkgewoJbGV0IGFnZSA9IHJlcS5ib2R5LmFnZTsKCWxldCBwaG90byA9IHJlcS5ib2R5LnBob3RvOwoJbGV0IGdlbmRlciA9IHJlcS5ib2R5LmdlbmRlcjsKCWxldCBibG9iID0gcmVxLmJvZHkuYmxvYjsKCglpZiAoIShhZ2UgPD0gMTMpICYmIChhZ2UgPiAxMykpIHsKCQl2YXIgbmV3UGhvdG8gPSB7CgkJCWltYWdlSWQ6IE51bWJlcigoTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKS5zbGljZSgyKSksCgkJCWFnZTogYWdlLAoJCQlnZW5kZXI6IGdlbmRlciwKCQkJcGljdHVyZTogYmxvYiwKCQkJcHJvZmlsZVVybDogcGhvdG8KCQl9OwoJCVBob3Rvcy5jcmVhdGUobmV3UGhvdG8sIGZ1bmN0aW9uKGVycm9yLCBzdWNjZXNzKXsKCQkJaWYgKGVycm9yKSBjb25zb2xlLmVycm9yKGVycm9yKTsKCQkJcmVzLnNlbmQoc3VjY2Vzcyk7CgkJfSkKCX0gZWxzZSB7CgkJcmVzLnNlbmQoIjxoMj5Tb3JyeSBhZ2VzIGJlbG93IDEzIGFyZSByZWplY3RlZCBieSBTdHVja1dhbllhaC48L2gyPiIpOwoJfQp9KTsKCi8vIHJlcXVpcmUoJy4vYXBwJykocm91dGVyKTsKLy8gcmVxdWlyZSgnLi9hcGknKShyb3V0ZXIpOwovLyByZXF1aXJlKCcuL2JvdCcpKHJvdXRlcik7Ci8vIHJlcXVpcmUoJy4vcm91dGVzJykocm91dGVyLCBwYXNzcG9ydCk7CgovKioKICogUkVTVCBBUEkgUm91dGVzIEVuZHBvaW50cwogKi8KCi8qKgogKiBHRVQgL2FwaS92MS9waG90b3MKICogRm9yIFN0dWNrV2FuWWFoIEZhY2Vib29rIEluc3RhbnRHYW1lLCBydW5zIG9uIHVzZXIgRmFjZWJvb2sgZmVlZHMKICogUmV0dXJucyAyIHJhbmRvbSBwaG90b3Mgb2YgdGhlIHNhbWUgZ2VuZGVyIHRoYXQgaGF2ZSBub3QgYmVlbiB2b3RlZCB5ZXQuCiAqLwpyb3V0ZXIuZ2V0KCIvcGhvdG9zL3R3b3Bob3RvcyIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXZhciB1aWQgPSByZXEucXVlcnkudWlkOwoJdmFyIHNpZ25hdHVyZSA9IHJlcS5xdWVyeS5zaWduYXR1cmU7Cgl2YXIgZ2VuZGVyID0gcmVxLnF1ZXJ5LmdlbmRlcjsKCgl2YXIgY2hvaWNlcyA9IFsnZmVtYWxlJywgJ21hbGUnXTsKCS8vIHZhciByYW5kb21HZW5kZXIgPSBfLnNhbXBsZShjaG9pY2VzKTsKCXZhciByYW5kb21HZW5kZXI7CgoJaWYgKGdlbmRlcikgewoJCXJhbmRvbUdlbmRlciA9IHNoaW0oZ2VuZGVyKTsKCX0gZWxzZSB7CgkJcmFuZG9tR2VuZGVyID0gXy5maXJzdChfLnNodWZmbGUoY2hvaWNlcykpOwoJfQoKCS8vIHJlcXVlc3QgdHdvIHBob3RvcyB0aGF0IGFyZSBmcmllbmRzIG9mIHRoZSB1aWQKCVBob3Rvcy5maW5kUmFuZG9tKHsKCQlnZW5kZXI6IHJhbmRvbUdlbmRlciwKCQlhZ2U6IHsgJGd0OiAxMyB9Cgl9LCB7fSwgewoJCWxpbWl0OiAyCgl9LCBmdW5jdGlvbihlcnIsIHBob3RvcykgewoKCQkvLyBQaG90b3MKCQkvLyAuZmluZCh7InJhbmRvbSI6IHskbmVhcjogW01hdGgucmFuZG9tKCksIDBdfX0pCgkJLy8gLndoZXJlKCJ2b3RlZCIsIGZhbHNlKQoJCS8vIC53aGVyZSgiZ2VuZGVyIiwgcmFuZG9tR2VuZGVyKQoJCS8vIC5saW1pdCgyKQoJCS8vIC5leGVjKGZ1bmN0aW9uKGVyciwgcGhvdG9zKXsKCQlpZiAoZXJyKQoJCQlyZXR1cm4gbmV4dChlcnIpOwoKCQlpZiAocGhvdG9zLmxlbmd0aCA9PT0gMikgewoJCQlyZXR1cm4gcmVzLnNlbmQocGhvdG9zKTsKCQl9CgoJCXZhciBvcHBvc2l0ZUdlbmRlciA9IF8uZmlyc3QoXy53aXRob3V0KGNob2ljZXMsIHJhbmRvbUdlbmRlcikpOwoKCQlQaG90b3MuZmluZCh7InJhbmRvbSI6IHskbmVhcjogW01hdGgucmFuZG9tKCksIDBdfX0pCgkJCS53aGVyZSgidm90ZWQiLCBmYWxzZSkud2hlcmUoImdlbmRlciIsIG9wcG9zaXRlR2VuZGVyKS5saW1pdCgyKS5leGVjKGZ1bmN0aW9uKGVyciwgcGhvdG9zKXsKCQkJaWYgKGVycikKCQkJCXJldHVybiBuZXh0KGVycik7CgoJCQlpZiAocGhvdG9zLmxlbmd0aCA9PT0gMikKCQkJCXJldHVybiByZXMuc2VuZChwaG90b3MpOwoKCQkJUGhvdG9zLnVwZGF0ZSh7fSwgewoJCQkJJHNldDogewoJCQkJCXZvdGVkOiBmYWxzZQoJCQkJfQoJCQl9LCB7CgkJCQltdWx0aTogdHJ1ZQoJCQl9LCBmdW5jdGlvbihlcnIpewoJCQkJaWYgKGVycikKCQkJCQlyZXR1cm4gbmV4dChlcnIpOwoJCQkJcmVzLnNlbmQoW10pOwoJCQl9KTsKCQl9KTsKCX0pOwp9KTsKCgovKioKICogUFVUIC9hcGkvdjEvcGhvdG9zCiAqIFVwZGF0ZSB3aW5uaW5nIGFuZCBsb3NpbmcgY291bnQgZm9yIGJvdGggcGhvdG9zLgogKi8Kcm91dGVyLnB1dCgnL3Bob3RvcycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXZhciB3aW5uZXIgPSByZXEuYm9keS53aW5uZXI7Cgl2YXIgbG9zZXIgPSByZXEuYm9keS5sb3NlcjsKCglpZiAoIXdpbm5lciB8fCAhbG9zZXIpIHsKCQlyZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnVm90aW5nIHJlcXVpcmVzIHR3byBwaG90b3MuJyB9KTsKCX0KCWlmICh3aW5uZXIgPT09IGxvc2VyKSB7CgkJcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgbWVzc2FnZTogJ0Nhbm5vdCB2b3RlIGZvciBhbmQgYWdhaW5zdCB0aGUgc2FtZSBwaG90by4nIH0pOwoJfQoKCWFzeW5jLnBhcmFsbGVsKFsKCQkJZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJUGhvdG9zLmZpbmRPbmUoewoJCQkJCWltYWdlSWQ6IHdpbm5lcgoJCQkJfSwgZnVuY3Rpb24oZXJyLCB3aW5uZXIpewoJCQkJCWNhbGxiYWNrKGVyciwgd2lubmVyKTsKCQkJCX0pOwoJCQl9LAoJCQlmdW5jdGlvbihjYWxsYmFjayl7CgkJCQlQaG90b3MuZmluZE9uZSh7CgkJCQkJaW1hZ2VJZDogbG9zZXIKCQkJCX0sIGZ1bmN0aW9uKGVyciwgbG9zZXIpewoJCQkJCWNhbGxiYWNrKGVyciwgbG9zZXIpOwoJCQkJfSk7CgkJCX0KCQldLAoJCWZ1bmN0aW9uKGVyciwgcmVzdWx0cyl7CgkJCWlmIChlcnIpIHJldHVybiBuZXh0KGVycik7CgoJCQl2YXIgd2lubmVyID0gcmVzdWx0c1swXTsKCQkJdmFyIGxvc2VyID0gcmVzdWx0c1sxXTsKCQkJdmFyIHJhdGluZzsKCgkJCXJhdGluZyA9IGdldFJhdGluZyh3aW5uZXIsIGxvc2VyKTsKCgkJCWlmICghd2lubmVyIHx8ICFsb3NlcikgewoJCQkJcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09uZSBvZiB0aGUgcGhvdG9zIG5vIGxvbmdlciBleGlzdHMuJyB9KTsKCQkJfQoKCQkJaWYgKHdpbm5lci52b3RlZCB8fCBsb3Nlci52b3RlZCkgewoJCQkJcmVzLnN0YXR1cygyMDApLmVuZCgpOwoJCQl9CgoJCQlhc3luYy5wYXJhbGxlbChbCgkJCQlmdW5jdGlvbihjYWxsYmFjayl7CgkJCQkJd2lubmVyLndpbnMrKzsKCQkJCQl3aW5uZXIudm90ZWQgPSB0cnVlOwoJCQkJCXdpbm5lci5yYXRpbmdzID0gcmF0aW5nLndpbm5lcjsKCQkJCQl3aW5uZXIucmFuZG9tID0gW01hdGgucmFuZG9tKCksIDBdOwoJCQkJCXdpbm5lci5zYXZlKGZ1bmN0aW9uKGVycil7CgkJCQkJCWNhbGxiYWNrKGVycik7CgkJCQkJfSk7CgkJCQl9LAoJCQkJZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJCWxvc2VyLmxvc3NlcysrOwoJCQkJCWxvc2VyLnZvdGVkID0gdHJ1ZTsKCQkJCQlsb3Nlci5yYXRpbmdzID0gcmF0aW5nLmxvc2VyOwoJCQkJCWxvc2VyLnJhbmRvbSA9IFtNYXRoLnJhbmRvbSgpLCAwXTsKCQkJCQlsb3Nlci5zYXZlKGZ1bmN0aW9uKGVycil7CgkJCQkJCWNhbGxiYWNrKGVycik7CgkJCQkJfSk7CgkJCQl9CgkJCV0sIGZ1bmN0aW9uKGVycil7CgkJCQlpZiAoZXJyKSB7CgkJCQkJcmV0dXJuIG5leHQoZXJyKTsKCQkJCX0KCQkJCXJlcy5zdGF0dXMoMjAwKS5lbmQoKTsKCQkJfSk7CgkJfSk7Cn0pOwoKLyoqCiAqIEdFVCAvYXBpL3YxL3Bob3Rvcy90b3A/cmFjZT1jYWxkYXJpJmJsb29kbGluZT1jaXZpcmUmZ2VuZGVyPW1hbGUKICogUmV0dXJuIDEwIGhpZ2hlc3QgcmFua2VkIHBob3Rvcy4gRmlsdGVyIGJ5IGdlbmRlcgogKi8Kcm91dGVyLmdldCgnL3Bob3Rvcy90b3AnLCAvKnNlc3Npb25DaGVja2VyLCovIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCWNvbnNvbGUubG9nKCc1NDU6ICcgKyByZXEucXVlcnkpOwoKCXRvcFRlblJhdGluZ3MoewoJCXBhcmFtczogcmVxLAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKG9iail7CgkJCXJlcy5sb2NhbHMudG9wVGVuID0gb2JqOwoJCQlyZXMuc2VuZChvYmopOwoJCX0KCX0pOwp9KTsKCi8qKgogKiBHRVQgL2FwaS92MS9waG90b3MvdG9wL3NoYXJlCiAqIFNoYXJlIHRoZSB0b3AgMTAgaGlnaGVzdCByYW5rZWQgcGhvdG9zIG9uIEZhY2Vib29rCiAqLwpyb3V0ZXIuZ2V0KCcvcGhvdG9zL3RvcC9zaGFyZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXZhciB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VyX2lkOwoKCXZhciBjb250ZW50ID0gewoJCXNlbmRlcjogdXNlcklkLAoJCWNhcHRpb246ICIiLAoJCXVybDogIiIKCX07CgoJcHVibGlzaFRvcFRlbkhvdHRlc3RQaG90b3MoY29udGVudCk7Cn0pOwoKcm91dGVyLmdldCgnL3Bob3Rvcy9ob3R0ZXN0JywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7Cgl2YXIgZ2VuZGVyID0gc2hpbShyZXEuc2Vzc2lvbi5nZW5kZXIpOwoKCVBob3Rvcy5maW5kKHt9KQoJCS5zb3J0KHsncmF0aW5ncyc6IC0xfSkKCQkud2hlcmUoeyJnZW5kZXIiOiBnZW5kZXJ9KQoJCS5saW1pdCgxKQoJCS5leGVjKGZ1bmN0aW9uKGVyciwgcmVzdWx0KXsKCQkJaWYgKGVycikgcmVzLnNlbmQoZXJyKTsKCQkJcmVzLmpzb24ocmVzdWx0KTsKCQl9KTsKfSk7Cgpyb3V0ZXIuZ2V0KCcvcGhvdG9zL21lL2Jsb2NrJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7Cgl2YXIgdXNlcklkID0gcmVxLnNlc3Npb24udXNlcl9pZDsgLy9yZXEucXVlcnkudXNlcklkOwoJcHJvY2Vzc0Jsb2NrVW5ibG9jayh1c2VySWQpOwp9KTsKCi8vIGRpc3BsYXkgbXkgcHJvZmlsZQpyb3V0ZXIuZ2V0KCcvcGhvdG9zL21lJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7Cgl2YXIgdXNlcklkID0gcmVxLnNlc3Npb24udXNlcl9pZDsKCVBob3Rvcy5maW5kT25lKHtpbWFnZUlkOiB1c2VySWR9KS50aGVuKCh1c2VyKSA9PiB7CgkJaWYgKCF1c2VyKSBjb25zb2xlLmxvZygndXNlciBub3QgZm91bmQnKTsKCQlyZXMuanNvbih1c2VyKTsKCX0pOwp9KTsKCi8vIGxpc3QgYWxsIG15IGZhY2Vib29rIGZyaWVuZHMgcGxheWluZyBzdHVja3dhbnlhaApyb3V0ZXIuZ2V0KCcvcGhvdG9zL21lL2ZyaWVuZHMnLCAvKnNlc3Npb25DaGVja2VyLCovIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXZhciB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VyX2lkOwoJUGhvdG9zCgkJLmZpbmQoeyJpbWFnZUlkIjogdXNlcklkfSkKCQkubGVhbigpCgkJLnBvcHVsYXRlKCdmcmllbmRzJykKCQkvLyAuc2VsZWN0KFsnaW1hZ2VJZCddKQoJCS5leGVjKGZ1bmN0aW9uKGVyciwgZnJpZW5kc2xpc3QpIHsKCQkJaWYgKCFlcnIpIHsKCQkJCXJlcy5qc29uKF8udW5pcShmcmllbmRzbGlzdFswXS5mcmllbmRzKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gbmV3IEVycm9yKGVycik7CgkJCX0KCQl9KTsKfSk7Ci8vIHJ1biBhbiBhZ2dyZWdhdGUgcXVlcnkgdGhhdCBnZXRzIGFsbCB0aGUgcGhvdG9zIEkgdm90ZWQgZm9yLgpyb3V0ZXIuZ2V0KCcvcGhvdG9zL21lL3dob0l2b3RlJywgZnVuY3Rpb24ocmVxLCByZXMpIHsKCVBob3Rvcy5hZ2dyZWdhdGUoCgkJeyRwcm9qZWN0OiB7aW1hZ2VJZDogMSwgdm90ZWRfYnk6IDF9fSwKCQl7JHVud2luZDogJyR2b3RlZF9ieSd9LAoJCXskZ3JvdXA6IHsKCQkJCV9pZDogJyR2b3RlZF9ieScsCgkJCQl2b3RlczogeyRhZGRUb1NldDogJyRpbWFnZUlkJ30KCQkJfX0sIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7CgkJCWlmIChlcnIpIHRocm93IGVycjsKCQkJcmVzLnNlbmQocmVzdWx0KQoJCX0pOwp9KTsKLy8gcnVuIGFuIGFnZ3JlZ2F0ZSBxdWVyeSB0aGF0IGdldHMgYWxsIHRoZSBwaG90b3MgdGhhdCB2b3RlZCBtZS4Kcm91dGVyLmdldCgnL3Bob3Rvcy9tZS93aG92b3RlbWUnLCBmdW5jdGlvbihyZXEsIHJlcykgewoJUGhvdG9zLmFnZ3JlZ2F0ZSgKCQl7JHByb2plY3Q6IHtpbWFnZUlkOiAxLCB2b3RlZF9ieTogMX19LAoJCXskdW53aW5kOiAnJHZvdGVkX2J5J30sCgkJeyRncm91cDogewoJCQkJX2lkOiAnJHZvdGVkX2J5JywKCQkJCXZvdGVzOiB7JGFkZFRvU2V0OiAnJGltYWdlSWQnfQoJCQl9fSwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHsKCQkJaWYgKGVycikgdGhyb3cgZXJyOwoJCQlyZXMuc2VuZChyZXN1bHQpCgkJfSk7Cn0pOwovLyBwb3B1bGF0ZSBteSBmYWNlYm9vayBmcmllbmRzIGxpc3Qgd2l0aCBuYW1lcwpyb3V0ZXIuZ2V0KCcvcGhvdG9zL21lL2ZyaWVuZHMvcG9wdWxhdGUnLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKCXZhciB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VyX2lkOwoJLy9wb3B1bGF0ZUZyaWVuZHNMaXN0KCcxMDAwMDQxNzcyNzgxNjknKTsKCVBob3Rvcy5maW5kKHt9LCBmdW5jdGlvbihlcnIsIGZyaWVuZHNsaXN0KSB7CgkJaWYgKGZyaWVuZHNsaXN0KSB7CgkJCVBob3Rvcy5maW5kT25lKHtpbWFnZUlkOiB1c2VySWR9KS50aGVuKCh1c2VyKSA9PiB7CgkJCQlpZiAoIXVzZXIpIGNvbnNvbGUubG9nKCd1c2VyIG5vdCBmb3VuZCcpOwoJCQkJZWxzZSB7CgkJCQkJdmFyIGk7CgkJCQkJZm9yIChpID0gMDsgaSA8IGZyaWVuZHNsaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCQkJCWlmIChmcmllbmRzbGlzdFtpXS5pZCA9PT0gdXNlci5pZCkgewoJCQkJCQkJY29uc29sZS5sb2coImNhbid0IGFkZCB5b3Vyc2VsZiB0byB5b3VyIGxpc3QiKTsKCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCS8vdXNlci5mYWNlYm9va0ZyaWVuZHMuZXZlcnkoZnVuY3Rpb24oaXRlbSl7CgkJCQkJCS8vCWNvbnNvbGUubG9nKGl0ZW0gPT0gZnJpZW5kc2xpc3RbaV0uaWQpCgkJCQkJCS8vCS8vY29uc29sZS5sb2coImNhbid0IGFkZCBzYW1lIHBlcnNvbiBtdWx0aXBsZSB0aW1lcyIpOwoJCQkJCQkvL30pCgkJCQkJCXVzZXIuZnJpZW5kcy5wdXNoKHsKCQkJCQkJCV9pZDogZnJpZW5kc2xpc3RbaV0uaWQsCgkJCQkJCQlmYWNlYm9va0hhbmRsZToge2lkOiBmcmllbmRzbGlzdFtpXS5pbWFnZUlkfQoJCQkJCQl9KTsKCQkJCQl9OwoJCQkJCXVzZXIuc2F2ZShmdW5jdGlvbiAoZXJyb3IsIHNhdmVkUHJvZmlsZSkgewoJCQkJCQlpZiAoZXJyb3IpIGNvbnNvbGUubG9nKGVycm9yKTsKCQkJCQkJZWxzZSBjb25zb2xlLmxvZygnZnJpZW5kcyBsaXN0IHVwZGF0ZWQnKTsKCQkJCQl9KTsKCQkJCX0KCQkJfSk7CgkJfQoJfSk7Cn0pOwoKLyoqCiAqIEdFVCAvYXBpL3YxL3N0YXRzCiAqIEdFVCAvYXBpL3YxL3Bob3Rvcy9jb3VudAogKiBEaXNwbGF5IERhdGFiYXNlIHN0YXRpc3RpY3MKICogUmV0dXJucyB0aGUgdG90YWwgIyBvZiBwaG90b3MgaW4gdGhlIERhdGFiYXNlCiAqIHRvdGFsIHBob3RvcwogKi8Kcm91dGVyLmdldCgnL3N0YXRzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewoJYXN5bmMucGFyYWxsZWwoWwoJCQlmdW5jdGlvbihjYWxsYmFjayl7CgkJCQlQaG90b3MuY291bnQoe30sIGZ1bmN0aW9uKGVyciwgY291bnQpewoJCQkJCWNhbGxiYWNrKGVyciwgY291bnQpOwoJCQkJfSk7CgkJCX0sCgkJCWZ1bmN0aW9uKGNhbGxiYWNrKXsKCQkJCS8vIHRvdGFsIGZlbWFsZXMKCQkJCVBob3Rvcy5jb3VudCh7Z2VuZGVyOiAiZmVtYWxlIn0sIGZ1bmN0aW9uKGVyciwgZmVtYWxlQ291bnQpewoJCQkJCWNhbGxiYWNrKGVyciwgZmVtYWxlQ291bnQpOwoJCQkJfSk7CgkJCX0sCgkJCWZ1bmN0aW9uKGNhbGxiYWNrKXsKCQkJCS8vIHRvdGFsIG1hbGVzCgkJCQlQaG90b3MuY291bnQoe2dlbmRlcjoibWFsZSJ9LCBmdW5jdGlvbihlcnIsIG1hbGVDb3VudCl7CgkJCQkJY2FsbGJhY2soZXJyLCBtYWxlQ291bnQpOwoJCQkJfSk7CgkJCX0sCgkJCWZ1bmN0aW9uKGNhbGxiYWNrKXsKCQkJCS8vIHRvdGFsIHZvdGVzIGNhc3QKCQkJCVBob3Rvcy5hZ2dyZWdhdGUoCgkJCQkJeyRncm91cDoge19pZDogbnVsbCwgdG90YWw6IHskc3VtOiAnJHdpbnMnIH19fSwKCQkJCQlmdW5jdGlvbihlcnIsIHdpbnNDb3VudCl7CgkJCQkJCWNhbGxiYWNrKGVyciwgd2luc0NvdW50WzBdLnRvdGFsKTsKCQkJCQl9CgkJCQkpCgkJCX0sCgkJCWZ1bmN0aW9uKGNhbGxiYWNrKXsKCQkJCS8vIHRvdGFsIHBhZ2UgaGl0cwoJCQkJSGl0cy5hZ2dyZWdhdGUoCgkJCQkJeyAkZ3JvdXA6IHtfaWQ6IG51bGwsIHRvdGFsOiB7ICRzdW06ICckaGl0cycgfSB9IH0sCgkJCQkJZnVuY3Rpb24oZXJyLCBwYWdlSGl0cyl7CgkJCQkJCXZhciBwYWdlSGl0cyA9IHBhZ2VIaXRzLmxlbmd0aCA/IHBhZ2VIaXRzWzBdLnRvdGFsIDogMDsKCQkJCQkJY2FsbGJhY2soZXJyLCBwYWdlSGl0cyk7CgkJCQkJfQoJCQkJKQoJCQl9LAoJCQlmdW5jdGlvbihjYWxsYmFjayl7CgkJCQkvLyB0b3RhbCBibG9ja2VkIHBob3RvcwoJCQkJUGhvdG9zLmNvdW50KHsnaXNfYmxvY2tlZCc6dHJ1ZX0sIGZ1bmN0aW9uKGVyciwgYmxvY2tlZCl7CgkJCQkJY2FsbGJhY2soZXJyLCBibG9ja2VkKTsKCQkJCX0pOwoJCQl9LAoJCQlmdW5jdGlvbihjYWxsYmFjayl7CgkJCQkvLyB0b3RhbCBudW1iZXIgb2YgdmlzaXRvcnMgcGVyIG1vbnRoCgkJCQlIaXRzLmNvdW50KCdtb250aGx5JywgZnVuY3Rpb24oZXJyLCB2aXNpdG9ycykgewoJCQkJCWNhbGxiYWNrKGVyciwgdmlzaXRvcnMpOwoJCQkJfSk7CgkJCX0KCQldLAoJCWZ1bmN0aW9uKGVyciwgcmVzdWx0cyl7CgkJCWlmIChlcnIpIHJldHVybiBuZXh0KGVycik7CgkJCXZhciB0b3RhbENvdW50ID0gcmVzdWx0c1swXTsKCQkJdmFyIGZlbWFsZUNvdW50ID0gcmVzdWx0c1sxXTsKCQkJdmFyIG1hbGVDb3VudCA9IHJlc3VsdHNbMl07CgkJCXZhciB0b3RhbFZvdGVzID0gcmVzdWx0c1szXTsKCQkJdmFyIHBhZ2VIaXRzID0gcmVzdWx0c1s0XTsKCQkJdmFyIGJsb2NrZWRQaG90b3MgPSByZXN1bHRzWzVdOwoJCQl2YXIgdG90YWxWaXNpdG9ycyA9IHJlc3VsdHNbNl07CgoJCQlyZXMuc2VuZCh7CgkJCQl0b3RhbFBsYXllckNvdW50OiB0b3RhbENvdW50LAoJCQkJZmVtYWxlUGxheWVyQ291bnQ6IGZlbWFsZUNvdW50LAoJCQkJbWFsZVBsYXllckNvdW50OiBtYWxlQ291bnQsCgkJCQlibG9ja2VkUGhvdG9zOiBibG9ja2VkUGhvdG9zLAoJCQkJdG90YWxWb3RlczogdG90YWxWb3RlcywKCQkJCXRvdGFsUGFnZUhpdHM6IHBhZ2VIaXRzLAoJCQkJdG90YWxWaXNpdG9yczogdG90YWxWaXNpdG9ycwoJCQl9KTsKCQl9KTsKfSk7CgovKioKICogUFVUIC9hcGkvdjEvaGl0cwogKiBVcGRhdGUgc2l0ZSBoaXRzCiAqLwpyb3V0ZXIucHV0KCIvaGl0cyIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXByb2Nlc3NQYWdlSGl0cyh7CgkJcGFyYW1zOiByZXEsCgkJc3VjY2VzczogZnVuY3Rpb24ob2JqKXsKCQkJcmVzLnNlbmQob2JqKTsKCQl9LAoJCWVycm9yOiBmdW5jdGlvbihlcnIpewoJCQljb25zb2xlLmVycm9yKCJFcnJvciBvY2N1cnJlZDogIiwgZXJyKTsKCQl9Cgl9KTsKfSk7CgovKioKICogR0VUIC9hcGkvdjEvYXV0aAogKiBBZnRlciBsb2FkaW5nIGhhcyBmaW5pc2hlZCwgc2hvdyBkaWFsb2cgYXNraW5nIGZvciB1c2VyIGdlbmRlci4gR2VuZGVyIGlzIHNlbnQgYWxvbmcgd2l0aCB1aWQgYW5kIHNpZ25hdHVyZSB0byBzZXJ2ZXIKICogU2VydmVyIGtlZXBzIHN0YXRlbGVzcyBzZXNzaW9uIHVzaW5nIHVpZCwgaWRlbnRpZmllcyByZXF1ZXN0IHVzaW5nIHNpZ25hdHVyZSBhbmQgbWFrZSBtYXRjaGVzIHVzaW5nIGdlbmRlci4KICovCnJvdXRlci5nZXQoIi9hdXRoIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewoJdmFyIHVpZCA9IHJlcS5xdWVyeS51aWQ7Cgl2YXIgc2lnbmVkUmVxdWVzdCA9IC8qcmVxLnF1ZXJ5LnNpZ25hdHVyZTsgKi8gInVYU1J5OUw5NzRUc3NMaXFHVzQ0Q0p3ZWRpRTZodjF2eHhQSmV1LUhfdm8uZXlKMWMyVnlYMmxrSWpvaU9UVTBNamM1TWpVeE16ZzNPVGMxSWl3aVkyOWtaU0k2SWtGUlFXMXZORXBzTmtoR2NFNVZOemgxVmswd2QwUlZOWEY2Ym1SaVZtRjFWREZEVjAxTmFHMUdVWFpNVjI1cmVGaGtaRGxvUTBwc1FXcEtWRmgxTmxkS1VFaHdlWGRRZEZKbFoxWk1hbU5IU25vNFJrNVNkUzFrTkZoR1lrZG1RakJ0T1daTU5qVk1USEoyTFV4NVdscFZURkJyUkc5RllUUlpiRGcwU0dNeU5GZG9ORXczTkd0Q2QzUlpkVkpVY3psSk15MXZVbHA1WjFSQmVYcElUMWs0YVVGU1kzZzBUVnBOUW5wSk5IcHhNVTlUTTE5d1NFNXRaVXR4YkVkS2RWb3lhVGN4Y1d3d1NIQlRPVXA2VFdRemNtMXFSR1pHTlhWRVlWUkxiMDFwY1dVelZFTXdPSGhNUmpsTk5IcDFja2RNTkZRMlZFaGhUbWRJVlc5NWJYSjJXV2xxWVd4NE56aHJjbmw0YTNkeWNuRTJNV2RZZDNCVlNVVnpWRFJ4VlZKaVowVmpNV2h6VmpOS1NHVm5SM0JhYlVzNWRqSkxaR0k0Ykc1SmR6QTRRWFpwV2podVpqVXdPVVJuWkhwc1VXeEhTVVZ1WjFKZlRHMW5VRTFWVm1wdUxXSkJkMkphUkVrMk9EUlFaeUlzSW1Gc1oyOXlhWFJvYlNJNklraE5RVU10VTBoQk1qVTJJaXdpYVhOemRXVmtYMkYwSWpveE5UVTBNVFF5T1RFeWZRIjsKCgkvLyBWZXJpZnkgdGhhdCB0aGUgcmVxdWVzdHMgaXMgaW5kZWVkIGNvbWluZyBmcm9tIEZhY2Vib29rCgl2YXIgZmlyc3RwYXJ0ID0gc2lnbmVkUmVxdWVzdC5zcGxpdCgnLicpWzBdOwoJZmlyc3RwYXJ0ID0gZmlyc3RwYXJ0LnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7Cgljb25zdCBzaWduYXR1cmUgPSBDcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKGZpcnN0cGFydCkudG9TdHJpbmcoKTsKCWNvbnN0IGRhdGFIYXNoID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihzaWduZWRSZXF1ZXN0LnNwbGl0KCcuJylbMV0sIGtleXMuZmFjZWJvb2suYXBwU2VjcmV0KS50b1N0cmluZygpOwoJdmFyIGlzVmFsaWQgPSBzaWduYXR1cmUgPT09IGRhdGFIYXNoOwoKCWNvbnN0IGpzb24gPSBDcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKHNpZ25lZFJlcXVlc3Quc3BsaXQoJy4nKVsxXSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpOwoJY29uc3QgZW5jb2RlZERhdGEgPSBKU09OLnBhcnNlKGpzb24pOwoKCWNvbnNvbGUubG9nKGVuY29kZWREYXRhKQoKCS8vIEV4YW1wbGUgZW5jb2RlZERhdGE6CgkvLyB7CgkvLyAgIGFsZ29yaXRobTogJ0hNQUMtU0hBMjU2JywKCS8vICAgaXNzdWVkX2F0OiAxNTU1MTU2OTg3LAoJLy8gICBwbGF5ZXJfaWQ6ICcyMTAyNjI0OTczMTgzNDc3JywKCS8vICAgcmVxdWVzdF9wYXlsb2FkOiAnbXlfcGF5bG9hZCcKCS8vICB9CgoJUGhvdG9zLmZpbmRPbmUoeyRvcjogW3siaW1hZ2VJZCI6IHVpZH0seyJmYWNlYm9va0hhbmRsZS5pZHMiOiB1aWR9XX0sIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpewoJCS8vIGlmIHVzZXIgaWQgbm90IGZvdW5kIGNyZWF0ZSB1c2VyCgkJaWYgKCFyZXN1bHQgfHwgcmVzdWx0ID09PSBudWxsKSB7CgoJCQkvLyBjcmVhdGUgbmV3IHVzZXIKCQkJcmVzLnNlbmQoInVzZXIgbm90IGV4aXN0cyIpCgkJCS8vIFF1ZXJ5IGRhdGFiYXNlIGZvciB1c2VyIHVzaW5nIHRoZSBzdHVja3dhbnlhaCBhbGdvcml0aG0KCQkJLy8gY2hlY2tVc2VyRXhpc3RhbmNlKGVuY29kZWREYXRhLnVzZXJfaWQgfHwgZW5jb2RlZERhdGEucGxheWVyX2lkKTsKCgkJCWNvbnNvbGUubG9nKCJjcmVhdGluZyB1c2VyIik7CgkJCXZhciBuZXdQaG90byA9IHsKCQkJCWltYWdlSWQ6IHVpZCwKCQkJCWZhY2Vib29rSGFuZGxlOiB7CgkJCQkJaWRzOiBbdWlkXQoJCQkJfQoJCQl9OwoJCQlQaG90b3MuY3JlYXRlKG5ld1Bob3RvLCBmdW5jdGlvbihlcnJvciwgc3VjY2Vzcyl7CgkJCQlpZiAoZXJyb3IpIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwoJCQkJUGhvdG9zLmZpbmRPbmUoeyRvcjogWwoJCQkJCQl7ImltYWdlSWQiOiB1aWR9LAoJCQkJCQl7ImZhY2Vib29rSGFuZGxlLmlkcyI6IHVpZH0KCQkJCQldfSkuZXhlYygpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXsKCQkJCQlyZXMuc2VuZChyZXN1bHQpOwoJCQkJfSk7CgkJCX0pOwoJCX0gZWxzZSBpZiAocmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdC5sZW5ndGggIT09IDApIHsKCQkJLy8gU2F2ZXMgdXNlciB1aWQsIGdlbmRlciB0byBzZXNzaW9uCgkJCS8vIEFzc2lnbiB1c2VyaWQgdG8gc2Vzc2lvbi51c2VyX2lkIHZhcmlhYmxlcwoJCQlyZXEuc2Vzc2lvbi5nZW5kZXIgPSByZXN1bHQuZ2VuZGVyOwoJCQlyZXEuc2Vzc2lvbi51c2VyX2lkID0gdWlkOwoJCQlyZXMuc3RhdHVzKDIwMCkuanNvbih7CgkJCQlpZ2lkOiB1aWQsCgkJCQlpbWFnZUlkOiByZXN1bHQuaW1hZ2VJZCwKCQkJCWdlbmRlcjogcmVzdWx0LmdlbmRlcgoJCQl9KTsKCQl9Cgl9KTsKfSk7CgovKioKICogUE9TVCAvYXBpL3YxL2F1dGgKICogTG9naW4gd2l0aCBmYWNlYm9vayBpbiBvcmRlciB0byB1c2UgdXNlcidzIHBpY3R1cmVzLCBmcmllbmRzIGxpc3QsIGV0Yy4uLgogKi8KLy8gewovLyAJYWNjZXNzVG9rZW46ICJFQUFaQWREaTdmTXo4QkFGVjNxYmF6djE2eG12ZFpDd0lqU21jSVZGdUFaQ3NpemR0V+KApjFNeW5GQmpSSzExSWVzS3JhUFRUdUI1RW5wSjJXMWVGRzBEdHNaQTRlRVZ4Z1pEWkQiLCAKLy8gCXVzZXJJRDogIjk1NDI3OTI1MTM4Nzk3NSIsIAovLyAJZXhwaXJlc0luOiA1ODY5LCAKLy8gCXNpZ25lZFJlcXVlc3Q6ICJEMDBGRkgzVldic25adElpV3BNdnBFdFJmUm56bWRmRm1ZS0FvX3BwLVZnLmV5SmpiMuKApmlTRTFCUXkxVFNFRXlOVFlpTENKcGMzTjFaV1JmWVhRaU9qRTFOVFF6T1RnMU16RjkiCi8vIH0Kcm91dGVyLnBvc3QoJy9hdXRoJywgZnVuY3Rpb24ocmVxLCByZXMpIHsKCXZhciBzZXNzaW9uID0gcmVxLnNlc3Npb247Cgl2YXIgYWNjZXNzVG9rZW4gPSByZXEuYm9keS5hY2Nlc3NUb2tlbjsKCXZhciB1c2VySWQgPSByZXEuYm9keS51c2VySUQ7Cgl2YXIgZXhwaXJlcyA9IHJlcS5ib2R5LmV4cGlyZXNJbjsKCXZhciBzaWduZWRSZXF1ZXN0ID0gLypyZXEuYm9keS5zaWduZWRSZXF1ZXN0Ki8gInVYU1J5OUw5NzRUc3NMaXFHVzQ0Q0p3ZWRpRTZodjF2eHhQSmV1LUhfdm8uZXlKMWMyVnlYMmxrSWpvaU9UVTBNamM1TWpVeE16ZzNPVGMxSWl3aVkyOWtaU0k2SWtGUlFXMXZORXBzTmtoR2NFNVZOemgxVmswd2QwUlZOWEY2Ym1SaVZtRjFWREZEVjAxTmFHMUdVWFpNVjI1cmVGaGtaRGxvUTBwc1FXcEtWRmgxTmxkS1VFaHdlWGRRZEZKbFoxWk1hbU5IU25vNFJrNVNkUzFrTkZoR1lrZG1RakJ0T1daTU5qVk1USEoyTFV4NVdscFZURkJyUkc5RllUUlpiRGcwU0dNeU5GZG9ORXczTkd0Q2QzUlpkVkpVY3psSk15MXZVbHA1WjFSQmVYcElUMWs0YVVGU1kzZzBUVnBOUW5wSk5IcHhNVTlUTTE5d1NFNXRaVXR4YkVkS2RWb3lhVGN4Y1d3d1NIQlRPVXA2VFdRemNtMXFSR1pHTlhWRVlWUkxiMDFwY1dVelZFTXdPSGhNUmpsTk5IcDFja2RNTkZRMlZFaGhUbWRJVlc5NWJYSjJXV2xxWVd4NE56aHJjbmw0YTNkeWNuRTJNV2RZZDNCVlNVVnpWRFJ4VlZKaVowVmpNV2h6VmpOS1NHVm5SM0JhYlVzNWRqSkxaR0k0Ykc1SmR6QTRRWFpwV2podVpqVXdPVVJuWkhwc1VXeEhTVVZ1WjFKZlRHMW5VRTFWVm1wdUxXSkJkMkphUkVrMk9EUlFaeUlzSW1Gc1oyOXlhWFJvYlNJNklraE5RVU10VTBoQk1qVTJJaXdpYVhOemRXVmtYMkYwSWpveE5UVTBNVFF5T1RFeWZRIjsKCgkvLyBWZXJpZnkgdGhhdCB0aGUgcmVxdWVzdHMgaXMgaW5kZWVkIGNvbWluZyBmcm9tIEZhY2Vib29rCgl2YXIgZmlyc3RwYXJ0ID0gc2lnbmVkUmVxdWVzdC5zcGxpdCgnLicpWzBdOwoJZmlyc3RwYXJ0ID0gZmlyc3RwYXJ0LnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7Cgljb25zdCBzaWduYXR1cmUgPSBDcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKGZpcnN0cGFydCkudG9TdHJpbmcoKTsKCWNvbnN0IGRhdGFIYXNoID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihzaWduZWRSZXF1ZXN0LnNwbGl0KCcuJylbMV0sIGtleXMuZmFjZWJvb2suYXBwU2VjcmV0KS50b1N0cmluZygpOwoJdmFyIGlzVmFsaWQgPSBzaWduYXR1cmUgPT09IGRhdGFIYXNoOwoKCWNvbnN0IGpzb24gPSBDcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKHNpZ25lZFJlcXVlc3Quc3BsaXQoJy4nKVsxXSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpOwoJY29uc3QgZW5jb2RlZERhdGEgPSBKU09OLnBhcnNlKGpzb24pOwoJLy8gY29uc29sZS5sb2coZW5jb2RlZERhdGEpCgoJLy8gUXVlcnkgZGF0YWJhc2UgZm9yIHVzZXIgdXNpbmcgdGhlIHN0dWNrd2FueWFoIGFsZ29yaXRobQoJLy8gY2hlY2tVc2VyRXhpc3RhbmNlKHVzZXJJZCk7CgkvLyBRdWVyeSBkYXRhYmFzZSB3aXRoIHRoZSB1c2VyaWQKCVBob3Rvcy5maW5kT25lKHskb3I6IFt7ImltYWdlSWQiOiB1c2VySWR9LHsiZmFjZWJvb2tIYW5kbGUuaWRzIjogdXNlcklkfV19LCAoZXJyLCB1c2VyKSA9PiB7CgkJaWYgKCF1c2VyKSB7CgkJCS8vIGNyZWF0ZSBuZXcgdXNlcgoJCQlyZXMuc2VuZFN0YXR1cygyMDApCgkJfSBlbHNlIGlmICh1c2VyKSB7CgkJCS8vIEFzc2lnbiB1c2VyaWQgdG8gc2Vzc2lvbi51c2VyX2lkIHZhcmlhYmxlcwoJCQlzZXNzaW9uLnVzZXJfaWQgPSB1c2VySWQ7CgkJCXJlcy5zZXRIZWFkZXIoJ3VzZXJJZCcsIHNlc3Npb24udXNlcl9pZCk7CgkJCXJlcy5zZW5kU3RhdHVzKDIwMCk7CgkJfQoJfSk7CgoJLy8gUGhvdG9zLmZpbmRPbmUoeyRvcjogWwoJLy8gCXsiaW1hZ2VJZCI6IHVpZH0sCgkvLyAJeyJmYWNlYm9va0hhbmRsZS5pZHMiOiB1aWR9CgkvLyBdfSkKCS8vIC5leGVjKCkKCS8vIC50aGVuKGZ1bmN0aW9uKHVzZXIpewoJLy8gCS8vIGlmIHVzZXIgaWQgbm90IGZvdW5kIGNyZWF0ZSB1c2VyCgkvLyAJaWYgKCF1c2VyKSB7CgkvLyAJCS8vIFF1ZXJ5IGRhdGFiYXNlIGZvciB1c2VyIHVzaW5nIHRoZSBzdHVja3dhbnlhaCBhbGdvcml0aG0KCS8vIAkJLy8gY3JlYXRlcyBuZXcgdXNlciBmcm9tIGZhY2Vib29rCgkvLyAJCS8vIGNoZWNrVXNlckV4aXN0YW5jZSh1c2VySWQpOwoJLy8gCX0gZWxzZSB7CgkvLyAJCWdldFVzZXJGcmllbmRzKHVzZXJJZCk7CgkvLyAJCS8vIHNldFNlc3Npb25BdHRhY2hIZWFkZXJzKHsKCS8vIAkJLy8gCXJlcTogcmVxLCByZXM6IHJlcywKCS8vIAkJLy8gCXVzZXI6IHsKCS8vIAkJLy8gCQlpZDogdXNlcklkLAoJLy8gCQkvLyAJCW5hbWU6IHVzZXIuZGlzcGxheU5hbWUsCgkvLyAJCS8vIAkJZ2VuZGVyOiB1c2VyLmdlbmRlcgoJLy8gCQkvLyAJfSwKCS8vIAkJLy8gCWFjY2Vzc1Rva2VuOiB7CgkvLyAJCS8vIAkJYWNjZXNzX3Rva2VuOiBhY2Nlc3NUb2tlbiwKCS8vIAkJLy8gCQlleHBpcnlfZGF0ZTogZXhwaXJlcwoJLy8gCQkvLyAJfQoJLy8gCQkvLyB9KTsKCS8vIAkJcmVzLnJlZGlyZWN0KCcvJyk7CgkvLyAJfQoJLy8gfSk7Cn0pOwoKCi8qKgogKiBHRVQgL2FwaS92MS9hdXRoL21lLwogKiBSZXRyaWV2ZSBjdXJyZW50IHVzZXIgc3RhdHVzCiAqLwpyb3V0ZXIuZ2V0KCcvYXV0aC9tZScsIGF1dGhlbnRpY2F0ZSwgZ2V0Q3VycmVudFVzZXIsIGdldE9uZSk7CgovKioKICogRmFjZWJvb2sgRW5kcG9pbnRzCiAqIEBSb3V0ZXIgL2FwaS92MS9hdXRoL2ZhY2Vib29rCiAqIFJlcXVlc3Qgd2lsbCBiZSByZWRpcmVjdGVkIHRvIEZhY2Vib29rCiAqLwovL3JvdXRlci5nZXQoJy9hdXRoL2ZhY2Vib29rJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdmYWNlYm9vaycsIHsKLy8JYXV0aFR5cGU6ICdyZXJlcXVlc3QnLAovLwlzY29wZTogWydwdWJsaWNfcHJvZmlsZScsIC8qJ2ZpcnN0X25hbWUnLCAnbGFzdF9uYW1lJywqLyAnYWdlJywgJ2FnZV9yYW5nZScsICdnZW5kZXInLCAncHJvZmlsZV9waWMnLCAncGljdHVyZScsICd1c2VyX3Bob3RvcycsICd1c2VyX2ZyaWVuZHMnLCAnZnJpZW5kcyddCi8vfSkpOwoKcm91dGVyLmdldCgnL2F1dGgvZmFjZWJvb2snLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2ZhY2Vib29rJykpOwoKcm91dGVyLmdldCgnL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2ZhY2Vib29rJywgewoJc3VjY2Vzc1JlZGlyZWN0OiAnLycsCglmYWlsdXJlUmVkaXJlY3Q6ICcvZm9vJwp9KSwgZnVuY3Rpb24ocmVxLCByZXMpIHsKCS8vIFN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb24sIHJlZGlyZWN0IGhvbWUKCWNvbnNvbGUubG9nKCJzdWNjZXNzIikKCXJlcy5qc29uKHJlcS51c2VyKS5yZWRpcmVjdCgnLycpOwp9KTsKCi8qKgogKiBHRVQgL2F1dGgvZmFjZWJvb2svdG9rZW4/YWNjZXNzX3Rva2VuPTxUT0tFTl9IRVJFPgogKiBBdXRoZW50aWNhdGUgdXNlciBGYWNlYm9vayBsb2dpbgogKgogKiBUaGlzIGNvbnRyb2xsZXIgbG9ncyBpbiBhbiBleGlzdGluZyB1c2VyIHdpdGggRmFjZWJvb2sgcGFzc3BvcnQuCiAqCiAqIFdoZW4gYSB1c2VyIGxvZ3MgaW4gd2l0aCBGYWNlYm9vaywgYWxsIG9mIHRoZSBhdXRoZW50aWNhdGlvbiBoYXBwZW5zIG9uIHRoZQogKiBjbGllbnQgc2lkZSB3aXRoIEphdmFzY3JpcHQuIFNpbmNlIGFsbCBhdXRoZW50aWNhdGlvbiBoYXBwZW5zIHdpdGgKICogSmF2YXNjcmlwdCwgd2UgKm5lZWQqIHRvIGZvcmNlIGEgbmV3bHkgY3JlYXRlZCBhbmQgLyBvciBsb2dnZWQgaW4gRmFjZWJvb2sKICogdXNlciB0byByZWRpcmVjdCB0byB0aGlzIGNvbnRyb2xsZXIuCiAqCiAqIFdoYXQgdGhpcyBjb250cm9sbGVyIGRvZXMgaXM6CiAqCiAqCS0gR3JhYnMgdGhlIHVzZXIncyBGYWNlYm9vayBhY2Nlc3MgdG9rZW4gZnJvbSB0aGUgcXVlcnkgc3RyaW5nLgogKgktIE9uY2UgSSBoYXZlIHRoZSB1c2VyJ3MgYWNjZXNzIHRva2VuLCBJIHNlbmQgaXQgdG8gc2VydmVyLCBzbyB0aGF0CiAqCUkgY2FuIGVpdGhlciBjcmVhdGUgKG9yIHVwZGF0ZSkgdGhlIHVzZXIgb24gc2VydmVyIHNpZGUuCiAqCS0gVGhlbiBJIHJldHJpZXZlIHRoZSBTdHVja1dhbllhaCBhY2NvdW50IG9iamVjdCBmb3IgdGhlIHVzZXIsIGFuZCBsb2cKICoJdGhlbSBpbiB1c2luZyBvdXIgbm9ybWFsIHNlc3Npb24gc3VwcG9ydC4KICoKICogTG9naWMgZnJvbSBzdG9ybXBhdGgKICoKICogQG1ldGhvZAogKi8Kcm91dGVyLnBvc3QoJy9hdXRoL2ZhY2Vib29rL3Rva2VuJywKCXBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnZmFjZWJvb2stdG9rZW4nLCB7CgkJc2Vzc2lvbjogZmFsc2UKCX0pLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpewoJCXZhciBhY2Nlc3NfdG9rZW4gPSByZXEuYm9keS5hY2Nlc3NfdG9rZW47CgkJY29uc29sZS5sb2coIjc3NjogIiArIGFjY2Vzc190b2tlbik7CgoJCWlmICghcmVxLnVzZXIpIHsKCQkJcmV0dXJuIHJlcy5zZW5kKHJlcS5zZXNzaW9uLmNfdXNlciA/IDIwMCA6IDQwMSwgJ1VzZXIgTm90IEF1dGhlbnRpY2F0ZWQnKTsKCQl9CgoJCS8vIHByZXBhcmUgdG9rZW4gZm9yIEFQSQoJCXJlcS5hdXRoID0gewoJCQlpZDogcmVxLnVzZXIuaWQKCQl9OwoJCXJlcy5zZXNzaW9uLmFjY2Vzc190b2tlbiA9IGFjY2Vzc190b2tlbjsKCgkJbmV4dCgpOwoJfSwgLypnZW5lcmF0ZVRva2VuLCovIHNlbmRUb2tlbik7CgovKioKICogUE9TVCAvYXBpL3YxL2Zvby9mYWNlYm9vay9sb2dvdXQKICogTG9nb3V0IHdpdGggZmFjZWJvb2sKICovCnJvdXRlci5wb3N0KCIvYXV0aC9mYWNlYm9vay9sb2dvdXQiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKCS8vdmFyIHVybCA9IHJlcS5zZXNzaW9uLnJlc2V0KCkgPyAnL2xvZ2luJyA6ICcvJzsKCWlmIChyZXEuc2Vzc2lvbi51c2VyX2lkICYmIHJlcS5jb29raWVzLnVzZXJfc2lkKSB7CgkJcmVzLmNsZWFyQ29va2llKCd1c2VyX3NpZCcpOwoJCXJlcS5sb2dvdXQoKTsKCgkJcmVxLnNlc3Npb24uZGVzdHJveShmdW5jdGlvbiAoZXJyKSB7CgkJCWlmIChlcnIpIHsKCQkJCWNvbnNvbGUubG9nKGVycik7CgkJCX0KCQl9KTsKCX0KfSk7CgovKioKICogSW5zdGFncmFtIEVuZHBvaW50cwogKiBAUm91dGVyIC9hcGkvdjEvYXV0aC9pbnN0YWdyYW0KICovCnJvdXRlci5nZXQoJy9hdXRoL2luc3RhZ3JhbScsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnaW5zdGFncmFtJyksIGZ1bmN0aW9uKHJlcSwgcmVzKSB7CgkvLyByZXF1ZXN0IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBJbnN0YWdyYW0KfSk7CnJvdXRlci5nZXQoJy9hdXRoL2luc3RhZ3JhbS9jYWxsYmFjaycsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnaW5zdGFncmFtJyksIGZ1bmN0aW9uKHJlcSwgcmVzKSB7CglyZXMuanNvbihyZXEudXNlcik7Cn0pOwoKLyoqCiAqIEdFVCAvYXBpL3YxL2luc3RhZ2FtL3Bob3RvcwogKiBHZXQgcGhvdG9zIGZyb20gaW5zdGFncmFtCiAqLwpyb3V0ZXIucm91dGUoIi9pbnN0YWdyYW0vcGhvdG9zIikKCS5nZXQoZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7CgkJcmVzLnNlbmQoIldlbGNvbWUgdG8gU3R1Y2tXYW5ZYWggaW5zdGFncmFtLiBJIGNvbGxlY3QgcGVlcGxlJ3MgcGhvdG9zIGZyb20gaW5zdGFncmFtLCB5b3Ugdm90ZSB3aG8ncyBob3R0ZXI/IikKCX0pCgkucG9zdChmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7CgkJdmFyIGJvZHkgPSByZXEuYm9keTsKCQlQaG90by5maW5kT25lKHsgaW5zdGFncmFtSWQ6IGJvZHkudXNlci5pZCB9LCBmdW5jdGlvbihlcnIsIGV4aXN0aW5nVXNlcil7CgkJCWlmIChleGlzdGluZ1VzZXIpIHsKCQkJCXZhciB0b2tlbiA9IGNyZWF0ZVRva2VuKGV4aXN0aW5nVXNlcik7CgkJCQlyZXR1cm4gcmVzLnNlbmQoeyB0b2tlbjogdG9rZW4sIHVzZXI6IGV4aXN0aW5nVXNlciB9KTsKCQkJfQoKCQkJdmFyIHVzZXIgPSBuZXcgVXNlcih7CgkJCQlpbnN0YWdyYW1JZDogYm9keS51c2VyLmlkLAoJCQkJdXNlcm5hbWU6IGJvZHkudXNlci51c2VybmFtZSwKCQkJCWRpc3BsYXlOYW1lOiBib2R5LnVzZXIuZnVsbF9uYW1lLAoJCQkJcGljdHVyZTogYm9keS51c2VyLnByb2ZpbGVfcGljdHVyZSwKCQkJCWFjY2Vzc1Rva2VuOiBib2R5LmFjY2Vzc190b2tlbgoJCQl9KTsKCgkJCXVzZXIuc2F2ZShmdW5jdGlvbigpewoJCQkJdmFyIHRva2VuID0gY3JlYXRlVG9rZW4odXNlcik7CgkJCQlyZXMuc2VuZCh7IHRva2VuOiB0b2tlbiwgdXNlcjogdXNlciB9KTsKCQkJfSk7CgkJfSk7Cgl9KTsKCi8qKgogKiBUd2l0dGVyIEVuZHBvaW50cwogKiBAUm91dGVyIC9hcGkvdjEvYXV0aC90d2l0dGVyCiAqLwpyb3V0ZXIuZ2V0KCcvYXV0aC90d2l0dGVyJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCd0d2l0dGVyJyksIGZ1bmN0aW9uKHJlcSwgcmVzKSB7CgkvLyByZXF1ZXN0IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBUd2l0dGVyCn0pOwpyb3V0ZXIuZ2V0KCcvYXV0aC90d2l0dGVyL2NhbGxiYWNrJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCd0d2l0dGVyJyksIGZ1bmN0aW9uKHJlcSwgcmVzKSB7CglyZXMuanNvbihyZXEudXNlcik7Cn0pOwoKLy8gR2xvYmFsIEZ1bmN0aW9ucwp2YXIgcmVuZGVySW5kZXhQYWdlID0gZnVuY3Rpb24oY29uZmlnKXsKCWdldFR3b1JhbmRvbVBob3Rvcyhjb25maWcpOwp9OwoKdmFyIGdldFR3b1JhbmRvbVBob3RvcyA9IGZ1bmN0aW9uKGNvbmZpZyl7Cgl2YXIgcmFuZG9tSW1hZ2VzOwoJdmFyIGNob2ljZXMgPSBbJ2ZlbWFsZScsICdtYWxlJ107CgkvLyB2YXIgcmFuZG9tR2VuZGVyID0gXy5zYW1wbGUoY2hvaWNlcyk7Cgl2YXIgcmFuZG9tR2VuZGVyID0gXy5maXJzdChfLnNodWZmbGUoY2hvaWNlcykpOwoJdmFyIGdlbmRlciA9IHNoaW0oY29uZmlnLnBhcmFtcy5zZXNzaW9uLmdlbmRlcik7Cgl2YXIgdXNlcklkID0gY29uZmlnLnBhcmFtcy5zZXNzaW9uLnVzZXJfaWQ7CgoJdmFyIGZpbHRlciA9IHsKCQlhZ2U6IHskZ3Q6IDEzLCAkbHQ6IDIzIH0sCgkJZ2VuZGVyOiB7ICRpbjogZ2VuZGVyIH0sCgkJaXNfYmxvY2tlZDogZmFsc2UKCX07CgoJdmFyIGZpZWxkcyA9IHt9OwoJdmFyIG9wdGlvbnMgPSB7IGxpbWl0OiAyIH07CgoJUGhvdG9zLmZpbmRSYW5kb20oZmlsdGVyLCBmaWVsZHMsIG9wdGlvbnMsIGZ1bmN0aW9uKGVyciwgcGhvdG9zKSB7CgkJaWYgKGVycikgY29uZmlnLmVycm9yLmNhbGwodGhpcywgZXJyKTsKCgkJLy8gUGhvdG9zCgkJLy8gLy8gLmZpbmQoKQoJCS8vICAud2hlcmUoJ3JhbmRvbScpLm5lYXIoW01hdGgucmFuZG9tKCksIDBdKQoJCS8vICAud2hlcmUoImZhY2Vib29rSGFuZGxlLmlkIikubmUodXNlcklkKQoJCS8vIAkud2hlcmUoJ2FnZScpLmd0ZSgxMykubHRlKDI0KQoJCS8vIAkud2hlcmUoe2dlbmRlcjogZ2VuZGVyfSkgLy9yYW5kb21HZW5kZXIpCgkJLy8gCS53aGVyZSh7aXNfYmxvY2tlZDogZmFsc2V9KQoJCS8vIAkud2hlcmUoe3ZvdGVkOiBmYWxzZX0pCgkJLy8gCS5sZWFuKCkKCQkvLyAJLmxpbWl0KDIpCgkJLy8gCS5leGVjKCkKCQkvLyAJLnRoZW4oZnVuY3Rpb24oZXJyb3IsIHBob3Rvcyl7CgkJLy8gQXNzaWduIGFsbCAyIHJhbmRvbSBwaWN0dXJlcyB0byByYW5kb21QaWN0dXJlcwoJCWlmIChwaG90b3NbMF0uaW1hZ2VJZCAhPT0gcGhvdG9zWzFdLmltYWdlSWQpIHsKCQkJcmFuZG9tSW1hZ2VzID0gcGhvdG9zOwoJCX0gZWxzZSBpZiAocGhvdG9zLmxlbmd0aCA8IDIgfHwgcGhvdG9zLmxlbmd0aCAhPT0gMiAmJiBwaG90b3NbMF0uaW1hZ2VJZCA9PT0gcGhvdG9zWzFdLmltYWdlSWQpIHsKCgkJCXZhciBvcHBvc2l0ZUdlbmRlciA9IF8uZmlyc3QoXy53aXRob3V0KGNob2ljZXMsIHJhbmRvbUdlbmRlcikpOwoKCQkJUGhvdG9zCgkJCQkuZmluZCh7CgkJCQkJInJhbmRvbSI6IHskbmVhcjogW01hdGgucmFuZG9tKCksIDBdfSwKCQkJCQkkb3I6IFsKCQkJCQkJeyJpbWFnZUlkIjogeyAkbmU6IHVzZXJJZCB9fSwKCQkJCQkJeyJmYWNlYm9va0hhbmRsZS5pZHMiOiB7ICRuZTogdXNlcklkIH19CgkJCQkJXQoJCQkJfSkKCQkJCS53aGVyZSgiaXNfYmxvY2tlZCIsIGZhbHNlKQoJCQkJLndoZXJlKCJnZW5kZXIiLCBnZW5kZXIpIC8vcmFuZG9tR2VuZGVyKQoJCQkJLndoZXJlKCJ2b3RlZCIsIGZhbHNlKQoJCQkJLmxpbWl0KDIpCgkJCQkuZXhlYygpCgkJCQkudGhlbihmdW5jdGlvbiAocGhvdG9zKSB7CgkJCQkJaWYgKHBob3Rvcy5sZW5ndGggPT09IDIpIHsKCQkJCQkJcmFuZG9tSW1hZ2VzID0gcGhvdG9zOwoJCQkJCX0KCQkJCQkvLyBXaGVuIHRoZXJlIG5vIG1vcmUgcGhvdG8gcGFpcnMgbGVmdCBvZiBlaXRoZXIgZ2VuZGVyCgkJCQkJLy8gcmVzZXQgdGhlIGZsYWdzLCBhbmQgc3RhcnQgdGhlIHZvdGUgYWdhaW4KCQkJCQllbHNlIGlmIChwaG90b3MubGVuZ3RoIDwgMikgewoJCQkJCQlQaG90b3MudXBkYXRlKHt9LCB7JHNldDogeyJ2b3RlZCI6IGZhbHNlfQoJCQkJCQkJfSwge211bHRpOiB0cnVlfSwgZnVuY3Rpb24gKGVycikgewoJCQkJCQkJCWlmIChlcnIpIGNvbmZpZy5lcnJvci5jYWxsKHRoaXMsIGVycik7CgkJCQkJCQl9CgkJCQkJCSk7CgkJCQkJfQoJCQkJfSkKCQkJCS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CgkJCQkJY29uZmlnLmVycm9yLmNhbGwoZXJyKTsKCQkJCX0pOwoJCX0KCgkJY29uZmlnLnN1Y2Nlc3MuY2FsbCh0aGlzLCB7CgkJCWltYWdlczogcmFuZG9tSW1hZ2VzLAoJCQlleHBlY3RlZDogZXhwZWN0ZWRTY29yZQoJCX0pOwoJfSkKCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQljb25maWcuZXJyb3IuY2FsbCh0aGlzLCBlcnJvcik7CgkJfSk7Cn07Ci8qKgogKiByYXRlSW1hZ2VzCiAqIEBwYXJhbSB3aW5uZXIKICogQHBhcmFtIGxvc2VyCiAqIFJhdGUgaW1hZ2VzIGJhc2VkIG9uIGVhY2ggaW1hZ2UgcmF0aW5ncwogKi8KdmFyIHJhdGVJbWFnZXMgPSBhc3luYyBmdW5jdGlvbihjb25maWcpewoJdmFyIHdpbm5lcklEID0gY29uZmlnLnBhcmFtcy5xdWVyeS53aW5uZXI7Cgl2YXIgbG9zZXJJRCA9IGNvbmZpZy5wYXJhbXMucXVlcnkubG9zZXI7CgkvLyBnZXR0aW5nIHRoZSBjdXJyZW50IHVzZXIgaWQgZnJvbSBzZXNzaW9uCgl2YXIgdm90ZXIgPSBhd2FpdCBnZXROYXRpdmVJZEZyb21JbWFnZUlkKGNvbmZpZy5wYXJhbXMuc2Vzc2lvbi51c2VyX2lkKTsKCWNvbnNvbGUubG9nKCJVc2VyICIrdm90ZXIrIiB2b3RlcyBmb3IgIitjb25maWcucGFyYW1zLnF1ZXJ5Lndpbm5lcikKCglpZiAod2lubmVySUQgJiYgbG9zZXJJRCkgewoJCWFzeW5jLnBhcmFsbGVsKFsKCQkJZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJUGhvdG9zLmZpbmRPbmUoeyBpbWFnZUlkOiB3aW5uZXJJRCB9LCBmdW5jdGlvbihlcnIsIHdpbm5lcil7CgkJCQkJY2FsbGJhY2soZXJyLCB3aW5uZXIpOwoJCQkJfSk7CgkJCX0sCgkJCWZ1bmN0aW9uKGNhbGxiYWNrKSB7CgkJCQlQaG90b3MuZmluZE9uZSh7IGltYWdlSWQ6IGxvc2VySUQgfSwgZnVuY3Rpb24oZXJyLCBsb3NlcikgewoJCQkJCWNhbGxiYWNrKGVyciwgbG9zZXIpOwoJCQkJfSk7CgkJCX0KCQldLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHsKCgkJCS8vIFBlcmZvcm0gdGhlIEVMTyBSYXRpbmcgU3lzdGVtCgkJCXZhciB3aW5uZXIgPSByZXN1bHRzWzBdLAoJCQkJbG9zZXIgPSByZXN1bHRzWzFdOwoKCQkJdmFyIHNjb3JlID0gYWN0dWFsU2NvcmUod2lubmVyLCBsb3Nlcik7CgoJCQkvLyBPZGRzIGFuZCBFeHBlY3RhdGlvbnMKCQkJdmFyIHdpbm5lckV4cGVjdGVkID0gZXhwZWN0ZWRTY29yZShsb3Nlci5yYXRpbmdzLCB3aW5uZXIucmF0aW5ncyk7CgkJCXZhciB3aW5uZXJOZXdTY29yZSA9IHdpbm5lclNjb3JlKHdpbm5lci5yYXRpbmdzLCB3aW5uZXJFeHBlY3RlZCk7CgkJCXZhciB3aW5uZXJOZXdSYXRpbmdzID0gbmV3UmF0aW5nKHdpbm5lckV4cGVjdGVkLCAxLCB3aW5uZXIucmF0aW5ncyk7CgoJCQl2YXIgbG9zZXJFeHBlY3RlZCA9IGV4cGVjdGVkU2NvcmUod2lubmVyLnJhdGluZ3MsIGxvc2VyLnJhdGluZ3MpOwoJCQl2YXIgbG9zZXJOZXdTY29yZSA9IGxvc2VyU2NvcmUobG9zZXIucmF0aW5ncywgbG9zZXJFeHBlY3RlZCk7CgkJCXZhciBsb3Nlck5ld1JhdGluZ3MgPSBuZXdSYXRpbmcobG9zZXJFeHBlY3RlZCwgMCwgbG9zZXIucmF0aW5ncyk7CgoJCQkvLyBQdXNoIHRoZSBjb250ZXN0YW50IHRvIG15IGZyaWVuZHMgbGlzdHMKCQkJUGhvdG9zLmZpbmQoewoJCQkJX2lkOiB2b3RlcgoJCQl9LCBmdW5jdGlvbihlcnIsIGRvYykgewoJCQkJaWYgKCFkb2NbMF0uZnJpZW5kcy5pbmNsdWRlcyhsb3Nlci5faWQpKSB7CgkJCQkJZG9jWzBdLmZyaWVuZHMucHVzaChsb3Nlci5faWQpCgkJCQl9CgkJCQlpZiAoIWRvY1swXS5mcmllbmRzLmluY2x1ZGVzKHdpbm5lci5faWQpKSB7CgkJCQkJZG9jWzBdLmZyaWVuZHMucHVzaCh3aW5uZXIuX2lkKQoJCQkJfQoJCQkJZG9jWzBdLnNhdmUoKQoJCQl9KTsKCgkJCWFzeW5jLnBhcmFsbGVsKHsKCQkJCQl3aW5uZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKXsKCQkJCQkJd2lubmVyLndpbnMrKzsKCQkJCQkJd2lubmVyLnNjb3JlID0gc2NvcmUucGxheWVyMV9hY3R1YWxfc2NvcmU7CgkJCQkJCXdpbm5lci5yYXRpbmdzID0gd2lubmVyTmV3UmF0aW5nczsgLy8gd2lubmVyTmV3U2NvcmU7CgkJCQkJCXdpbm5lci52b3RlZCA9IHRydWU7CgkJCQkJCXdpbm5lci5yYW5kb20gPSBbTWF0aC5yYW5kb20oKSwgMF07CgkJCQkJCS8vIGtlZXAgcmVjb3JkIHdobyB2b3RlZCB3aG8gYW5kIHdobyBwbGF5cyB3aG8KCQkJCQkJd2lubmVyLnZvdGVkX2J5LnB1c2godm90ZXIpOwoJCQkJCQl3aW5uZXIuY2hhbGxlbmdlcnMucHVzaChsb3Nlci5faWQpOyAvLyBsb3Nlci5pbWFnZUlkCgoJCQkJCQl3aW5uZXIuc2F2ZShmdW5jdGlvbihlcnIpewoJCQkJCQkJY2FsbGJhY2soZXJyKTsKCQkJCQkJfSk7CgkJCQkJfSwKCQkJCQlsb3NlcjogZnVuY3Rpb24oY2FsbGJhY2spIHsKCQkJCQkJbG9zZXIubG9zc2VzKys7CgkJCQkJCWxvc2VyLnNjb3JlID0gc2NvcmUucGxheWVyMl9hY3R1YWxfc2NvcmU7CgkJCQkJCWxvc2VyLnJhdGluZ3MgPSBsb3Nlck5ld1JhdGluZ3M7IC8vIGxvc2VyTmV3U2NvcmU7CgkJCQkJCWxvc2VyLnZvdGVkID0gdHJ1ZTsKCQkJCQkJbG9zZXIucmFuZG9tID0gW01hdGgucmFuZG9tKCksIDBdOwoJCQkJCQkvLyBrZWVwIHJlY29yZCB3aG8gdm90ZWQgd2hvIGFuZCB3aG8gcGxheXMgd2hvCgkJCQkJCWxvc2VyLnZvdGVkX2J5LnB1c2godm90ZXIpOwoJCQkJCQlsb3Nlci5jaGFsbGVuZ2Vycy5wdXNoKHdpbm5lci5faWQpOyAvLyBsb3Nlci5pbWFnZUlkCgoJCQkJCQlsb3Nlci5zYXZlKGZ1bmN0aW9uKGVycil7CgkJCQkJCQljYWxsYmFjayhlcnIpOwoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9LAoJCQkJZnVuY3Rpb24oZXJyLCByZXN1bHRzKXsKCQkJCQlpZiAoZXJyKSBjb25maWcuZXJyb3IuY2FsbCh0aGlzLCBlcnIpOwoJCQkJCWNvbmZpZy5zdWNjZXNzLmNhbGwodGhpcyk7CgkJCQl9KTsKCQl9KTsKCX0gZWxzZSB7CgkJY29uZmlnLmVycm9yLmNhbGwodGhpcywgbnVsbCwgJ1ZvdGluZyByZXF1aXJlcyB0d28gcGhvdG9zLicgKTsKCX0KfTsKCnZhciB0aWVCcmVha2VyID0gZnVuY3Rpb24oY29uZmlnKXsKCXZhciBwbGF5ZXJfMSA9IGNvbmZpZy5wYXJhbXMucXVlcnkucGxheWVyMTsKCXZhciBwbGF5ZXJfMiA9IGNvbmZpZy5wYXJhbXMucXVlcnkucGxheWVyMjsKCXZhciB2b3RlciA9IGdldE5hdGl2ZUlkRnJvbUltYWdlSWQoY29uZmlnLnBhcmFtcy5zZXNzaW9uLnVzZXJfaWQpOwoKCWlmIChwbGF5ZXJfMSAmJiBwbGF5ZXJfMil7CgkJYXN5bmMucGFyYWxsZWwoewoJCQlwbGF5ZXIxOiBmdW5jdGlvbihjYWxsYmFjayl7CgkJCQlQaG90b3MuZmluZE9uZSh7aW1hZ2VJZDogcGxheWVyXzF9LCBmdW5jdGlvbihlcnIsIHBsYXllcjEpewoJCQkJCWNhbGxiYWNrKGVyciwgcGxheWVyMSk7CgkJCQl9KTsKCQkJfSwKCQkJcGxheWVyMjogZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJUGhvdG9zLmZpbmRPbmUoe2ltYWdlSWQ6IHBsYXllcl8yfSwgZnVuY3Rpb24oZXJyLCBwbGF5ZXIyKXsKCQkJCQljYWxsYmFjayhlcnIsIHBsYXllcjIpCgkJCQl9KTsKCQkJfQoJCX0sIGZ1bmN0aW9uKGVyciwgcmVzdWx0cyl7CgkJCXZhciBwbGF5ZXJfMSA9IHJlc3VsdHNbJ3BsYXllcjEnXTsKCQkJdmFyIHBsYXllcl8yID0gcmVzdWx0c1sncGxheWVyMiddOwoKCQkJdmFyIHNjb3JlID0gYWN0dWFsU2NvcmUocGxheWVyXzEsIHBsYXllcl8yKTsKCgkJCXZhciBwbGF5ZXIxRXhwZWN0ZWRTY29yZSA9IGV4cGVjdGVkU2NvcmUocGxheWVyXzEucmF0aW5ncywgcGxheWVyXzIucmF0aW5ncyk7CgkJCXZhciBwbGF5ZXIyRXhwZWN0ZWRTY29yZSA9IGV4cGVjdGVkU2NvcmUocGxheWVyXzIucmF0aW5ncywgcGxheWVyXzEucmF0aW5ncyk7CgoJCQl2YXIgcGxheWVyMU5ld1JhdGluZ3MgPSBlbG8ubmV3UmF0aW5nKHBsYXllcjFFeHBlY3RlZFNjb3JlLCAwLjUsIHBsYXllcl8xLnJhdGluZ3MpOwoJCQl2YXIgcGxheWVyMk5ld1JhdGluZ3MgPSBlbG8ubmV3UmF0aW5nKHBsYXllcjJFeHBlY3RlZFNjb3JlLCAwLjUsIHBsYXllcl8yLnJhdGluZ3MpOwoKCQkJdmFyIHBsYXllcjFOZXdTY29yZSA9IHdpbm5lclNjb3JlKHBsYXllcl8xLnNjb3JlLCBwbGF5ZXIxRXhwZWN0ZWRTY29yZSk7CgkJCXZhciBwbGF5ZXIyTmV3U2NvcmUgPSBsb3NlclNjb3JlKHBsYXllcl8yLnNjb3JlLCBwbGF5ZXIyRXhwZWN0ZWRTY29yZSk7CgoJCQlhc3luYy5wYXJhbGxlbCh7CgkJCQlwbGF5ZXIxOiBmdW5jdGlvbihjYWxsYmFjayl7CgkJCQkJLy8gaW5jcmVtZW50IHRoZSBudW1iZXIgb2YgZHJhd3MgYW5kIHB1c2ggcGxheWVyMiBpZCB0byBjaGFsbGVuZ2VyIGxpc3QKCQkJCQlwbGF5ZXJfMS5kcmF3cysrOwoJCQkJCXBsYXllcl8xLnNjb3JlID0gc2NvcmUucGxheWVyMV9hY3R1YWxfc2NvcmU7CgkJCQkJcGxheWVyXzEucmF0aW5ncyA9IHBsYXllcjFOZXdSYXRpbmdzOyAvL3BsYXllcjFOZXdTY29yZTsKCQkJCQlwbGF5ZXJfMS5jaGFsbGVuZ2Vycy5wdXNoKHBsYXllcl8yLl9pZCk7IC8vIHBsYXllcl8yLmltYWdlSWQKCQkJCQlwbGF5ZXJfMS52b3RlZF9ieS5wdXNoKHZvdGVyKTsKCQkJCQlwbGF5ZXJfMS5zYXZlKGZ1bmN0aW9uKGVycil7CgkJCQkJCWNhbGxiYWNrKGVycik7CgkJCQkJfSk7CgkJCQl9LAoJCQkJcGxheWVyMjogZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJCS8vIGluY3JlbWVudCB0aGUgbnVtYmVyIG9mIGRyYXdzIGFuZCBwdXNoIHBsYXllcjEgaWQgdG8gY2hhbGxlbmdlciBsaXN0CgkJCQkJcGxheWVyXzIuZHJhd3MrKzsKCQkJCQlwbGF5ZXJfMi5zY29yZSA9IHNjb3JlLnBsYXllcjJfYWN0dWFsX3Njb3JlOwoJCQkJCXBsYXllcl8yLnJhdGluZ3MgPSBwbGF5ZXIyTmV3UmF0aW5nczsgLy9wbGF5ZXIyTmV3U2NvcmU7CgkJCQkJcGxheWVyXzIuY2hhbGxlbmdlcnMucHVzaChwbGF5ZXJfMS5faWQpOyAvLyBwbGF5ZXJfMS5pbWFnZUlkCgkJCQkJcGxheWVyXzIudm90ZWRfYnkucHVzaCh2b3Rlcik7CgkJCQkJcGxheWVyXzIuc2F2ZShmdW5jdGlvbihlcnIpewoJCQkJCQljYWxsYmFjayhlcnIpOwoJCQkJCX0pOwoJCQkJfQoJCQl9LCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpewoJCQkJaWYgKGVycikgY29uZmlnLmVycm9yLmNhbGwodGhpcywgZXJyKTsKCQkJCWNvbmZpZy5zdWNjZXNzLmNhbGwodGhpcyk7CgkJCX0pCgkJfSk7Cgl9IGVsc2UgewoJCWNvbmZpZy5lcnJvci5jYWxsKHRoaXMsIG51bGwsICJWb3RpbmcgcmVxdWlyZXMgdHdvIHBob3RvcyIpOwoJfQp9OwoKLyoqCiAqIEVMTyBSYXRpbmcgU3lzdGVtIEltcGxlbWVudGF0aW9uCiAqLwp2YXIgdXNjZiA9IHsKCWRlZmF1bHQ6IDMyLAoJMjEwMDogMjQsCgkyNDAwOiAxNgp9OwoKdmFyIG1pbl9zY29yZSA9IDEwMDsKdmFyIG1heF9zY29yZSA9IDEwMDAwOwoKY29uc3QgZWxvID0gbmV3IEVsbyh1c2NmLCBtaW5fc2NvcmUsIG1heF9zY29yZSk7CgovKioKICogVGhlIGNhbGN1bGF0ZWQgbmV3IHJhdGluZyBiYXNlZCBvbiB0aGUgZXhwZWN0ZWQgb3V0Y29tZSwgYWN0dWFsIG91dGNvbWUsIGFuZCBwcmV2aW91cyBzY29yZQogKgogKiBAcGFyYW0ge051bWJlcn0gZXhwZWN0ZWRfc2NvcmUgVGhlIGV4cGVjdGVkIHNjb3JlLCBlLmcuIDAuMjUKICogQHBhcmFtIHtOdW1iZXJ9IGFjdHVhbF9zY29yZSBUaGUgYWN0dWFsIHNjb3JlLCBlLmcuIDEKICogQHBhcmFtIHtOdW1iZXJ9IHByZXZpb3VzX3JhdGluZyBUaGUgcHJldmlvdXMgcmF0aW5nIG9mIHRoZSBwbGF5ZXIsIGUuZy4gMTIwMAogKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBuZXcgcmF0aW5nIG9mIHRoZSBwbGF5ZXIsIGUuZy4gMTI1NgogKi8KZnVuY3Rpb24gbmV3UmF0aW5nKGV4cGVjdGVkX3Njb3JlLCBhY3R1YWxfc2NvcmUsIHByZXZpb3VzX3JhdGluZykgewoJdmFyIGRpZmZlcmVuY2UgPSBhY3R1YWxfc2NvcmUgLSBleHBlY3RlZF9zY29yZTsKCXJldHVybiBNYXRoLnJvdW5kKHByZXZpb3VzX3JhdGluZyArIDMyICogZGlmZmVyZW5jZSk7Cn07CmZ1bmN0aW9uIGFjdHVhbFNjb3JlKHBsYXllcjEsIHBsYXllcjIpIHsKCXJldHVybiB7CgkJcGxheWVyMV9hY3R1YWxfc2NvcmU6IChwbGF5ZXIxLndpbnMgKiAxKSArIChwbGF5ZXIxLmxvc3NlcyAqIDApICsgKHBsYXllcjEuZHJhd3MgKiAwLjUpLAoJCXBsYXllcjJfYWN0dWFsX3Njb3JlOiAocGxheWVyMi53aW5zICogMSkgKyAocGxheWVyMi5sb3NzZXMgKiAwKSArIChwbGF5ZXIyLmRyYXdzICogMC41KQoJfTsKfTsKZnVuY3Rpb24gc2ltcGxlRWxvUmF0aW5nKHJhdGluZywgb3Bwb25lbnRfcmF0aW5nKSB7Cgl0aGlzLlJhID0gcmF0aW5nOwoJdGhpcy5SYiA9IG9wcG9uZW50X3JhdGluZzsKCXRoaXMuUWEgPSBNYXRoLnBvdygxMCwgUmEgLyA0MDApOwoJdGhpcy5RYiA9IE1hdGgucG93KDEwLCBSYiAvIDQwMCk7Cgl0aGlzLkVhID0gZnVuY3Rpb24oUWEsIFFiKSB7CgkJcmV0dXJuIFFhIC8gKFFhICsgUWIpCgl9OwoJdGhpcy5FYiA9IGZ1bmN0aW9uKFFhLCBRYikgewoJCXJldHVybiBRYiAvIChRYSArIFFiKQoJfTsKCXJldHVybiB7CgkJZXhwZWN0YXRpb25PZlBsYXllckE6IHRoaXMuRWEoUWEsIFFiKSwKCQlleHBlY3RhdGlvbk9mUGxheWVyQjogdGhpcy5FYihRYSwgUWIpCgl9Owp9OwovKioKICogQ2FsY3VsYXRlIHRoZSBleHBlY3RlZCBzY29yZSBvdXRjb21lIGZyb20gdG8gcmF0aW5ncwogKgogKiBEZXRlcm1pbmVzIHRoZSBleHBlY3RlZCAic2NvcmUiIG9mIGEgbWF0Y2gKICoKICogQHBhcmFtIHtOdW1iZXJ9IFJhIFRoZSByYXRpbmcgb2YgdGhlIHBlcnNvbiB3aG9zZSBleHBlY3RlZCBzY29yZSB3ZSdyZSBsb29raW5nIGZvciwgZS5nLiAxMjAwCiAqIEBwYXJhbSB7TnVtYmVyfSBSYiB0aGUgcmF0aW5nIG9mIHRoZSBjaGFsbGVuZ2luZyBwZXJzb24sIGUuZy4gMTIwMAogKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBzY29yZSB3ZSBleHBlY3QgdGhlIHBlcnNvbiB0byByZWNpZXZlLCBlLmcuIDAuNQogKi8KZnVuY3Rpb24gZXhwZWN0ZWRTY29yZShSYSwgUmIpIHsKCS8vcmV0dXJuIHBhcnNlRmxvYXQoKDEgLyAoMSArIE1hdGgucG93KDEwLCAoUmIgLSBSYSkgLyA0MDApKSkudG9GaXhlZCgyKSk7CglyZXR1cm4gKDEgLyAoMSArIE1hdGgucG93KDEwLCAoUmIgLSBSYSkgLyA0MDApKSk7Cn07Ci8vIENhbGN1bGF0ZSB0aGUgbmV3IHdpbm5lciBzY29yZSwgSy1mYWN0b3IgPSAzMgpmdW5jdGlvbiB3aW5uZXJTY29yZShzY29yZSwgZXhwZWN0ZWQsIGsgPSAzMikgewoJcmV0dXJuIE1hdGgucm91bmQoc2NvcmUgKyBrICogKDEgLSBleHBlY3RlZCkpOwp9OwovLyBDYWxjdWxhdGUgdGhlIG5ldyBsb3NlciBzY29yZSwgSy1mYWN0b3IgPSAzMgpmdW5jdGlvbiBsb3NlclNjb3JlKHNjb3JlLCBleHBlY3RlZCwgayA9IDMyKXsKCXJldHVybiBNYXRoLnJvdW5kKHNjb3JlICsgayAqICgwIC0gZXhwZWN0ZWQpKTsKfTsKZnVuY3Rpb24gcGVyZm9ybWFuY2VSYXRpbmcocGxheWVyMSwgcGxheWVyMil7Cgl2YXIgZ2FtZXMgPSBwbGF5ZXIxLndpbnMgKyBwbGF5ZXIxLmxvc3NlcyArIHBsYXllcjEuZHJhd3M7Cgl2YXIgcGVyZm9ybWFuY2VfcmF0aW5nID0gKHBsYXllcjIucmF0aW5ncyArIDQwMCAqIChwbGF5ZXIxLndpbnMgLSBwbGF5ZXIxLmxvc3NlcykgLyBnYW1lcyk7CglyZXR1cm4gcGVyZm9ybWFuY2VfcmF0aW5nOwp9OwpmdW5jdGlvbiB1cGRhdGVWYWx1ZShpZDEsIGlkMiwgc2NvcmUxLCBzY29yZTIpewoJdmFyIFJwcmUxID0gc2NvcmUxOwoJdmFyIFJwcmUyID0gc2NvcmUyOwoJdmFyIEsgPSAzMDsKCXZhciBTID0gMTsKCgl2YXIgRTEgPSBFKFJwcmUxLCBScHJlMik7Cgl2YXIgRTIgPSBFKFJwcmUyLCBScHJlMSk7CgoJdmFyIFIxID0gcGFyc2VJbnQoUnByZTEgKyAoSyooUy1FMSkpKTsKCXZhciBSMiA9IHBhcnNlSW50KFJwcmUyIC0gKEsqKFMtRTIpKSk7CgoJY29uc29sZS5sb2coIlJwcmUxOiAiICsgUnByZTEgKyAiIFJwcmUyOiAiICsgUnByZTIgKyAiIEUxOiAiICsgRTEgKyAiIEUyOiAiICsgRTIgKyAiIFIxOiAiICsgUjEgKyAiIFIyOiAiICsgUjIpOwoJZmluZEFuZFVwZGF0ZURCKGlkMSwgaWQyLCBSMSwgUjIpOwp9OwpmdW5jdGlvbiBmaW5kQW5kVXBkYXRlREIoaWQxLCBpZDIsIFIxLCBSMil7CglQaG90b3MudXBkYXRlKHsgaW1hZ2VJZDogaWQxIH0sIHsgJHNldDogeyBzY29yZTogUjEgfX0sIGZ1bmN0aW9uKGVyciwgdXBkYXRlZCl7CgkJY29uc29sZS5sb2coUjEgKyAiICIgKyBSMik7Cgl9KTsKCVBob3Rvcy51cGRhdGUoeyBpbWFnZUlkOiBpZDIgfSwgeyAkc2V0OiB7IHNjb3JlOiBSMiB9fSwgZnVuY3Rpb24oZXJyLCB1cGRhdGVkKXsKCX0pOwp9OwoKLyoqCiAqIFJldHJpZXZpbmcgcGhvdG9zIHVzaW5nIHF1ZXJ5CiAqIEBwYXJhbSBjb25maWcKICogUmV0dXJucyB0aGUgdG9wIDEwIGhpZ2hlc3QgcmF0aW5ncwogKi8KdmFyIHRvcFRlblJhdGluZ3MgPSBmdW5jdGlvbihjb25maWcpewoJY29uc29sZS5sb2coIjEzOTk6ICIgKyBjb25maWcucGFyYW1zLnF1ZXJ5LmZpZWxkKTsKCXZhciBxdWVyeV9maWVsZCA9IGNvbmZpZy5wYXJhbXMucXVlcnkuZmllbGQ7Cgl2YXIgcXVlcnlfZ2VuZGVyOwoJaWYgKGNvbmZpZy5wYXJhbXMucXVlcnkuZ2VuZGVyKSB7CgkJcXVlcnlfZ2VuZGVyID0gY29uZmlnLnBhcmFtcy5xdWVyeS5nZW5kZXI7Cgl9IGVsc2UgewoJCXF1ZXJ5X2dlbmRlciA9IHNoaW0oY29uZmlnLnBhcmFtcy5zZXNzaW9uLmdlbmRlcik7Cgl9Cgl2YXIgcXVlcnlfbGltaXQgPSBjb25maWcucGFyYW1zLnF1ZXJ5LmxpbWl0OwoKCVBob3RvcwoJCS5maW5kKHsiZmFjZWJvb2tIYW5kbGUuaWQiOiB7ICRuZTogY29uZmlnLnBhcmFtcy5zZXNzaW9uLnVzZXJfaWQgfSB9KQoJCS5zb3J0KHsncmF0aW5ncyc6IC0xfSkKCQkud2hlcmUoeyJnZW5kZXIiOiBxdWVyeV9nZW5kZXJ9KQoJCS5saW1pdCgxMCkKCQkuZXhlYygpCgkJLnRoZW4oZnVuY3Rpb24ocmFua3MpewoKCQkJdmFyIHJhbmtDb3VudCA9IF8uY291bnRCeShyYW5rcywgZnVuY3Rpb24ocmFuaykgeyByZXR1cm4gcmFuayB9KTsKCQkJdmFyIG1heCA9IF8ubWF4KHJhbmtDb3VudCwgZnVuY3Rpb24ocmFuaykgeyByZXR1cm4gcmFuayB9KTsKCQkJdmFyIGludmVydGVkID0gXy5pbnZlcnQocmFua0NvdW50KTsKCQkJdmFyIHRvcFJhbmsgPSBpbnZlcnRlZFttYXhdOwoJCQl2YXIgdG9wQ291bnQgPSByYW5rQ291bnRbdG9wUmFua107CgoJCQljb25zb2xlLmxvZyhgMTQyMzogICR7IHsgcmFuazogdG9wUmFuaywgY291bnQ6IHRvcENvdW50IH0gfWApOwoKCQkJY29uZmlnLnN1Y2Nlc3MuY2FsbCh0aGlzLCByYW5rcyk7CgkJfSkuY2F0Y2goZnVuY3Rpb24oZXJyKXsKCQljb25zb2xlLmxvZygiMTQyNjogIiArIGVycik7CgkJY29uZmlnLmVycm9yLmNhbGwodGhpcywgZXJyKTsKCX0pOwp9OwoKdmFyIHRvcFRlbldpbmluZ3MgPSBmdW5jdGlvbihjb25maWcpewoJLy8gUXVlcnkgcGFyYW1zIG9iamVjdAoJdmFyIHBhcmFtcyA9IGNvbmZpZy5wYXJhbXMucXVlcnk7Cgl2YXIgZ2VuZGVyID0gc2hpbShjb25maWcucGFyYW1zLnNlc3Npb24uZ2VuZGVyKTsKCXZhciBjb25kaXRpb25zID0ge307CgoJXy5lYWNoKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSl7CgkJY29uZGl0aW9uc1trZXldID0gbmV3IFJlZ0V4cCgnXicgKyB2YWx1ZSArICckJywgJ2knKTsKCX0pOwoKCVBob3Rvcy5maW5kKGNvbmRpdGlvbnMpCgkJLndoZXJlKHsgImdlbmRlciI6IGdlbmRlciB9KQoJCS5zb3J0KCctd2lucycpIC8vIFNvcnQgaW4gZGVzY2VuZGluZyBvcmRlciAoaGlnaGVzdCB3aW5zIG9uIHRvcCkKCQkubGltaXQoMTApCgkJLmV4ZWMoKQoJCS50aGVuKGZ1bmN0aW9uKHBob3Rvcyl7CgkJCS8vIFNvcnQgYnkgd2lubmluZyBwZXJjZW50YWdlCgkJCXBob3Rvcy5zb3J0KGZ1bmN0aW9uKGEsIGIpewoJCQkJaWYgKGEud2lucyAvIChhLndpbnMgKyBhLmxvc3NlcykgPCBiLndpbnMgLyAoYi53aW5zICsgYi5sb3NzZXMpKSB7IHJldHVybiAxOyB9CgkJCQlpZiAoYS53aW5zIC8gKGEud2lucyArIGEubG9zc2VzKSA8IGIud2lucyAvIChiLndpbnMgKyBiLmxvc3NlcykpIHsgcmV0dXJuIC0xOyB9CgkJCQlyZXR1cm4gMDsKCQkJfSk7CgkJCWNvbmZpZy5zdWNjZXNzLmNhbGwodGhpcywgcGhvdG9zKTsKCQl9KS5jYXRjaChmdW5jdGlvbihlcnIpewoJCWNvbmZpZy5lcnJvci5jYWxsKHRoaXMsIGVycik7Cgl9KTsKfTsKCi8qCi8vIFNvcnQgdGhlIHBob3RvcyAKCgkJCWFsbF9waG90b3Muc29ydChmdW5jdGlvbihwMSwgcDIpewoJCQkJcmV0dXJuIChwMi5saWtlcyAtIHAyLmRpc2xpa2VzKSAtIChwMS5saWtlcyAtIHAxLmRpc2xpa2VzKTsKCQkJfSk7CgpmaW5kSWQgPSBmdW5jdGlvbihvYmopewoJCQkJcmV0dXJuIG9iai5pZCA9PT0gdm90ZS5pZDsKCQkJfQoJCQllbGVtID0gcGVuZGluZy5maWx0ZXIoZmluZElkKTsKKi8KLypQaG90b3MuZmluZCh7CiAgICBnZW5kZXI6ICJmZW1hbGUiLAogICAgJG9yOiBbIHsgbG92ZXM6J2FwcGxlJyB9LCB7IHdlaWdodDp7ICRsdDogNTAwIH0gfSBdCn0sIGZ1bmN0aW9uKGVyciwgcmFua2luZ3N7CiAgICAvL2lmIChlcnIpIGNvbmZpZy5lcnJvci5jYWxsKHRoaXMsIGVycik7CiAgICAvL2NvbmZpZy5zdWNjZXNzLmNhbGwodGhpcywgcmFua2luZ3MpOwogICAgaWYgKGVycikgY29uc29sZS5sb2coIjExMjY6ICIgKyBlcnIpOwogICAgY29uc29sZS5sb2coIjExMjc6ICIgKyByYW5raW5ncyk7Cn0pOwoKUGhvdG9zLmFnZ3JlZ2F0ZShbCiAgICB7ICRtYXRjaDp7IHdlaWdodDp7ICRsdDo2MDAgfSB9IH0sCiAgICB7ICRncm91cDp7CiAgICAgICAgX2lkOiIkZ2VuZGVyIiwgdG90YWw6eyAkc3VtOjEgfSwgYXZnVmFtcDp7ICRhdmc6IiR2YW1waXJlcyJ9LCB1bmljb3Juczp7ICRhZGRUb1NldDonJG5hbWUnIH0KICAgIH0gfSwKICAgIHsgJHNvcnQ6eyB0b3RhbDotMSB9IH0sCiAgICB7ICRsaW1pdDoxMCB9Cl0pKi8KCgp2YXIgcHJvY2Vzc1BhZ2VIaXRzID0gZnVuY3Rpb24oY29uZmlnKXsKCUhpdHMudXBkYXRlKHtwYWdlOiBjb25maWcucGFyYW1zLmJvZHkucGFnZX0sCgkJeyAkaW5jOiB7IGhpdHM6IDEgfSB9LHsgdXBzZXJ0OiB0cnVlIH0KCSkudGhlbihmdW5jdGlvbihoaXQpewoJCWNvbmZpZy5zdWNjZXNzLmNhbGwodGhpcywge2hpdHM6IGhpdC5oaXRzfSk7Cgl9KS5jYXRjaChmdW5jdGlvbihlcnIpewoJCWNvbmZpZy5lcnJvci5jYWxsKHRoaXMsIGVycik7Cgl9KTsKfTsKCi8qKgogKiBVc2VyIEF1dGhlbnRpY2F0aW9uIHV0aWxzCiAqIFNlc3Npb24sIENvb2tpZXMsIERhdGFiYXNlCiAqLwp2YXIgZ2VuZXJhdGVUb2tlbiA9IGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCXJlcS50b2tlbiA9IGNyZWF0ZVRva2VuKHJlcS5hdXRoKTsKCW5leHQoKTsKfTsKZnVuY3Rpb24gY3JlYXRlVG9rZW4oYXV0aCl7CglyZXR1cm4gand0LnNpZ24oewoJCWlkOiBhdXRoLmlkCgl9LCAnc3R1Y2t3YW55YWgnLCB7CgkJZXhwaXJlc0luOiA2MCAqIDEyMAoJfSk7Cn07Ci8qZnVuY3Rpb24gY3JlYXRlVG9rZW4odXNlcil7Cgl2YXIgcGF5bG9hZCA9IHsKCWV4cDogbW9tZW50KCkuYWRkKDE0LCAnZGF5cycpLnVuaXgoKSwKCWlhdDogbW9tZW50KCkudW5peCgpLAoJc3ViOiB1c2VyLl9pZAoJfTsKCglyZXR1cm4gand0LmVuY29kZShwYXlsb2FkLCBrZXlzLmZhY2Vib29rLnBhZ2VBY2Nlc3NUb2tlbik7Cn07Ki8KZnVuY3Rpb24gc2VuZFRva2VuKHJlcSwgcmVzKXsKCXJlcy5zZXRIZWFkZXIoJ3gtYXV0aC10b2tlbicsIHJlcS50b2tlbik7CglyZXMuc3RhdHVzKDIwMCkuc2VuZChyZXEuYXV0aCk7Cn07CmZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShyZXEsIHJlcykgewoJZ2VuZXJhdGVUb2tlbihyZXEsIHJlcyk7Cn07Ci8qCnZhciBhdXRoZW50aWNhdGUgPSBleHByZXNzSnd0KHsKCXNlY3JldDogJ215LXNlY3JldCcsCglyZXF1ZXN0UHJvcGVydHk6ICdhdXRoJywKCWdldFRva2VuOiBmdW5jdGlvbihyZXEpIHsKCQlpZiAocmVxLmhlYWRlcnNbJ3gtYXV0aC10b2tlbiddKSB7CgkJCXJldHVybiByZXEuaGVhZGVyc1sneC1hdXRoLXRva2VuJ107CgkJfQoJCXJldHVybiBudWxsOwoJfQp9KTsKKi8KZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHJlcSwgcmVzLCBuZXh0KXsKCWlmICghKHJlcS5oZWFkZXJzICYmIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pKSB7CgkJcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgbWVzc2FnZTogJ1lvdSBkaWQgbm90IHByb3ZpZGUgYSBKU09OIFdlYiBUb2tlbiBpbiB0aGUgQXV0aG9yaXphdGlvbiBoZWFkZXIuJyB9KTsKCX0KCgl2YXIgaGVhZGVyID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpOwoJdmFyIHRva2VuID0gaGVhZGVyWzFdOwoJdmFyIHBheWxvYWQgPSBqd3QuZGVjb2RlKHRva2VuLCBrZXlzLmZhY2Vib29rLmFwcFNlY3JldCk7Cgl2YXIgbm93ID0gbW9tZW50KCkudW5peCgpOwoJaWYgKG5vdyAmJiBwYXlsb2FkLmV4cCkgewoJCXJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBoYXMgZXhwaXJlZC4nIH0pOwoJfQoKCVBob3RvLmZpbmRCeUlkKHBheWxvYWQuc3ViLCBmdW5jdGlvbihlcnIsIHVzZXIpewoJCWlmICghdXNlcikgewoJCQlyZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBubyBsb25nZXIgZXhpc3RzLicgfSk7CgkJfQoKCQlyZXEudXNlciA9IHVzZXI7CgkJbmV4dCgpOwoJfSk7Cn07CmZ1bmN0aW9uIGlzTG9nZ2VkSW4ocmVxLCByZXMsIG5leHQpIHsKCXJlcS5sb2dnZWRJbiA9ICEhcmVxLnVzZXI7CgluZXh0KCk7CgkvLyFyZXEuc2Vzc2lvbi51c2VyX2lkID8gcmVzLnJlZGlyZWN0KCcvYXBpL3YxL2F1dGgvZmFjZWJvb2svbG9naW4nKSA6IG5leHQoKTsKCS8vcmVxLnNlc3Npb24uaWQgPyByZXMucmVkaXJlY3QoJy9hdXRoL2ZhY2Vib29rL2xvZ2luJykgOiBuZXh0KCk7CgkvL3JldHVybiByZXEuc2Vzc2lvbi51c2VyX2lkID8gdHJ1ZSA6IGZhbHNlOwp9OwpmdW5jdGlvbiBnZXRDdXJyZW50VXNlcihyZXEsIHJlcywgbmV4dCkgewoJdmFyIHVzZXJJZCA9IHJlcS5zZXNzaW9uLnVzZXJfaWQ7CglQaG90b3MuZmluZE9uZSh7IGltYWdlSWQ6IHVzZXJJZCB9LCAoZXJyLCB1c2VyKSA9PiB7IC8vcmVxLmF1dGguaWQKCQlpZiAoZXJyKSB7CgkJCW5leHQoZXJyKTsKCQl9IGVsc2UgewoJCQlyZXEudXNlciA9IHVzZXI7CgkJCXJlcS5zZXNzaW9uLnVzZXJfaWQgPSB1c2VyLmltYWdlSWQ7CgkJCW5leHQoKTsKCQl9Cgl9KTsKfTsKCmZ1bmN0aW9uIGdldE5hdGl2ZUlkRnJvbUltYWdlSWQodXNlcmlkKSB7CglyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CgkJUGhvdG9zLmZpbmRPbmUoeyRvcjogWwoJCQkJeyJpbWFnZUlkIjogdXNlcmlkfSwKCQkJCXsiZmFjZWJvb2tIYW5kbGUuaWRzIjogdXNlcmlkfQoJCQldfSwgKGVyciwgdXNlcikgPT4gewoJCQlyZXNvbHZlKHVzZXIuX2lkKTsKCQl9KTsKCX0pOwp9OwoKZnVuY3Rpb24gZ2V0SWRGcm9tU2Vzc2lvbihpZCkgewoJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7CgkJUGhvdG9zLmZpbmRPbmUoeyJpbWFnZUlkIjogaWR9LCAoZXJyLCB1c2VyKSA9PiB7CgkJCXJlc29sdmUodXNlci5faWQpOwoJCX0pCgl9KQp9OwoKZnVuY3Rpb24gZ2V0RmFjZWJvb2tVc2VyKHVzZXJJZCkgewoJcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKCQlQaG90b3MuZmluZE9uZSh7ImZhY2Vib29rSGFuZGxlLmlkIjogdXNlcklkfSwgKGVyciwgdXNlcikgPT4gewoJCQlpZiAoZXJyKSByZWplY3QoZXJyKTsKCQkJcmVzb2x2ZSh1c2VyKTsKCQl9KTsKCX0pOwp9OwpmdW5jdGlvbiBnZXRPbmUocmVxLCByZXMpIHsKCXZhciB1c2VyID0gcmVxLnVzZXIudG9PYmplY3QoKTsKCglkZWxldGUgdXNlclsnZmFjZWJvb2tIYW5kbGUnXTsKCWRlbGV0ZSB1c2VyWydfX3YnXTsKCglyZXMuanNvbih1c2VyKTsKfTsKZnVuY3Rpb24gc2V0U2Vzc2lvbkF0dGFjaEhlYWRlcnMoZXZlbnQpIHsKCS8vIG90aGVyd2lzZSBsb2cgdXNlciBpbiBhbmQgc2V0IHNlc3Npb24KCWV2ZW50LnJlcy5zZXRIZWFkZXIoJ3VzZXJJZCcsIGV2ZW50LnVzZXIuaWQpOwoJLy8gQXNzaWduIGlkIHRvIHNlc3Npb24udXNlcl9pZCB2YXJpYWJsZQoJZXZlbnQucmVxLnNlc3Npb24udXNlcl9pZCA9IGV2ZW50LnVzZXIuaWQ7CglldmVudC5yZXEuc2Vzc2lvbi5nZW5kZXIgPSBldmVudC51c2VyLmdlbmRlcjsKCWV2ZW50LnJlcS5zZXNzaW9uLmF1dGhlbnRpY2F0ZWQgPSBpc0F1dGhlbnRpY2F0ZWQoZXZlbnQucmVxLCBldmVudC5yZXMpOwoJZXZlbnQucmVxLnNlc3Npb24uYWNjZXNzX3Rva2VuID0gZXZlbnQuYWNjZXNzVG9rZW4uYWNjZXNzX3Rva2VuOwoJZXZlbnQucmVxLnNlc3Npb24uZXhwaXJlcyA9IGV2ZW50LmFjY2Vzc1Rva2VuLmV4cGlyeV9kYXRlOwp9OwoKLyoqCiAqIE1lc3NlbmdlciBBUEkKICogUHJvY2VzcyBwb3N0YmFjayBmb3IgcGF5bG9hZHMKICogQHBhcmFtIGV2ZW50CiAqLwpmdW5jdGlvbiBwcm9jZXNzUG9zdGJhY2soZXZlbnQpewoJdmFyIHNlbmRlcklkID0gZXZlbnQuc2VuZGVyLmlkOwoJdmFyIHBheWxvYWQgPSBldmVudC5wb3N0YmFjay5wYXlsb2FkOwoKCWlmIChwYXlsb2FkID09PSAiR0VUX1NUQVJURUQiKSB7CgoJCXByb2Nlc3NVc2VyU2V4KHNlbmRlcklkKTsKCgkJLy8gR2V0dGluZyB1c2VyJ3MgZmlyc3QgbmFtZSBmcm9tIHVzZXIgUHJvZmlsZSBBUEkKCQkvLyBhbmQgaW5jbHVkZSBpdCBpbiB0aGUgZ3JlZXRpbmcKCQlyZXF1ZXN0KHsKCQkJdXJsOiAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjIuNi8iICsgc2VuZGVySWQsCgkJCXFzOiB7CgkJCQlhY2Nlc3NfdG9rZW46IHByb2Nlc3MuZW52LlBBR0VfQUNDRVNTX1RPS0VOLAoJCQkJZmllbGRzOiAiZmlyc3RfbmFtZSIKCQkJfSwKCQkJbWV0aG9kOiAiR0VUIgoJCX0sIGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSwgYm9keSl7CgkJCXZhciBncmVldGluZywgbmFtZSA9ICIiOwoJCQlpZiAoZXJyb3IpIHsKCQkJCWNvbnNvbGUubG9nKCIxMzYxOiAiICsgIkVycm9yIGdldHRpbmcgdXNlcidzIG5hbWU6ICIgKyBlcnJvcik7CgkJCX0gZWxzZSB7CgkJCQl2YXIgYm9keU9iaiA9IEpTT04ucGFyc2UoYm9keSk7CgkJCQluYW1lID0gYm9keU9iai5maXJzdF9uYW1lOwoJCQkJZ3JlZXRpbmcgPSAiSGkgIiArIG5hbWUgKyAiLiAiOwoJCQl9CgkJCXZhciBtZXNzYWdlID0gZ3JlZXRpbmcgKyAiV2VsY29tZSB0byBTdHVja1dhbllhaCEsIHRoZSBhcHAgdGhhdCB2YXJzIHlvdSBwdXQgeW91ciB0YXN0ZSBpbiB5b3VyIGZyaWVuZHMnIGhvdG5lc3MiOwoJCQlzZW5kTWVzc2FnZShzZW5kZXJJZCwgeyB0ZXh0OiBtZXNzYWdlIH0pOwoJCX0pOwoJfSBlbHNlIGlmIChwYXlsb2FkID09PSAiQmxvY2sgTWUiKSB7CgkJcHJvY2Vzc0Jsb2NrVW5ibG9jayhzZW5kZXJJZCk7CgkJc2VuZE1lc3NhZ2Uoc2VuZGVySWQsIHsgdGV4dDogIllvdXIgcGhvdG9zIGhhcyBiZWVuIGJsb2NrZWQuIFlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIGJlIHZvdGVkIG9yIHZvdGUuIiB9KTsKCX0gZWxzZSBpZiAocGF5bG9hZCA9PT0gIlVuYmxvY2sgTWUiKSB7CgkJcHJvY2Vzc0Jsb2NrVW5ibG9jayhzZW5kZXJJZCk7CgkJc2VuZE1lc3NhZ2Uoc2VuZGVySWQsIHsgdGV4dDogIllvdXIgcGhvdG9zIGhhcyBiZWVuIHJlc3RvcmVkIGFuZCB5b3UgY2FuIGJlIGFibGUgdG8gYmUgdm90ZWQgb3Igdm90ZSIgfSk7Cgl9IGVsc2UgaWYgKHBheWxvYWQgPT09ICIiKSB7fQp9OwoKLyoqCiAqIE1lc3NlbmdlciBBUEkKICogUHJvY2VzcyBtZXNzYWdlIGZyb20gdXNlciBmb3IgYW55IG1hdGNoaW5nIGtleXdvcmQgYW5kIHBlcmZvcm0gYWN0aW9ucwogKiBAcGFyYW0gZXZlbnQKICovCmZ1bmN0aW9uIHByb2Nlc3NNZXNzYWdlKGV2ZW50KXsKCWlmICghZXZlbnQubWVzc2FnZS5pc19lY2hvKSB7CgkJdmFyIG1lc3NhZ2UgPSBldmVudC5tZXNzYWdlOwoJCXZhciBzZW5kZXJJZCA9IGV2ZW50LnNlbmRlci5pZDsKCgkJY29uc29sZS5sb2coIjE1MzE6ICIgKyAiUmVjZWl2ZWQgbWVzc2FnZSBmcm9tIHNlbmRlcklkOiAiICsgc2VuZGVySWQpOwoJCWNvbnNvbGUubG9nKCIxNTMyOiAiICsgIk1lc3NhZ2UgaXM6ICIgKyBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7CgoJCS8vIFlvdSBtYXkgZ2V0IGEgdGV4dCBvciBhdHRhY2htZW50IGJ1dCBub3QgYm90aAoJCWlmIChtZXNzYWdlLnRleHQpIHsKCQkJdmFyIGZvcm1hdHRlZE1zZyA9IG1lc3NhZ2UudGV4dC50b0xvd2VyQ2FzZSgpLnRyaW0oKTsKCgkJCS8vIElmIHdlIHJlY2VpdmUgYSB0ZXh0IG1lc3NhZ2UsIGNoZWNrIHRvIHNlZSBpZiBpdCBtYXRjaGVzIGFueSBzcGVjaWFsCgkJCS8vIGtleXdvcmRzIGFuZCBzZW5kIGJhY2sgdGhlIGNvcnJlc3BvbmRpbmcgbW92aWUgZGV0YWlsLgoJCQkvLyBPdGhlcndpc2UsIHNlYXJjaCBmb3IgdGhlIG5ldyBtb3ZpZS4KCQkJc3dpdGNoIChmb3JtYXR0ZWRNc2cpIHsKCQkJCWNhc2UgInJhbmtpbmdzIjoKCQkJCQlnZXRQbGF5ZXJEZXRhaWwoc2VuZGVySWQsIGZvcm1hdHRlZE1zZyk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJibG9jayBtZSI6CgkJCQkJcHJvY2Vzc0Jsb2NrVW5ibG9jayhzZW5kZXJJZCk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJ1bmJsb2NrIG1lIjoKCQkJCQlwcm9jZXNzQmxvY2tVbmJsb2NrKHNlbmRlcklkKTsKCQkJCQlicmVhazsKCQkJCWNhc2UgInNoYXJlIjoKCQkJCQlwdWJsaXNoVG9wVGVuSG90dGVzdFBob3RvcyhzZW5kZXJJZCwgbnVsbCk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICJwdWJsaXNoIjoKCQkJCQlwdWJsaXNoVG9wVGVuSG90dGVzdFBob3RvcyhzZW5kZXJJZCwgbnVsbCk7CgkJCQljYXNlICJwb3N0IjoKCQkJCQlwdWJsaXNoVG9wVGVuSG90dGVzdFBob3RvcyhzZW5kZXJJZCwgbnVsbCk7CgkJCQlkZWZhdWx0OgoJCQkJCWZpbmRNb3ZpZShzZW5kZXJJZCwgZm9ybWF0dGVkTXNnKTsKCQkJfQoJCX0gZWxzZSBpZiAobWVzc2FnZS5hdHRhY2htZW50cykgewoJCQlzZW5kTWVzc2FnZShzZW5kZXJJZCwge3RleHQ6ICJTb3JyeSwgSSBkb25cJ3QgdW5kZXJzdGFuZCB5b3VyIHJlcXVlc3QuIn0pOwoJCX0KCX0KfTsKCi8qKgogKiBNZXNzZW5nZXIgQVBJCiAqIFNlbmRzIG1lc3NhZ2UgdG8gdXNlcgogKiBAcGFyYW0gcmVjaXBpZW50SWQKICogQHBhcmFtIG1lc3NhZ2UKICovCmZ1bmN0aW9uIHNlbmRNZXNzYWdlKHJlY2lwaWVudElkLCBtZXNzYWdlKXsKCXJlcXVlc3QoewoJCXVybDogImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YuMi42L21lL21lc3NhZ2VzIiwKCQlxczogeyBhY2Nlc3NfdG9rZW46IGtleXMuZmFjZWJvb2sucGFnZUFjY2Vzc1Rva2VuIH0sCgkJbWV0aG9kOiAiUE9TVCIsCgkJanNvbjogewoJCQlyZWNpcGllbnQ6IHsgaWQ6IHJlY2lwaWVudElkIH0sCgkJCW1lc3NhZ2U6IG1lc3NhZ2UsCgkJfQoJfSwgZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlLCBib2R5KXsKCQlpZiAoZXJyb3IpIHsKCQkJY29uc29sZS5sb2coIkVycm9yIHNlbmRpbmcgbWVzc2FnZTogIiArIHJlc3BvbnNlLmVycm9yKTsKCQl9Cgl9KTsKfTsKCi8qKgogKiBNZXNzZW5nZXIgQVBJCiAqIEZpbmRzIG1vdmllIG9uIE9NREJBUEkgRGF0YWJhc2UKICogQHBhcmFtIHVzZXJJZAogKiBAcGFyYW0gbW92aWVUaXRsZQogKi8KZnVuY3Rpb24gZmluZE1vdmllKHVzZXJJZCwgbW92aWVUaXRsZSl7Cgl2YXIgbWVzc2FnZTsKCXJlcXVlc3QoImh0dHA6Ly93d3cub21kYmFwaS5jb20vP3R5cGU9bW92aWUmYW1wO3Q9IiArIG1vdmllVGl0bGUsIGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSwgYm9keSkgewoJCWlmICghZXJyb3IgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CgkJCXZhciBtb3ZpZU9iaiA9IEpTT04ucGFyc2UoYm9keSk7CgkJCWlmIChtb3ZpZU9iai5SZXNwb25zZSA9PSAiVHJ1ZSIpIHsKCQkJCXZhciBxdWVyeSA9IHt1c2VyX2lkOiB1c2VySWR9OwoJCQkJdmFyIHVwZGF0ZSA9IHsKCQkJCQl1c2VyX2lkOiB1c2VySWQsCgkJCQkJdGl0bGU6IG1vdmllT2JqLlRpdGxlLAoJCQkJCXBsb3Q6IG1vdmllT2JqLlBsb3QsCgkJCQkJZGF0ZTogbW92aWVPYmouUmVsZWFzZSwKCQkJCQlydW50aW1lOiBtb3ZpZU9iai5SdW50aW1lLAoJCQkJCWRpcmVjdG9yOiBtb3ZpZU9iai5EaXJlY3RvciwKCQkJCQljYXN0OiBtb3ZpZU9iai5BY3RvcnMsCgkJCQkJcmF0aW5nOiBtb3ZpZU9iai5pbWdSYXRpbmcsCgkJCQkJcG9zdGVyX3VybDogbW92aWVPYmouUG9zdGVyCgkJCQl9OwoKCQkJCXZhciBvcHRpb25zID0geyB1cHNlcnQ6IHRydWUgfTsKCQkJCVBob3Rvcy5maW5kT25lQW5kVXBkYXRlKHF1ZXJ5LCB1cGRhdGUsIG9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBtb3ZpZSl7CgkJCQkJaWYgKGVycm9yKSB7CgkJCQkJCWNvbnNvbGUubG9nKCJEYXRhYmFzZSBlcnJvcjogIiArIGVycm9yKTsKCQkJCQl9IGVsc2UgewoJCQkJCQltZXNzYWdlID0gewoJCQkJCQkJYXR0YWNobWVudDogewoJCQkJCQkJCXR5cGU6ICJ0ZW1wbGF0ZSIsCgkJCQkJCQkJcGF5bG9hZDogewoJCQkJCQkJCQl0ZW1wbGF0ZV90eXBlOiAiZ2VuZXJpYyIsCgkJCQkJCQkJCWVsZW1lbnRzOiBbewoJCQkJCQkJCQkJdGl0bGU6IG1vdmllT2JqLlRpdGxlLAoJCQkJCQkJCQkJc3VidGl0bGU6ICJJcyB0aGlzIHRoZSBtb3ZpZSB5b3UgYXJlIGxvb2tpbmcgZm9yPyIsCgkJCQkJCQkJCQlpbWFnZVVybDogbW92aWVPYmouUG9zdGVyID09PSAiTi9BIiA/ICJodHRwOi8vcGxhY2Vob2xkLml0LzM1MHgxNTAiIDogbW92aWVPYmouUG9zdGVyLAoJCQkJCQkJCQkJYnV0dG9uczogW3sKCQkJCQkJCQkJCQl0eXBlOiAicG9zdGJhY2siLAoJCQkJCQkJCQkJCXRpdGxlOiAiSG90IiwKCQkJCQkJCQkJCQlwYXlsb2FkOiAiQ29ycmVjdCIKCQkJCQkJCQkJCX0sIHsKCQkJCQkJCQkJCQl0eXBlOiAicG9zdGJhY2siLAoJCQkJCQkJCQkJCXRpdGxlOiAiTm90IiwKCQkJCQkJCQkJCQlwYXlsb2FkOiAiSW5jb3JyZWN0IgoJCQkJCQkJCQkJfV0KCQkJCQkJCQkJfV0KCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX07CgkJCQkJCXNlbmRNZXNzYWdlKHVzZXJJZCwgbWVzc2FnZSk7CgkJCQkJfQoJCQkJfSk7CgkJCX0gZWxzZSB7CgkJCQljb25zb2xlLmxvZyhtb3ZpZU9iai5FcnJvcik7CgkJCQlzZW5kTWVzc2FnZSh1c2VySWQsIHt0ZXh0OiBtb3ZpZU9ian0pOwoJCQl9CgkJfSBlbHNlIHsKCQkJc2VuZE1lc3NhZ2UodXNlcklkLCB7dGV4dDogIlNvbWV0aGluZyB3ZW50IHdyb25nLiBUcnkgYWdhaW4uIn0pOwoJCX0KCX0pOwp9OwoKLyoqCiAqIE1lc3NlbmdlciBBUEkKICogUHJvY2VzcyBibG9ja2luZyBhbmQgdW5ibG9ja2luZyB1c2VyL3Bob3RvCiAqIENoZWNrIGlmIHRoZSBwcm92aWRlIGlkIGlzIGN1cnJlbnRseSBibG9ja2VkIHRoZW4gdW5ibG9jayBpdCBvdGhlciB3aXNlIGJsb2NrIGl0CiAqIEBwYXJhbSB1c2VySWQKICogQHJldHVybiB7fQogKi8KZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrVW5ibG9jayh1c2VySWQpewoJdmFyIHF1ZXJ5ID0geyAiaW1hZ2VJZCI6IHVzZXJJZCB9OwoJdmFyIGF0dGVtcHRzID0gMDsKCVBob3Rvcy5maW5kT25lKHF1ZXJ5LCBmdW5jdGlvbihlcnIsIHBob3RvKXsKCQlpZiAocGhvdG8pIHsKCQkJaWYgKHBob3RvLmlzX2Jsb2NrZWQpCgkJCQl1bmJsb2NrUGhvdG8ocGhvdG8pOwoJCQllbHNlIGlmICghcGhvdG8uaXNfYmxvY2tlZCkKCQkJCWJsb2NrUGhvdG8ocGhvdG8pOwoJCX0gZWxzZSBpZiAoIXBob3RvKQoJCQlhdHRlbXB0cysrOwoJCWlmIChhdHRlbXB0cyA+IDIpIGF0dGVtcHRzID0gMDsKCQlzZW5kTWVzc2FnZSh1c2VySWQsIHt0ZXh0OiAiU29tZXRoaW5nIHdlbnQgd3JvbmcuIFRyeSBhZ2FpbiBsYXRlciJ9KTsKCQljb25zb2xlLmxvZygnbm8gcGhvdG8gZm91bmQnKTsKCX0pOwp9OwpmdW5jdGlvbiBibG9ja1Bob3RvKGNhbGxiYWNrKXsKCWNhbGxiYWNrLmlzX2Jsb2NrZWQgPSB0cnVlOwoJY2FsbGJhY2suc2F2ZShmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpewoJCWlmIChlcnJvcikKCQkJdGhyb3cgZXJyb3I7CgkJZWxzZQoJCQljb25zb2xlLmxvZygiWW91ciBwaG90byBoYXMgYmVlbiBibG9ja2VkLiBZb3Ugd2lsbCBub3QgYmUgYWJsZSB0byBiZSB2b3RlZCBub3Igdm90ZSBhZ2FpbiBpbiB0aGUgZnV0dXJlLiIpOwoJCXNlbmRNZXNzYWdlKGNhbGxiYWNrLmZhY2Vib29rSGFuZGxlLmlkLCB7dGV4dDogIllvdXIgcGhvdG8gaGFzIGJlZW4gYmxvY2tlZC4gWW91IHdpbGwgbm90IGJlIGFibGUgdG8gYmUgdm90ZWQgbm9yIHZvdGUgYWdhaW4gaW4gdGhlIGZ1dHVyZS4ifSk7Cgl9KTsKCS8vIG5ldyBCbG9ja2VkUGhvdG9zKHtpZDogY2FsbGJhY2suaW1hZ2VJZCxpc19ibG9ja2VkOiB0cnVlfSkuc2F2ZSgpOwoJcmV0dXJuIGNhbGxiYWNrOwp9OwpmdW5jdGlvbiB1bmJsb2NrUGhvdG8oY2FsbGJhY2spewoJY2FsbGJhY2suaXNfYmxvY2tlZCA9IGZhbHNlOwoJY2FsbGJhY2suc2F2ZShmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpewoJCWlmIChlcnJvcikgdGhyb3cgZXJyb3I7CgkJZWxzZQoJCQljb25zb2xlLmxvZygiWW91ciBwaG90byBoYXMgYmVlbiB1bmJsb2NrZWQuIFlvdXIgcGhvdG8gY2FuIGJlIHZvdGVkIGJ5IHlvdXIgZnJpZW5kcy4iKTsKCQlzZW5kTWVzc2FnZShjYWxsYmFjay5mYWNlYm9va0hhbmRsZS5pZCwge3RleHQ6ICJZb3VyIHBob3RvIGhhcyBiZWVuIHVuYmxvY2tlZC4gWW91ciBwaG90byBjYW4gYmUgdm90ZWQgYnkgeW91ciBmcmllbmRzLiJ9KTsKCX0pOwoJLy8gQmxvY2tlZFBob3Rvcy5yZW1vdmUoe2lkOiBjYWxsYmFjay5pbWFnZUlkfSkuc2F2ZSgpOwoJcmV0dXJuIGNhbGxiYWNrOwp9OwoKLyoqCiAqIFVzZXIvU2VuZGVyL1ZvdGVyIC0+IGlzIHRoZSBwZXJzb24gdXNpbmcgdGhlIGFwcCBhbmQgZG9pbmcgdGhlIHJhdGluZ3MKICogUGxheWVyIC0+IGlzIHRoZSBwZXJzb24gYmVpbmcgdm90ZWQvcmF0ZWQgZm9yIGl0J3MgaG90bmVzcwogKiBQbGF5ZXIvcyBpcy9hcmUgdGhlIHNlbmRlcidzIGZyaWVuZC9zIHdpdGhpbiB0aGUgMTMtMjEgYWdlIGdyb3VwIHJhbmdlCiAqCiAqIEdpcmxzIHJhdGluZyBnaXJscywgYm95cyByYXRpbmcgYm95cyBub3QgcmVhbGx5IGEgZXhjaXRpbmcgdGhpbmcKICogR2V0IHZvdGVyJ3MgZ2VuZGVyIHNvCiAqIGlmIHVzZXIgaXMgYSBmZW1hbGUsIHNoZSByYXRlcyBoZXIgZnJpZW5kcyB0aGF0IGFyZSBib3lzCiAqIGlmIHVzZXIgaXMgYSBtYWxlLCBoZSByYXRlcyBoaXMgZnJpZW5kcyB0aGF0IGFyZSBnaXJscwogKi8KZnVuY3Rpb24gcHJvY2Vzc1VzZXJHZW5kZXIoZXZlbnQpewoJdmFyIHNlbmRlcklkID0gZXZlbnQuc2VuZGVyLmlkOwoJLy8gR2V0dGluZyB1c2VyJ3MgZ2VuZGVyIGZyb20gdXNlciBQcm9maWxlIEFQSQoJLy8gYW5kIHJlZGlyZWN0IHRvIHJlc3BlY3RpdmUgZnVuY3Rpb24KCXJlcXVlc3QoewoJCXVybDogYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YzLjAvJHtzZW5kZXJJZH1gLAoJCXFzOiB7CgkJCWFjY2Vzc190b2tlbjoga2V5cy5mYWNlYm9vay5wYWdlQWNjZXNzVG9rZW4sCgkJCWZpZWxkczogImdlbmRlciIKCQl9LAoJCW1ldGhvZDogIkdFVCIKCX0sIGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSwgYm9keSl7CgkJdmFyIGdyZWV0aW5nID0gIiI7CgkJaWYgKGVycm9yKSB7CgkJCWNvbnNvbGUubG9nKCcxODE1OiAnICsgIkVycm9yIGdldHRpbmcgdXNlcidzIGdlbmRlcjogIiArIGVycm9yKTsKCQl9IGVsc2UgewoJCQl2YXIgYm9keU9iaiA9IEpTT04ucGFyc2UoYm9keSk7CgkJCXZhciBnZW5kZXIgPSBib2R5T2JqLmdlbmRlcjsKCQkJLy8gQ2hlY2tpbmcgdXNlcidzIGdlbmRlcgoJCQlpZiAoZ2VuZGVyID09PSAibWFsZSIpIHsKCQkJCS8vIGJveXMgdm90ZSBmb3IgZ2lybHMgaG90bmVzcwoJCQkJcmF0ZUdpcmxzKCk7CgkJCX0gZWxzZSBpZiAoZ2VuZGVyID09PSAiZmVtYWxlIikgewoJCQkJLy8gZ2lybHMgdm90ZSBmb3IgYm95cyBob3RuZXNzCgkJCQlyYXRlQm95cygpOwoJCQl9CgkJfQoJfSk7Cn07CgovKioKICogUHJvY2VzcyBhbmQgc3dhcCB1c2VyIGdlbmRlciBzbyBtYWxlIHZvdGVzIGZlbWFsZSBhbmQgdmlzZSB2ZXJzYQogKiBAcGFyYW0gZ2VuZGVyCiAqIEByZXR1cm5zIHtzdHJpbmd9CiAqLwpmdW5jdGlvbiBzaGltKGdlbmRlcil7CglyZXR1cm4gZ2VuZGVyID09ICdmZW1hbGUnID8gJ21hbGUnIDogJ2ZlbWFsZSc7Cn07CgpmdW5jdGlvbiByYW5kb21RdWVyeShjb25maWcpewoJdmFyIGdlbmRlciA9ICdtYWxlJzsKCXZhciB1c2VySWQgPSAxMDAwMDQxNzcyNzgxNjk7Cgl2YXIgZmlsdGVyID0gewoJCSJnZW5kZXIiOiBnZW5kZXIsCgkJInZvdGVkIjogJ2ZhbHNlJywKCQkiaXNfYmxvY2tlZCI6ICdmYWxzZScsCgkJImZhY2Vib29rSGFuZGxlLmlkIjogeyRuZTogdXNlcklkfQoJfTsKCXZhciBmaWVsZHMgPSB7fTsKCXZhciBvcHRpb25zID0geyJsaW1pdCI6IDJ9OwoKCVBob3Rvcy5maW5kUmFuZG9tKGZpbHRlciwgZmllbGRzLCBvcHRpb25zLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHsKCQlpZiAoIWVycikgewoJCQljb25zb2xlLmxvZygicXVlcnkgMTogIiArIHJlc3VsdHMpOyAvLyAyIG9iamVjdHMKCQl9Cgl9KTsKCVBob3Rvcy5maW5kT25lUmFuZG9tKGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7CgkJaWYgKCFlcnIpIHsKCQkJY29uc29sZS5sb2coInF1ZXJ5IDI6ICIgKyByZXN1bHQpOwoJCX0KCX0pOwp9OwoKLy8gcmFuZG9tUXVlcnkoKTsKCi8qKgogKiBBbGdvcml0aG0gZm9yIFN0dWNrV2FuWWFoCiAqIEFmdGVyIHVzZXIgbG9nZ2VkIGluIHdpdGggZmFjZWJvb2sgdXNpbmcgd2hhdGV2ZXIgdGVjaG5vbG9neSwKICogdGhlc2UgYWN0aW9ucyBhcmUgaW52b2tlZCB0byBnYXRoZXIgbW9yZSBpbmZvIGFib3V0IHRoZSB1c2VyLgogKgogKiBDaGVja3MgaWYgdXNlciBsb2dnaW5nIGluIGlzIGFuIGV4aXN0aW5nIHVzZXIgdGhlbiBAZ290byBnZXRVc2VyRnJpZW5kcygpCiAqIGJ1dCBpZiBub3QgdGhlbiBjcmVhdGVzIGEgbmV3IHVzZXIgYnkgQGdvdG8gZ2V0VXNlckRldGFpbHNGcm9tRmFjZWJvb2soKQogKiBAcGFyYW1zIGZhY2Vib29rSWQgVXNlcidzIEZhY2Vib29rIElEIGZyb20gRmFjZWJvb2sKICovCgovLyB1c2Vyc0Zyb21MaXN0KHJlcXVpcmUoJy4vcGhvdG9zJykucGhvdG9zKTsKLy8gdXNlcnNGcm9tTGlzdChyZXF1aXJlKCcuL2ZyaWVuZHNsaXN0JykpOwoKZnVuY3Rpb24gdXNlcnNGcm9tTGlzdChkYXRhKSB7CgkvLyBjcmVhdGUgYWxsIG9mIHRoZSBkdW1teSBwZW9wbGUKCWFzeW5jLmVhY2goZGF0YSwgZnVuY3Rpb24ocHJvZmlsZSl7CgkJY29uc29sZS5sb2coIkNoZWNraW5nIHVzZXIgaWQgIisgcHJvZmlsZS5pZCArICIgb24gdGhlIGRhdGFiYXNlIikKCQkvLyBmaW5kIGVhY2ggdXNlciBieSBwcm9maWxlIAoJCS8vIGlmIHRoZSB1c2VyIHdpdGggdGhhdCBpZCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgdGhlbiBjcmVhdGUgaXQKCQkvLyBjaGVja1VzZXJFeGlzdGFuY2UocHJvZmlsZS5pZCk7CgkJcG9wdWxhdGVQaG90b3MocHJvZmlsZSk7Cgl9KTsKfTsKCmZ1bmN0aW9uIHBvcHVsYXRlUGhvdG9zKHByb2ZpbGUpIHsKCVBob3Rvcy5maW5kKHtpbWFnZUlkOiBwcm9maWxlLmlkfSkudGhlbihmdW5jdGlvbihyZXMpewoJCXZhciBwID0gbmV3IFBob3Rvcyh7CgkJCWltYWdlSWQ6IHByb2ZpbGUuaWQsCgkJCWZ1bGxOYW1lOiBwcm9maWxlLm5hbWUsCgkJCWZpcnN0TmFtZTogcHJvZmlsZS5maXJzdF9uYW1lLAoJCQlsYXN0TmFtZTogcHJvZmlsZS5sYXN0X25hbWUsCgkJCWFnZTogKHByb2ZpbGUuYWdlX3JhbmdlLm1pbiArIHByb2ZpbGUuYWdlX3JhbmdlLm1heCkvMiwKCQkJZ2VuZGVyOiBwcm9maWxlLmdlbmRlciwKCQkJcGljdHVyZTogcHJvZmlsZS5waG90bywKCQkJcHJvZmlsZVVybDogcHJvZmlsZS5waG90bwoJCX0pOwoJCXAuc2F2ZShmdW5jdGlvbihlcnIsIHJlcyl7CgkJCWlmIChlcnIpIHt0aHJvdyBuZXcgRXJyb3IoZXJyKTt9CgkJCWNvbnNvbGUubG9nKHJlcyk7CgkJfSk7Cgl9KTsKfQoKLy8gY2hlY2tVc2VyRXhpc3RhbmNlKDk1NDI3OTI1MTM4Nzk3NS8qMTAwMDA0MTc3Mjc4MTY5Ki8pOwoKLy8gQ2hlY2tzIHVzZXIgaWQgZXhpc3RzIGJ5IHF1ZXJ5aW5nIHRoZSBkYXRhYmFzZSB1c2luZyB1c2VyIGlkIGZyb20gSW5zdGFudEdhbWUgYW5kIFRhYkFwcAovKiBjaGVjayBkYXRhYmFzZSBpZiBwYXJ0aWN1bGFyIHVzZXJpZCBleGlzdHMgYWxyZWFkeSBhcyB1c2VyKi8KZnVuY3Rpb24gLyogc3RlcDogMSAqLyBjaGVja1VzZXJFeGlzdGFuY2UodXNlcklkKSB7CglQaG90b3MuZmluZE9uZSh7CgkJJG9yOiBbCgkJCXsiaW1hZ2VJZCI6IHVzZXJJZH0sCgkJCXsiZmFjZWJvb2tIYW5kbGUuaWRzIjogdXNlcklkfQoJCV0KCX0pLnRoZW4oKHVzZXIpID0+IHsKCQlpZiAoIXVzZXIpIHsKCQkJLyogdXNlciBub3QgZXhpc3QgKi8KCQkJY29uc29sZS5sb2coIlVzZXIgd2l0aCBpZCAiICsgdXNlcklkICsgIiBub3QgZm91bmQiKTsKCQkJLyogZ290bzogLT4gc3RlcDogMiAqLyBnZXRVc2VyRGV0YWlsc0Zyb21GYWNlYm9vayh1c2VySWQpOwoJCX0gZWxzZSB7CgkJCS8qIHVzZXIgZXhpc3RzLiB1c2UgdGhlIGltYWdlSWQgYmVjYXVzZSBpbWFnZUlkIGlzIHRoZSBpZCB0aGUgdXNlciB1c2VkIHdoZW4gc2lnbmVkIHVwIGZvciB0aGUgZmlyc3QgdGltZSAqLwoJCQljb25zb2xlLmxvZygiVXNlciB3aXRoIGlkICIgKyB1c2VyLmltYWdlSWQgKyAiIGZvdW5kIik7CgkJCS8qIGdvdG86IC0+IHN0ZXA6IDUgKi8gdXBkYXRlVXNlckRldGFpbHNGcm9tRmFjZWJvb2sodXNlci5pbWFnZUlkKTsKCQl9Cgl9KS5jYXRjaCgoZXJyb3IpID0+IHsKCQl0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOwoJfSk7Cn07CgovKioKICogUmV0cmlldmUgdXNlcidzIHByb2ZpbGUgcGljdHVyZSwgZnJpZW5kcyBsaXN0LCBhbmQgYmFzaWMgaW5mbyBmcm9tIEZhY2Vib29rCiAqIEBwYXJhbSB1c2VySWQ7IEZhY2Vib29rSWQsIGluc3RhbnRHYW1lSWQsIEZiUGFnZUlkCiAqLwpmdW5jdGlvbiAvKiBzdGVwOiAyICovIGdldFVzZXJEZXRhaWxzRnJvbUZhY2Vib29rKHVzZXJJZCl7CglyZXR1cm4gcmVxdWVzdCh7CgkJdXJsOmBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92My4wLyR7dXNlcklkfS9gLAoJCXFzOiB7CgkJCWFjY2Vzc190b2tlbjoga2V5cy5mYWNlYm9vay51c2VyQWNjZXNzVG9rZW4sCgkJCWZpZWxkczoiaWQsbmFtZSxsYXN0X25hbWUsZmlyc3RfbmFtZSxiaXJ0aGRheSxhZ2VfcmFuZ2UsZ2VuZGVyLGxpbmsscGljdHVyZS50eXBlKHNxdWFyZSkud2lkdGgoMjAwKS5oZWlnaHQoMjAwKSxmcmllbmRze2FnZV9yYW5nZSxiaXJ0aGRheSxuYW1lLGZpcnN0X25hbWUsbGFzdF9uYW1lLGdlbmRlcn0saWRzX2Zvcl9hcHBzIgoJCX0sCgkJbWV0aG9kOiAiR0VUIgoJfSwgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4gewoJCWlmIChlcnJvcikgY29uc29sZS5lcnJvcihlcnJvcik7CgkJaWYgKHJlc3BvbnNlICYmIGJvZHkpIHsKCQkJdmFyIGJvZHlPYmogPSBKU09OLnBhcnNlKGJvZHkpOwoJCQkvKiBnb3RvOiAtPiBzdGVwOiAzICovIHByZXBhcmVVc2VyRGF0YShib2R5T2JqKTsKCQl9Cgl9KTsKfTsKCi8qKgogKiBQcmVwYXJlcyBhbGwgdGhlIHVzZXIncyBiYXNpYyBkZXRhaWxzCiAqIEBwYXJhbSBwcm9maWxlCiAqLwphc3luYyBmdW5jdGlvbiAvKiBzdGVwOiAzICovIHByZXBhcmVVc2VyRGF0YShmYlByb2ZpbGUpIHsKCXZhciBvYmplY3QgPSB7fTsKCS8vIGltYWdlSWQgaXMgdGhlIGZhY2Vib29rIGlkCglvYmplY3RbJ2ltYWdlSWQnXSA9IGZiUHJvZmlsZS5pZDsKCW9iamVjdFsnZnVsbE5hbWUnXSA9IGZiUHJvZmlsZS5uYW1lOwoJb2JqZWN0WydmaXJzdE5hbWUnXSA9IGZiUHJvZmlsZS5maXJzdF9uYW1lOwoJb2JqZWN0WydsYXN0TmFtZSddID0gZmJQcm9maWxlLmxhc3RfbmFtZTsKCgkvLyBkZXRlcm1pbmUgdGhlIGFnZSBieSBzdWJ0cmFjdGluZyBiaXJ0aCB5ZWFyIGZyb20gY3VycmVudCB5ZWFyIG9yIGNhbGN1bGF0aW5nIHRoZSBhdmVyYWdlIG9mIGFnZV9yYW5nZQoJaWYgKGZiUHJvZmlsZVsnYmlydGhkYXknXSkgewoJCW9iamVjdFsnYWdlJ10gPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSBuZXcgRGF0ZShmYlByb2ZpbGUuYmlydGhkYXkpLmdldEZ1bGxZZWFyKCk7Cgl9CgllbHNlIGlmIChmYlByb2ZpbGVbJ2FnZV9yYW5nZSddKSB7CgkJb2JqZWN0WydhZ2UnXSA9IChmYlByb2ZpbGUuYWdlX3JhbmdlLm1pbiArIGZiUHJvZmlsZS5hZ2VfcmFuZ2UubWF4KSAvIDI7Cgl9CgoJLy8gYXNzaWduIGdlbmRlcgoJb2JqZWN0WydnZW5kZXInXSA9IGZiUHJvZmlsZS5nZW5kZXIgPyBmYlByb2ZpbGUuZ2VuZGVyIDogJyc7CgoJLy8gdXNlIHBob3RvIHVybCBpZiBpdCdzIGEgc3RyaW5nIGJ1dCBydW4gZG93biB0aGUgdHJlZSB0byBwaWNrIHRoZSB1cmwKCS8vIGlmIGFsbCBmYWlscyBzY3JhcGUgdGhlIHBob3RvIHVzaW5nIGZiSWQKCWlmIChmYlByb2ZpbGUucGhvdG8gJiYgInN0cmluZyIgPT0gdHlwZW9mIGZiUHJvZmlsZS5waG90bykgewoJCW9iamVjdFsncGljdHVyZSddID0gZmJQcm9maWxlLnBob3RvOwoJfQoJZWxzZSBpZiAoZmJQcm9maWxlLnBpY3R1cmUgJiYgdHlwZW9mIGZiUHJvZmlsZS5waWN0dXJlID09ICdvYmplY3QnKSB7CgkJaWYgKGZiUHJvZmlsZS5waWN0dXJlLmRhdGEgJiYgZmJQcm9maWxlLnBpY3R1cmUuZGF0YS51cmwpIHsKCQkJb2JqZWN0WydwaWN0dXJlJ10gPSBmYlByb2ZpbGUucGljdHVyZS5kYXRhLnVybDsKCQl9Cgl9CgllbHNlIHsKCQl2YXIgcGljID0gYXdhaXQgZ2V0VXNlclByb2ZpbGVQaWN0dXJlKGZiUHJvZmlsZS5pZCk7CgkJb2JqZWN0WydwaWN0dXJlJ10gPSBwaWM7Cgl9CgoJb2JqZWN0Wydwcm9maWxlVXJsJ10gPSBgL3Byb2ZpbGUucGhwP2lkPSR7ZmJQcm9maWxlLmlkfWA7CgoJb2JqZWN0WydmYWNlYm9va0hhbmRsZSddID0gewoJCWlkczogbmV3IEFycmF5KCkKCX07CglpZiAoZmJQcm9maWxlLmlkc19mb3JfYXBwcyAmJiBmYlByb2ZpbGUuaWRzX2Zvcl9hcHBzLmRhdGEgJiYgQXJyYXkuaXNBcnJheShmYlByb2ZpbGUuaWRzX2Zvcl9hcHBzLmRhdGEpKSB7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBmYlByb2ZpbGUuaWRzX2Zvcl9hcHBzLmRhdGEubGVuZ3RoOyBpKyspIHsKCQkJLy8gc3dpdGNoIChib2R5T2JqLmRhdGFbaV0uYXBwcy5pZCkgewoJCQkvLyAJY2FzZSAiMTc5MTE2NTM1NzU2ODgzMSI6CgkJCS8vIAkJLy8gc3R1Y2t3YW55YWggd2ViCgkJCS8vIAkJZmJQcm9maWxlWydmYWNlYm9va0hhbmRsZSddWydpbnN0YW50R2FtZUlkJ10gPSBib2R5T2JqLmRhdGFbaV0uaWQ7CgkJCS8vIAkJYnJlYWs7CgkJCS8vIAljYXNlICIyMDYyMDA3Mjk5ODMyMDIiOgoJCQkvLyAJCS8vIHN0dWNrd2FueWFoIGluc3RhbnRnYW1lCgkJCS8vIAkJZmJQcm9maWxlWydmYWNlYm9va0hhbmRsZSddWydpbnN0YW50R2FtZUlkJ10gPSBib2R5T2JqLmRhdGFbaV0uaWQ7CgkJCS8vIAkJYnJlYWs7CgkJCS8vIH0KCQkJb2JqZWN0WydmYWNlYm9va0hhbmRsZSddWydpZHMnXS5wdXNoKGZiUHJvZmlsZS5pZHNfZm9yX2FwcHMuZGF0YVtpXS5pZCk7CgkJCS8vIG9iamVjdFsnZmFjZWJvb2tIYW5kbGUnXSA9IHsKCQkJLy8gCS8vIGlkOiBmYlByb2ZpbGUuaWQsCgkJCS8vIAlpbnN0YW50R2FtZUlkOiBmYlByb2ZpbGUuaWQKCQkJLy8gCS8vIHdlYklkOiAKCQkJLy8gfTsKCgkJfQoJfQoKCS8vIGlmIChmYlByb2ZpbGUuZnJpZW5kcyAmJiBmYlByb2ZpbGUuZnJpZW5kcy5kYXRhICYmIEFycmF5LmlzQXJyYXkoZmJQcm9maWxlLmZyaWVuZHMuZGF0YSkpIHsKCS8vIAlmb3IgKHZhciBpID0gMDsgaSA8IGZiUHJvZmlsZS5mcmllbmRzLmRhdGEubGVuZ3RoOyBpKyspIHsKCS8vIAkJaWYoIW9iamVjdFsnZmFjZWJvb2tIYW5kbGUnXVsnZnJpZW5kcyddLmluY2x1ZGVzKGZiUHJvZmlsZS5mcmllbmRzLmRhdGFbaV0pKSB7CgkvLyAJCQlBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShvYmplY3RbJ2ZhY2Vib29rSGFuZGxlJ11bJ2ZyaWVuZHMnXSwgZmJQcm9maWxlLmZyaWVuZHMuZGF0YVtpXSk7CgkvLyAJCX0gZWxzZSB7Y29udGludWU7fQoJLy8gCQlvYmplY3RbJ2ZhY2Vib29rSGFuZGxlJ10gPSB7CgkvLyAJCQknZnJpZW5kcyc6IGZiUHJvZmlsZS5mcmllbmRzLmRhdGEKCS8vIAkJfQoJLy8gCX0KCS8vIH0KCgkvLyBsZWF2ZSB0aGUgcmVzdCB0byBkZWZhdWx0CglvYmplY3RbJ2lzX2Jsb2NrZWQnXSA9IGZhbHNlOwoJLy8gd2luczogMCwKCS8vIGxvc3NlczogMCwKCS8vIGRyYXdzOiAwLAoJLy8gc2NvcmU6IDAsCgkvLyByYXRpbmdzOiAwLAoJb2JqZWN0WydyYW5kb20nXSA9IFtNYXRoLnJhbmRvbSgpLCAwXTsKCS8vIHZvdGVkOiBmYWxzZSwKCS8vIHZvdGVkX2J5OiBbXSwKCS8vIGNoYWxsZW5nZXJzOiBbXSwKCS8vIGpvaW5lZEF0OiBEYXRlLm5vdygpCgoJLyogZ290bzogLT4gc3RlcDogMyAqLyBjcmVhdGVOZXdVc2VyKG9iamVjdCk7Cn07CgovKioKICogU2F2ZSB1c2VyIHByb2ZpbGUgZGF0YSB0byBTdHVja1dhbllhaCBkYXRhYmFzZQogKiBAcGFyYW0gZGF0YQogKi8KLyoqIGNyZWF0ZXMgbmV3IHVzZXIgJ2NhdXNlIHRoZSBpZCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZGF0YWJhc2UgKi8KZnVuY3Rpb24gLyogc3RlcDogNCAqLyBjcmVhdGVOZXdVc2VyKGRhdGEpewoJY29uc29sZS5sb2coIkNyZWF0aW5nIG5ldyBzaW5nbGUgdXNlci4uLiIpOwoKCVBob3Rvcy51cGRhdGUoeyBpbWFnZUlkOiBkYXRhLmltYWdlSWQgfSwgeyAkc2V0OiBkYXRhIH0seyB1cHNlcnQ6IHRydWUgfSkudGhlbihuZXdVc2VyID0+IHsKCQkvKiBnb3RvOiAtPiBzdGVwOiA0ICovCgkJY29uc29sZS5sb2coIlVzZXIgIisgZGF0YS5pbWFnZUlkICsiIGNyZWF0ZWQuIEdldHRpbmcgZnJpZW5kcyIpOwoJCS8qIGdvdG86IC0+IHN0ZXA6IDYgKi8gZ2V0VXNlckZyaWVuZHMobmV3VXNlci5pbWFnZUlkKTsKCX0pLmNhdGNoKGVycm9yID0+IHsKCQljb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7CgkJLy8gLyogZ290bzogLT4gc3RlcDogMSAqLyBjaGVja1VzZXJFeGlzdGFuY2UoZGF0YS5pZCk7Cgl9KTsKCgkvL2NvbnNvbGUubG9nKGBjcmVhdGVkICR7cmVzdWx0cy5sZW5ndGh9ICgrKSBuZXcgcGxheWVyc2AuY3lhbik7CgkvLyBQaG90b3MuZmluZE9uZUFuZFVwZGF0ZShxdWVyeSwgdXBkYXRlLCBvcHRpb25zLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpewoJLy8gCWlmIChlcnIpIHRocm93IGVycjsKCS8vIAkvL2NvbnNvbGUubG9nKCdBcmUgdGhlIHJlc3VsdHMgTW9uZ29vc2VEb2N1bWVudHM/OiAlcycsIHJlc3VsdHNbMF0gaW5zdGFuY2VvZiBtb25nb29zZS5Eb2N1bWVudCk7CgkvLyAJY29uc29sZS5sb2coYGNyZWF0ZWQgJHtyZXN1bHRzLmxlbmd0aH0gKCspLCB1cGRhdGVkICR7cmVzdWx0cy5sZW5ndGh9ICh+KWApOwoJLy8gfSk7Cn07CgovKiAKICogQ2hlY2sgZm9yIGFueSBiYXNpYyBpbmZvIG5lc2Nlc3NhcnkgdGhhdCBpcyBub3QgcHJlc2VudAogKiByZXRyaWV2ZSBkZXRhaWxzIGZyb20gZmFjZWJvb2sgYW5kIGNvbXBhcmUgd2l0aCB0aGUgbG9jYWwgZGV0YWlscyBvZiB0aGUgc2FtZSB1c2VyCiAqIGNoYW5nZSBhbnl0aGluZyB0aGF0IGlzIG5vdCBzYW1lOwogKi8KZnVuY3Rpb24gLyogc3RlcDogNSAqLyB1cGRhdGVVc2VyRGV0YWlsc0Zyb21GYWNlYm9vayh1c2VySWQpewoJUGhvdG9zLmZpbmRPbmUoeyJpbWFnZUlkIjogdXNlcklkfSkKCQkudGhlbihwcm9maWxlID0+IHsKCQkJaWYgKHByb2ZpbGVbImdlbmRlciJdID09IHVuZGVmaW5lZCB8fCBwcm9maWxlWyJnZW5kZXIiXSA9PSAiIikgewoJCQkJLy8gLyogZ290bzogLT4gc3RlcDogMiAqLyBnZXRVc2VyRGV0YWlsc0Zyb21GYWNlYm9vayh1c2VySWQpOwoJCQkJcmVxdWVzdCh7CgkJCQkJdXJsOiBgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjMuMC8ke3VzZXJJZH1gLAoJCQkJCXFzOiB7CgkJCQkJCWFjY2Vzc190b2tlbjoga2V5cy5mYWNlYm9vay51c2VyQWNjZXNzVG9rZW4sCgkJCQkJCWZpZWxkczoiZ2VuZGVyIgoJCQkJCX0sCgkJCQkJbWV0aG9kOiAiR0VUIiwKCQkJCQlqc29uOiB0cnVlCgkJCQl9LCAoZXJyb3IsIHJlc3BvbnNlLCBib2R5KSA9PiB7CgkJCQkJaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOwoJCQkJCWlmIChyZXNwb25zZSAmJiBib2R5KSB7CgkJCQkJCWlmICgic3RyaW5nIiA9PSB0eXBlb2YgYm9keSkgewoJCQkJCQkJdmFyIGJvZHlPYmogPSBKU09OLnBhcnNlKGJvZHkpOwoJCQkJCQkJaWYgKGJvZHlPYmopIHsKCQkJCQkJCQlwcm9maWxlWydnZW5kZXInXSA9IGJvZHlPYmouZ2VuZGVyOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWlmICgib2JqZWN0IiA9PSB0eXBlb2YgYm9keSkgewoJCQkJCQkJaWYgKGJvZHkuZ2VuZGVyKSB7CgkJCQkJCQkJcHJvZmlsZVsnZ2VuZGVyJ10gPSBib2R5LmdlbmRlcjsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX07CgkJCQl9KTsKCQkJfQoKCQkJaWYgKHByb2ZpbGVbImFnZSJdID09IHVuZGVmaW5lZCB8fCBwcm9maWxlWyJhZ2UiXSA9PSAiIikgewoJCQkJLy8gLyogZ290bzogLT4gc3RlcDogMiAqLyBnZXRVc2VyRGV0YWlsc0Zyb21GYWNlYm9vayh1c2VySWQpOwoJCQkJcmVxdWVzdCh7CgkJCQkJdXJsOiBgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjMuMC8ke3VzZXJJZH1gLAoJCQkJCXFzOiB7CgkJCQkJCWFjY2Vzc190b2tlbjoga2V5cy5mYWNlYm9vay51c2VyQWNjZXNzVG9rZW4sCgkJCQkJCWZpZWxkczoiYWdlX3JhbmdlLGJpcnRoZGF5IgoJCQkJCX0sCgkJCQkJbWV0aG9kOiAiR0VUIiwKCQkJCQlqc29uOiB0cnVlCgkJCQl9LCAoZXJyb3IsIHJlc3BvbnNlLCBib2R5KSA9PiB7CgkJCQkJaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOwoJCQkJCWlmIChyZXNwb25zZSAmJiBib2R5KSB7CgkJCQkJCWlmICgic3RyaW5nIiA9PSB0eXBlb2YgYm9keSkgewoJCQkJCQkJdmFyIGJvZHlPYmogPSBKU09OLnBhcnNlKGJvZHkpOwoJCQkJCQkJaWYgKGJvZHlPYmpbJ2JpcnRoZGF5J10pIHsKCQkJCQkJCQlvYmplY3RbJ2FnZSddID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gbmV3IERhdGUoYm9keU9iai5iaXJ0aGRheSkuZ2V0RnVsbFllYXIoKTsKCQkJCQkJCX0KCQkJCQkJCWVsc2UgaWYgKGJvZHlPYmpbJ2FnZV9yYW5nZSddKSB7CgkJCQkJCQkJb2JqZWN0WydhZ2UnXSA9IChib2R5T2JqLmFnZV9yYW5nZS5taW4gKyBib2R5T2JqLmFnZV9yYW5nZS5tYXgpIC8gMjsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGJvZHkpIHsKCQkJCQkJCWlmIChib2R5T2JqWydiaXJ0aGRheSddKSB7CgkJCQkJCQkJb2JqZWN0WydhZ2UnXSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIG5ldyBEYXRlKGJvZHlPYmouYmlydGhkYXkpLmdldEZ1bGxZZWFyKCk7CgkJCQkJCQl9CgkJCQkJCQllbHNlIGlmIChib2R5T2JqWydhZ2VfcmFuZ2UnXSkgewoJCQkJCQkJCW9iamVjdFsnYWdlJ10gPSAoYm9keU9iai5hZ2VfcmFuZ2UubWluICsgYm9keU9iai5hZ2VfcmFuZ2UubWF4KSAvIDI7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9OwoJCQkJfSk7CgkJCX0KCgkJCWlmIChwcm9maWxlWyJmYWNlYm9va0hhbmRsZSJdWyJpZHMiXS5sZW5ndGgpIHsKCQkJCS8vIC8qIGdvdG86IC0+IHN0ZXA6IDIgKi8gZ2V0VXNlckRldGFpbHNGcm9tRmFjZWJvb2sodXNlcklkKTsKCQkJCXJlcXVlc3QoewoJCQkJCXVybDogYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YzLjAvJHt1c2VySWR9YCwKCQkJCQlxczogewoJCQkJCQlhY2Nlc3NfdG9rZW46IGtleXMuZmFjZWJvb2sudXNlckFjY2Vzc1Rva2VuLAoJCQkJCQlmaWVsZHM6J2lkc19mb3JfYXBwcycKCQkJCQl9LAoJCQkJCW1ldGhvZDogIkdFVCIsCgkJCQkJanNvbjogdHJ1ZQoJCQkJfSwgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4gewoJCQkJCWlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yKTsKCQkJCQlpZiAocmVzcG9uc2UgJiYgYm9keSkgewoJCQkJCQl2YXIgYm9keU9iajsKCQkJCQkJaWYgKCJzdHJpbmciID09PSB0eXBlb2YgYm9keS5pZHNfZm9yX2FwcHMpIHsKCQkJCQkJCWJvZHlPYmogPSBKU09OLnBhcnNlKGJvZHkuaWRzX2Zvcl9hcHBzKTsKCQkJCQkJfQoJCQkJCQl2YXIgYm9keU9iaiA9IG5ldyBPYmplY3QoYm9keS5pZHNfZm9yX2FwcHMpOwoJCQkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGJvZHlPYmogJiYgYm9keU9iai5kYXRhICYmIEFycmF5LmlzQXJyYXkoYm9keU9iai5kYXRhKSkgewoJCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5T2JqLmRhdGEubGVuZ3RoOyBpKyspIHsKCQkJCQkJCQkvLyBzd2l0Y2ggKGJvZHlPYmouZGF0YVtpXS5hcHBzLmlkKSB7CgkJCQkJCQkJLy8gCWNhc2UgIjE3OTExNjUzNTc1Njg4MzEiOgoJCQkJCQkJCS8vIAkJLy8gc3R1Y2t3YW55YWggd2ViCgkJCQkJCQkJLy8gCQlwcm9maWxlWydmYWNlYm9va0hhbmRsZSddWydpbnN0YW50R2FtZUlkJ10gPSBib2R5T2JqLmRhdGFbaV0uaWQ7CgkJCQkJCQkJLy8gCQlicmVhazsKCQkJCQkJCQkvLyAJY2FzZSAiMjA2MjAwNzI5OTgzMjAyIjoKCQkJCQkJCQkvLyAJCS8vIHN0dWNrd2FueWFoIGluc3RhbnRnYW1lCgkJCQkJCQkJLy8gCQlwcm9maWxlWydmYWNlYm9va0hhbmRsZSddWydpbnN0YW50R2FtZUlkJ10gPSBib2R5T2JqLmRhdGFbaV0uaWQ7CgkJCQkJCQkJLy8gCQlicmVhazsKCQkJCQkJCQkvLyB9CgkJCQkJCQkJcHJvZmlsZVsnZmFjZWJvb2tIYW5kbGUnXVsnaWRzJ10ucHVzaChib2R5T2JqLmRhdGFbaV0uaWQpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfTsKCQkJCX0pOwoJCQl9CgoJCQlwcm9maWxlLnNhdmUoZnVuY3Rpb24oZXJyb3IsIHVwZGF0ZWRQcm9maWxlKXsKCQkJCWlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yKTsKCQkJfSk7CgoJCQkvKiBnb3RvOiAtPiBzdGVwOiA2ICovIC8vZ2V0VXNlckZyaWVuZHModXNlcklkKTsKCQl9KS5jYXRjaChlcnJvciA9PiB7CgkJdGhyb3cgbmV3IEVycm9yKGVycm9yKTsKCX0pOwp9OwoKZnVuY3Rpb24gLyogc3RlcDogNiAqLyBnZXRVc2VyRnJpZW5kcyh1c2VySWQpIHsKCXJldHVybiByZXF1ZXN0KHsKCQl1cmw6IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92My4wLyR7dXNlcklkfWAsCgkJcXM6IHsKCQkJYWNjZXNzX3Rva2VuOiBrZXlzLmZhY2Vib29rLnVzZXJBY2Nlc3NUb2tlbiwKCQkJZmllbGRzOiJpZCxmcmllbmRze2lkfSIKCQl9LAoJCW1ldGhvZDogIkdFVCIsCgkJanNvbjogdHJ1ZQoJfSwgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4gewoJCWlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yKTsKCQlpZiAocmVzcG9uc2UgJiYgYm9keSkgewoJCQl2YXIgYm9keU9iajsKCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBib2R5KSB7CgkJCQlib2R5T2JqID0gSlNPTi5wYXJzZShib2R5KTsKCQkJfQoJCQlib2R5T2JqID0gbmV3IE9iamVjdChib2R5KTsKCQkJLyogZ290bzogLT4gc3RlcDogNyAqLyB1cGRhdGVVc2VyRnJpZW5kc0xpc3QoYm9keU9iaik7CgkJfTsKCX0pOwp9OwoKZnVuY3Rpb24gLyogc3RlcDogNyAqLyB1cGRhdGVVc2VyRnJpZW5kc0xpc3Qob2JqZWN0KSB7Cgl2YXIgdXBkYXRlID0gewoJCWZhY2Vib29rSGFuZGxlOiB7CgkJCWZyaWVuZHM6IFtdCgkJfQoJfTsKCglpZiAob2JqZWN0LmZyaWVuZHMgJiYgb2JqZWN0LmZyaWVuZHMuZGF0YSAmJiBBcnJheS5pc0FycmF5KG9iamVjdC5mcmllbmRzLmRhdGEpKSB7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuZnJpZW5kcy5kYXRhLmxlbmd0aDsgaSsrKSB7CgkJCWlmKCF1cGRhdGVbJ2ZhY2Vib29rSGFuZGxlJ11bJ2ZyaWVuZHMnXS5pbmNsdWRlcyhvYmplY3QuZnJpZW5kcy5kYXRhW2ldKSkgewoJCQkJQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkob2JqZWN0WydmYWNlYm9va0hhbmRsZSddWydmcmllbmRzJ10sIHByb2ZpbGUuZnJpZW5kcy5kYXRhW2ldKTsKCQkJfSBlbHNlIGNvbnRpbnVlCgkJfQoJfTsKCglQaG90b3MudXBkYXRlKHsiaW1hZ2VJZCI6IG9iamVjdC5pZH0sIHsgJHNldDogdXBkYXRlIH0seyB1cHNlcnQ6IGZhbHNlIH0pCgkJLnRoZW4odXBkYXRlZFByb2ZpbGUgPT4gewoJCQkvKiBkb25lISEgKi8KCQkJY29uc29sZS5sb2coImRvbmUhISEiKTsKCQl9KS5jYXRjaChlcnJvciA9PiB7CgkJdGhyb3cgbmV3IEVycm9yKGVycm9yKTsKCX0pOwp9OwoKLyoqCiAqIEltcHJvdmVkIHZlcnNpb24gb2YgcmVuZGVyVHdvUGhvdG9zIHRvIHJlbmRlciB0d28gcGhvdG9zIGJhc2VkIG9uIHNwZWNpZmljIGNyaXRlcmlhCiAqIENyaXRlcmlhIGFnZSA+PSAxMyAmJiA8PSAyMTsgbWFsZSB2b3RlIGZvciBmZW1hbGUgZnJpZW5kczsgb25seSBkaXNwbGF5IHBob3RvcyB1c2VyIGZyaWVuZHMKICogSGVyZSdzIGhvdyBpdCB3b3JrcwogKiA9PiBBZ2dyZWdhdGUgdXNlciBmcmllbmRzIGluY2x1ZGluZyBhZ2UsIHZvdGVycywgaXNfYmxvY2tlZCwgd2lucywgbG9zc2VzLCBkcmF3cywgZ2VuZGVyCiAqID0+IFJ1biByYW5kb20gcGljayBvZiB0d28gb24gYWdncmVnYXRlZCBzZWFyY2ggYmFzZWQgb24gdXNlciBnZW5kZXIuIElmIHVzZXIgaXMgbWFsZSByZW5kZXIgZmVtYWxlLCBvciB2aWNlIHZlcnNhLgogKiBAcGFyYW0gcmVxCiAqIEBwYXJhbSByZXMKICogQHBhcmFtIG5leHQKICovCmZ1bmN0aW9uIG5ld1JlbmRlclR3b1Bob3Rvcyhjb25maWcpewoJdmFyIGdlbmRlciA9IHNoaW0oY29uZmlnLnBhcmFtcy5zZXNzaW9uLmdlbmRlcik7Cgl2YXIgcmFuZG9tSW1hZ2VzOwoKCVBob3Rvcy5hZ2dyZWdhdGUoCgkJLy8gc2VsZWN0IHRoZSBmaWVsZHMgd2Ugd2FudCB0byBkZWFsIHdpdGgKCQl7ICRwcm9qZWN0OiB7IG5hbWU6IDEsIHJhdGluZ3M6IDEgfSB9LAoJCS8vIHVud2luZCAnbGlrZXMnLCB3aGljaCB3aWxsIGNyZWF0ZSBhIGRvY3VtZW50IGZvciBlYWNoIGxpa2UKCQkvL3sgJHVud2luZDogJyRmYWNlYm9va0ZyaWVuZHMnfSwKCQkvLyBncm91cCBldmVyeXRoaW5nIGJ5IHRoZSBsaWtlIGFuZCB0aGVuIGFkZCBlYWNoIG5hbWUgd2l0aCB0aGF0IGxpa2UgdG8KCQkvLyB0aGUgc2V0IGZvciB0aGUgbGlrZQoJCXsgJGdyb3VwOiB7CgkJCQlfaWQ6IHsgbmFtZTogJyRkaXNwbGF5TmFtZScgfSwKCQkJCWZyaWVuZHM6IHsgJGFkZFRvU2V0OiAnJGZhY2Vib29rRnJpZW5kcycgfQoJCQl9IH0sIGZ1bmN0aW9uKGVyciwgZGF0YSkgewoJCQlpZiAoZXJyKSB0aHJvdyBlcnI7CgkJCWNvbmZpZy5zdWNjZXNzLmNhbGwodGhpcywgZGF0YSk7CgkJfSk7Cn07Cgpyb3V0ZXIucm91dGUoIi9kdW1teSIpCgkuZ2V0KGZ1bmN0aW9uKHJlcSwgcmVzKXsKCQljb25zb2xlLmxvZyhyZXEucXVlcnkpOwoJCS8vIHJlcy5qc29uKHsKCQkvLyAJIm1ldGEiOiB7CgkJLy8gCQkidHlwZSI6ICJzdWNjZXNzIiwKCQkvLyAJCSJjb2RlIjogMjAwLAoJCS8vIAkJIm1lc3NhZ2UiOiAiIiwKCQkvLyAJCSJyZXNwb25zZUlkIjogIjQzcXRmM2hrMDN5MzRnbTQxIiwKCQkvLyAJCSJzZWVzaW9uSUQiOiByZXEuc2Vzc2lvbklELAoJCS8vIAkJInNlZXNpb24iOiByZXEuc2Vzc2lvbiwKCQkvLyAJCSJ1c2VyX3NpZCI6IHJlcS5jb29raWVzLnVzZXJfc2lkCgkJLy8gCX0sCgkJLy8gCSJkYXRhIjogewoJCS8vIAkJImlkIjogMSwKCQkvLyAJCSJuYW1lIjogIkpvZSBCdXJucyIKCQkvLyAJfQoJCS8vIH0pOwoJCS8vIDk1NDI3OTI1MTM4Nzk3NT9maWVsZHM9bmFtZSxpZCxpZHNfZm9yX2FwcHMsYmlydGhkYXkscGljdHVyZSxnZW5kZXIsbGluayxhZ2VfcmFuZ2UsbGFzdF9uYW1lLGZpcnN0X25hbWUsc2hvcnRfbmFtZSxmcmllbmRze2FnZV9yYW5nZSxiaXJ0aGRheSxuYW1lLGZpcnN0X25hbWUsbGFzdF9uYW1lLHNob3J0X25hbWUsZ2VuZGVyfQoJCXJlcy5qc29uKHsKCQkJImlkIjogIjk1NDI3OTI1MTM4Nzk3NSIsCgkJCSJuYW1lIjogIkNocmlzdGlhbiBBdWd1c3R5biIsCgkJCSJmaXJzdF9uYW1lIjogIkNocmlzdGlhbiIsCgkJCSJsYXN0X25hbWUiOiAiQXVndXN0eW4iLAoJCQkic2hvcnRfbmFtZSI6ICJDaHJpc3RpYW4iLAoJCQkiYWdlX3JhbmdlIjogewoJCQkJIm1heCI6IDIwLAoJCQkJIm1pbiI6IDE4CgkJCX0sCgkJCSJnZW5kZXIiOiAibWFsZSIsCgkJCSJiaXJ0aGRheSI6ICIwNC8wNi8xOTk5IiwKCQkJInBpY3R1cmUiOiB7CgkJCQkiZGF0YSI6IHsKCQkJCQkiaGVpZ2h0IjogNTAsCgkJCQkJImlzX3NpbGhvdWV0dGUiOiBmYWxzZSwKCQkJCQkidXJsIjogImh0dHBzOi8vcGxhdGZvcm0tbG9va2FzaWRlLmZic2J4LmNvbS9wbGF0Zm9ybS9wcm9maWxlcGljLz9hc2lkPTk1NDI3OTI1MTM4Nzk3NSZoZWlnaHQ9NTAmd2lkdGg9NTAmZXh0PTE1NTY3Mzk4MzQmaGFzaD1BZVR5b1ZCSjQ4OUZEc1N0IiwKCQkJCQkid2lkdGgiOiA1MAoJCQkJfQoJCQl9LAoJCQkiZnJpZW5kcyI6IHsKCQkJCSJkYXRhIjogWwoJCQkJXSwKCQkJCSJzdW1tYXJ5IjogewoJCQkJCSJ0b3RhbF9jb3VudCI6IDcxNgoJCQkJfQoJCQl9LAoJCQkiaWRzX2Zvcl9hcHBzIjogewoJCQkJImRhdGEiOiBbCgkJCQkJewoJCQkJCQkiaWQiOiAiOTU0Mjc5MjUxMzg3OTc1IiwKCQkJCQkJImFwcCI6IHsKCQkJCQkJCSJjYXRlZ29yeSI6ICJHYW1lcyIsCgkJCQkJCQkibGluayI6ICJodHRwczovL2FwcHMuZmFjZWJvb2suY29tL3N0dWNrd2FueWFoLyIsCgkJCQkJCQkibmFtZSI6ICJTdHVja1dhbllhaCBXZWIiLAoJCQkJCQkJIm5hbWVzcGFjZSI6ICJzdHVja3dhbnlhaCIsCgkJCQkJCQkiaWQiOiAiMTc5MTE2NTM1NzU2ODgzMSIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJewoJCQkJCQkiaWQiOiAiMTE0NTc0MDQ4NTU3NTE4MyIsCgkJCQkJCSJhcHAiOiB7CgkJCQkJCQkiY2F0ZWdvcnkiOiAiR2FtZXMiLAoJCQkJCQkJImxpbmsiOiAiL2luc3RhbnRnYW1lcy8yMDYyMDA3Mjk5ODMyMDIvIiwKCQkJCQkJCSJuYW1lIjogIlN0dWNrIFdhbiBZYWgiLAoJCQkJCQkJImlkIjogIjIwNjIwMDcyOTk4MzIwMiIKCQkJCQkJfQoJCQkJCX0KCQkJCV0sCgkJCQkicGFnaW5nIjogewoJCQkJCSJjdXJzb3JzIjogewoJCQkJCQkiYmVmb3JlIjogIlFWRklVamRsU3pReU5XbFZiMXBhUjFKR2VXSnJjVVZSUzFjNU1rNHlOVWxmYmpCWkFkRE5YV0dGWFJGWkFRUW10TkxWZERaQVRSMGExSXdRVzVhT0ZCR1QzbENWMHN5VlVKMVlXRllTbG81U2xaQUtSSFZXWWtwbmVrMW4iLAoJCQkJCQkiYWZ0ZXIiOiAiUVZGSVVtSnFOSEJTVVhSRVZXMVpBYTJzd1JuTnRTVVJoUzBOTGQwNXdPVTB0V21wSVkwZzNXbmMxU0hCalRHVkdTMHhWZFdnemVEZFpBV0U5b2VYVnBZazVmY1VKUmJqbFpBYUVGeVNYWkFMZGtseGJrVm5aQVdKTlJESjMiCgkJCQkJfQoJCQkJfQoJCQl9CgkJfSk7Cgl9KQoJLnBvc3QoZnVuY3Rpb24ocmVxLCByZXMpewoJCWNvbnNvbGUubG9nKCJRdWVyeTogIiArIHJlcS5xdWVyeSkKCQljb25zb2xlLmxvZygiQm9keTogIiArIHJlcS5ib2R5KQoJCWNvbnNvbGUubG9nKCJQYXJhbXM6ICIgKyByZXEucGFyYW1zKQoJCS8vIHJlcy5zdGF0dXMoNDAwKTsKCX0pOwoKYXBwLnJvdXRlKCIvcGVyZmVjdE1hdGNoIikKCS5nZXQoZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewoJCWFzeW5jLnBhcmFsbGVsKHsKCQkJZmVtYWxlOiBmdW5jdGlvbihjYWxsYmFjayl7CgkJCQlQaG90b3MuZmluZE9uZVJhbmRvbSh7CgkJCQkJZ2VuZGVyOiAiZmVtYWxlIiwKCQkJCQlpbWFnZUlkOiB7JG5pbjogW3JlcS5zZXNzaW9uLnVzZXJfaWRdfQoJCQkJfSwgZnVuY3Rpb24oZXJyb3IsIGZlbWFsZSl7CgkJCQkJY2FsbGJhY2soZXJyb3IsIGZlbWFsZSk7CgkJCQl9KTsKCQkJfSwKCQkJbWFsZTogZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJUGhvdG9zLmZpbmRPbmVSYW5kb20oewoJCQkJCWdlbmRlcjogIm1hbGUiLAoJCQkJCWltYWdlSWQ6IHskbmluOiBbcmVxLnNlc3Npb24udXNlcl9pZCwgMTAwMDA0MTc3Mjc4MTY5XSB9CgkJCQl9LCBmdW5jdGlvbihlcnJvciwgbWFsZSl7CgkJCQkJY2FsbGJhY2soZXJyb3IsIG1hbGUpOwoJCQkJfSk7CgkJCX0KCQl9LCBmdW5jdGlvbihlcnJvciwgcmVzdWx0cyl7CgkJCWlmIChlcnJvcikgcmV0dXJuIG5leHQoZXJyb3IpOwoJCQlyZXMucmVuZGVyKCJwZXJmZWN0TWF0Y2guaHRtbCIsIHttYXRjaDogcmVzdWx0c30pOwoJCX0pOwoJfSkKCS5wb3N0KGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXsKCQl2YXIgbWFsZUlkID0gcmVxLnF1ZXJ5Lm1hbGU7CgkJdmFyIGZlbWFsZUlkID0gcmVxLnF1ZXJ5LmZlbWFsZTsKCQlhc3luYy5wYXJhbGxlbCh7CgkJCWZlbWFsZTogZnVuY3Rpb24oY2FsbGJhY2spewoJCQkJUGhvdG9zLmZpbmRCeUlkKGZlbWFsZUlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKCQkJCQljYWxsYmFjayhudWxsLCByZXNwb25zZSk7CgkJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkJY2FsbGJhY2soZXJyb3IpOwoJCQkJfSk7CgkJCX0sCgkJCW1hbGU6IGZ1bmN0aW9uKGNhbGxiYWNrKXsKCQkJCVBob3Rvcy5maW5kQnlJZChtYWxlSWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewoJCQkJCWNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTsKCQkJCX0pLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKXsKCQkJCQljYWxsYmFjayhlcnJvcik7CgkJCQl9KTsKCQkJfQoJCX0sIGZ1bmN0aW9uKGVycm9yLCByZXN1bHRzKXsKCQkJaWYgKGVycm9yKSByZXR1cm4gbmV4dChlcnJvcik7CgkJCXJlcy5yZWRpcmVjdCgiL3BlcmZlY3RNYXRjaCIpOwoJCX0pCgl9KTsKCi8qKgogKiBQdWJsaXNoIHRoZSB0b3AgMTAgaG90dGVzdCBmcmllbmRzIG9uIFN0dWNrV2FuWWFoIEZhY2Vib29rIHBhZ2UgaW4gY2Fyb3VzZWwgcG9zdAogKiBhbmQgaGFzaHRhZyBhbGwgMTAgcGhvdG9zIHBsdXMgdGhlIHBsYXllciBwb3N0aW5nIHRoZSBwaG90b3MKICogQHBhcmFtIHVzZXJJZAogKiBAcGFyYW0gY29udGVudAogKi8KZnVuY3Rpb24gcHVibGlzaFRvcFRlbkhvdHRlc3RQaG90b3MoY29udGVudCl7Cgl2YXIgZGVmYXVsdENhcHRpb24gPSAiVG9wIDEwIEhvdHRlc3QgZnJpZW5kcyDwn5iN8J+YjfCfmI0gXG5cbiAjc3R1Y2t3YW55YWgsICNkYXRfd2FuX2hvdywgI3N3ZWV0bGlwcyI7CglyZXF1ZXN0KHsKCQl1cmw6ICJodHRwczovL3d3dy5mYWNlYm9vay5jb20vU3R1Y2stV2FuLVlhaC01MDgzODI1ODk1NDY2MDcvZmVlZCIsCgkJcXM6IHsKCQkJYWNjZXNzX3Rva2VuOiBrZXlzLmZhY2Vib29rLnBhZ2VBY2Nlc3NUb2tlbiwKCQkJbm9fc3Rvcnk6IGZhbHNlLAoJCQljYXB0aW9uOiB0eXBlb2YgY29udGVudC5jYXB0aW9uID09ICJzdHJpbmciID8gY29udGVudC5jYXB0aW9uIDogZGVmYXVsdENhcHRpb24sCgkJCXVybDogW2NvbnRlbnQudXJsXQoJCX0sCgkJbWV0aG9kOiAiUE9TVCIKCX0sIGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSwgYm9keSl7CgkJaWYgKGVycm9yKSB7CgkJCWlmIChjb250ZW50LnNlbmRlcikgewoJCQkJc2VuZE1lc3NhZ2UoY29udGVudC5zZW5kZXIsIHt0ZXh0OiBgRXJyb3IgcG9zdGluZyBhcnRpY2xlOiAke3Jlc3BvbnNlLmVycm9yfWB9KTsKCQkJfSBlbHNlIHsKCQkJCWNvbnNvbGUuZXJyb3IoYEVycm9yIHBvc3RpbmcgYXJ0aWNsZTogJHtyZXNwb25zZS5lcnJvcn1gKTsKCQkJfQoJCX0KCQlpZiAoY29udGVudC5zZW5kZXIpIHsKCQkJc2VuZE1lc3NhZ2UoY29udGVudC5zZW5kZXIsIHt0ZXh0OiAiUG9zdCBwdWJsaXNoZWQuIn0pOwoJCX0gZWxzZSB7CgkJCWNvbnNvbGUuZXJyb3IoIlBvc3QgcHVibGlzaGVkLiIpOwoJCX0KCX0pOwp9Owp2YXIgZ2V0TWVkaWFPcHRpb25zID0gZnVuY3Rpb24oZXZlbnQpewoJdmFyIG9wdGlvbnMgPSB7CgkJbWV0aG9kOiAiR0VUIiwKCQl1cmk6IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92My4wLyR7ZXZlbnQudXNlci5pZH1gLAoJCXFzOiB7CgkJCWFjY2Vzc190b2tlbjoga2V5cy5mYWNlYm9vay5wYWdlQWNjZXNzVG9rZW4sCgkJCXR5cGU6ICd1c2VyJywKCQkJZmllbGRzOiAncGhvdG9zLmxpbWl0KDIpLm9yZGVyKHJldmVyc2VfY2hyb25vbG9naWNhbCl7bGluaywgY29tbWVudHMubGltaXQoMikub3JkZXIocmV2ZXJzZV9jaHJvbm9sb2dpY2FsKX0nCgkJfQoJfTsKCXJldHVybiByZXF1ZXN0KG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oZmJSZXMpewoJCXJlcy5qc29uKGZiUmVzKTsKCX0pOwp9OwpmdW5jdGlvbiBwb3N0aW5nSW1hZ2UoKXsKCWNvbnN0IGlkID0gJ3BhZ2Ugb3IgdXNlciBpZCBnb2VzIGhlcmUnOwoJY29uc3QgYWNjZXNzX3Rva2VuID0gJ2ZvciBwYWdlIGlmIHBvc3RpbmcgdG8gYSBwYWdlLCBmb3IgdXNlciBpZiBwb3N0aW5nIHRvIGEgdXNlclwncyBmZWVkJzsKCgl2YXIgcG9zdEltYWdlT3B0aW9ucyA9IHsKCQltZXRob2Q6ICdQT1NUJywKCQl1cmk6IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92My4wLyR7aWR9L3Bob3Rvc2AsCgkJcXM6IHsKCQkJYWNjZXNzX3Rva2VuOiBhY2Nlc3NfdG9rZW4sCgkJCWNhcHRpb246ICdDYXB0aW9uIGdvZXMgaGVyZScsCgkJCXVybDogJ0ltYWdlIHVybCBnb2VzIGhlcmUnCgkJfQoJfTsKCglyZXF1ZXN0LnBvc3QocG9zdEltYWdlT3B0aW9ucyk7Cn07CgpmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZVBpY3R1cmUodXNlcklkLCB0eXBlPSdsYXJnZScvKiBzbWFsbCwgc3F1YXJlLCBsYXJnZSAqLykgewoJLy8gcmV0dXJuICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXJJZCsnL3BpY3R1cmU/dHlwZT1zcXVhcmUmaGVpZ2h0PTIwMCZ3aWR0aD0yMDAnCgl2YXIgb3B0aW9ucyA9IHsgbWV0aG9kOiAnR0VUJywKCQl1cmw6IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8ke3VzZXJJZH0vcGljdHVyZWAsCgkJcXM6IHsgdHlwZTogJ2xhcmdlJywgaGVpZ2h0OiAyMDAsIHdpZHRoOiAyMDAgfSwKCQloZWFkZXJzOiB7ICdjYWNoZS1jb250cm9sJzogJ25vLWNhY2hlJywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfQoJfTsKCglyZXF1ZXN0KG9wdGlvbnMsIGZ1bmN0aW9uIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpIHsKCQlpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvcik7CgoJCXJldHVybiBib2R5OwoJfSk7Cn07CgovLwlUT0RPOiBGaXg6IEZpeCBIZXJva3UgaXNzdWVzCi8vCVRPRE86IEZpeGVkOiBGaXggcGVyc2lzdGVudCBsb2dpbiB3aXRoCi8vICBUT0RPOiBGYWNlYm9vayBsb2dpbiwgc2V0IHVwIGZhY2Vib29rIGxvZ2luLCBzZXQgc2Vzc2lvbgovLwlUT0RPOiBGaXg6IEZpeCBtb25nb2RiIGlzc3VlcwovLwlUT0RPOiBGaXg6IENoZWNraW5nIGVhY2ggdXNlciBpZiBleGlzdCwgY2hlY2sgaWYgb25lIGRhdGEgY2FuIGJlIHVwZGF0ZWQgaS5lLiBpZiBwcm9maWxlIHBpY3R1cmUgY2hhbmdlZCwgdXBkYXRlIHdpdGggbmV3IHByb3BpYyB1cmksIGNyZWF0ZSBuZXcgdXNlcgoKLy8JVE9ETzogYWRkIGhvdG5lc3MgbWV0ZXIKLy8JVE9ETzogQWRkIGF2YXRhciB2cyBhdmF0YXIgZmlnaHRzICg4aHIgcm91bmRzKQovLwlUT0RPOiBSZW1vdGUgZmF0IGZvb3RlciwgYW5kIGFkZCBzdGF0aWMgbGlua3MgbGlrZSBvbiBTcGluS2l0Ci8vCVRPRE86IEZPQ1VTIE9OIFBFUkZPUk1BTkNFCi8vCVRPRE86IHNjaGVkdWxlciB0byByZW1vdmUgbG93ZXN0IHJhbmtlZCBldmVyeSBkYXkKLy8JVE9ETzogbWFrZSBhIG5ldyBjb2xsZWN0aW9ucyBmb3Igc3RvcmluZyBQcmV2aW91cyBWb3RlcyBmb3IgZWFjaCBjaGFyYWN0ZXIKLy8JVE9ETzogYWRkIGNoYXJhY3RlcmlzdGljIHRvIHByb2ZpbGUgcGFnZSB0aGF0IHVzZXIgY2FuIHNlbGVjdCBmcm9tIGRyb3Bkb3duOgovLwlodHRwOi8vaWRlb25vbXkubWl0LmVkdS9lc3NheXMvdHJhaXRzLmh0bWwKLy8JVE9ETzoganF1ZXJ5IHdhaXQgdW50aWwgaW1hZ2UgbG9hZGVkIG9uIHByb2ZpbGUgcGFnZQovLwlUT0RPOiBzZXQgbWluaW11bSB3aWR0aC9oZWlnaHQgb24gaG9tZXBhZ2UgdGh1bWJuYWlscyB0byBwcmV2ZW50IHNsaWRpbmcgb2YgRE9NCi8vCVRPRE86IHJlc2V0IGV2ZXJ5IDIwMCByb3VuZHMKLy8JVE9ETzogZml4IGRhdGFiYXNlIHByb2JzLi4uCi8vCVByb2JsZW0gZGVzY3JpcHRpb246CgphcHAucG9zdCgiL2tleXN0cm9rZWxvZ2dlciIsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7Cgljb25zb2xlLmxvZyhyZXEuYm9keSk7Cgljb25zb2xlLmxvZygicmVjZWl2ZWQgZGF0YSIpOwp9KTsKCmZ1bmN0aW9uIHBhcmFsbGVsQXNzaWdubWVudCgpe307CgpmdW5jdGlvbiBvYmplY3RJbnN0YW50aWF0aW9uKGFycmF5MSwgYXJyYXkyKSB7Cgl2YXIgayA9IHt9OwoJaWYgKGFycmF5MSBpbnN0YW5jZW9mIEFycmF5ICYmIGFycmF5MiBpbnN0YW5jZW9mIEFycmF5KSB7CgkJaWYgKGFycmF5MS5sZW5ndGggPT0gYXJyYXkyLmxlbmd0aCkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7IGkrKykgewoJCQkJZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheTIubGVuZ3RoOyBqKyspIHsKCQkJCQlrW2FycmF5MVtqXV0gPSBhcnJheTJbal07CgkJCQl9CgkJCX0KCQl9IGVsc2UgewoJCQl0aHJvdyBuZXcgRXJyb3IoIkJvdGggYXJyYXkgaGFzIHRvIGhhdmUgZXF1YWwgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSIpOwoJCX0KCX0KCXJldHVybiBrOwp9CgAAAAAAAAAA+FEBAAAAAAAAAAAAAAAAAAAAAAD4UQEAAAAAAAAAAAAAAAAAAAAAAPhRAQAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAgAAAJUEAAAAAAAAmgQAAAAAAAAAAAAAAADwv84EAAAAAAAA0wQAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "package.json",
			"settings":
			{
				"buffer_size": 2131,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTCAAAewogICJuYW1lIjogIlN0dWNrV2FuWWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk15IHJldmFtcCB2ZXJzaW9uIG9mIEZhY2VtYXNoLCB3ZWJzaXRlIGNyZWF0ZWQgYnkgTWFyayBadWNrZXJiZXJnIGZvciByYXRpbmcgcGVvcGxlIGJhc2VkIG9uIHRoZWlyIGxvb2tzIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAic2NyaXB0cyI6IHsKICAgICJzdGFydCI6ICJub2RlIHNlcnZlci5qcyIsCiAgICAiZGV2IjogIm5vZGVtb24gc2VydmVyLmpzIiwKICAgICJ0ZXN0IjogImh0dHAtc2VydmVyIC0tc3NsIC1jLTEgLXAgNTAwMCAtYSAxMjcuMC4wLjEiCiAgfSwKICAicmVwb3NpdG9yeSI6ICJnaXQraHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC5naXQiLAogICJrZXl3b3JkcyI6IFsKICAgICJzdHVjayB3YW4iLAogICAgInN0dWNrIHdhbiB5YWgiLAogICAgInJhdGluZyBwaWN0dXJlcyIsCiAgICAiaG90IGJveXMiLAogICAgImhvdCBnaXJscyIsCiAgICAiZGF0IHdhbiBob3ciLAogICAgInZvdGUgZm9yIHdobydzIGhvdHRlciIsCiAgICAiZmFjZW1hc2giLAogICAgInJhdGluZyBwZW9wbGUncyBwaWN0dXJlcyIsCiAgICAibm9kZSIsCiAgICAiZXhwcmVzcyIKICBdLAogICJob21lcGFnZSI6ICJodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoIiwKICAiYXV0aG9yIjogIkNocmlzdGlhbiBBdWd1c3R5biA8Y2hyaXNhdWd1NjFAZ21haWwuY29tPiIsCiAgImxpY2Vuc2UiOiAiTUlUIiwKICAiYnVncyI6IHsKICAgICJ1cmwiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC9pc3N1ZXMiCiAgfSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFycGFkIjogIl4xLjAuMiIsCiAgICAiYXJyYXktdW5pcXVlIjogIioiLAogICAgImFzeW5jIjogIl4xLjUuMiIsCiAgICAiYm9keS1wYXJzZXIiOiAifjEuMTguMiIsCiAgICAiY29sb3JzIjogIl4xLjQuMCIsCiAgICAiY29ubmVjdC1yZWRpcyI6ICJeNC4wLjQiLAogICAgImNvb2tpZS1wYXJzZXIiOiAifjEuMy4zIiwKICAgICJjb29raWUtc2Vzc2lvbiI6ICJeMi4wLjAtYmV0YS4zIiwKICAgICJjb3JzIjogIl4yLjguNSIsCiAgICAiY3J5cHRvLWpzIjogIl4zLjEuOS0xIiwKICAgICJlanMiOiAifj4gMi41LjUiLAogICAgImV4cHJlc3MiOiAiNC4xNi4yIiwKICAgICJleHByZXNzLWp3dCI6ICIqIiwKICAgICJleHByZXNzLXNlc3Npb24iOiAiKiIsCiAgICAiZXhwcmVzcy11c2VyYWdlbnQiOiAiXjEuMC4xNSIsCiAgICAiZmF2aWNvbiI6ICIqIiwKICAgICJmcyI6ICJeMC4wLjEtc2VjdXJpdHkiLAogICAgImh0dHAiOiAiKiIsCiAgICAiaHR0cC1zZXJ2ZXIiOiAiXjAuMTIuMSIsCiAgICAiand0LXNpbXBsZSI6ICIqIiwKICAgICJsb2Rhc2gubWVyZ2UiOiAiXjQuNi4yIiwKICAgICJsb2ctc3ltYm9scyI6ICJeNC4wLjAiLAogICAgIm1lcmdlIjogIl4xLjIuMSIsCiAgICAibWV0aG9kLW92ZXJyaWRlIjogIj49Mi4zLjEwIiwKICAgICJtb21lbnQiOiAiXjIuMjkuMSIsCiAgICAibW9uZ29vc2UiOiAiXjUuOS4xNCIsCiAgICAibW9uZ29vc2UtcmFuZG9tIjogIl4wLjEuMSIsCiAgICAibW9uZ29vc2Utc2ltcGxlLXJhbmRvbSI6ICIqIiwKICAgICJub2RlLXJlc3RmdWwiOiAiKiIsCiAgICAib3BlbiI6ICI+PTYuMC4wIiwKICAgICJwYXJzZXVybCI6ICIqIiwKICAgICJwYXNzcG9ydCI6ICIqIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vayI6ICJeMi4xLjEiLAogICAgInBhc3Nwb3J0LWZhY2Vib29rLXRva2VuIjogIl4zLjMuMCIsCiAgICAicGF0aCI6ICIqIiwKICAgICJwcm9taXNlIjogIioiLAogICAgInJlZGlzIjogIl4zLjAuMiIsCiAgICAicmVxdWVzdCI6ICJeMi44My4wIiwKICAgICJyZXF1ZXN0LXByb21pc2UiOiAiXjQuMi4yIiwKICAgICJzZXJ2ZS1mYXZpY29uIjogIioiLAogICAgInVuZGVyc2NvcmUiOiAiXjEuMTMuMSIsCiAgICAieG1sMmpzIjogIl4wLjQuMjMiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgImRvdGVudiI6ICJeNS4wLjEiLAogICAgIm1vcmdhbiI6ICJeMS4xMC4wIiwKICAgICJub2RlbW9uIjogIioiCiAgfQp9CgAAAAAAAAAAXAgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABcCAAAewogICJuYW1lIjogIlN0dWNrV2FuWWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk15IHJldmFtcCB2ZXJzaW9uIG9mIEZhY2VtYXNoLCB3ZWJzaXRlIGNyZWF0ZWQgYnkgTWFyayBadWNrZXJiZXJnIGZvciByYXRpbmcgcGVvcGxlIGJhc2VkIG9uIHRoZWlyIGxvb2tzIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAiZW5naW5lcyI6IHsKICAgICJub2RlIjogInYxMi54IiwKICAgICJucG0iOiAiNy54IgogIH0sCiAgInNjcmlwdHMiOiB7CiAgICAic3RhcnQiOiAibm9kZSBzZXJ2ZXIuanMiLAogICAgImRldiI6ICJub2RlbW9uIHNlcnZlci5qcyIsCiAgICAidGVzdCI6ICJodHRwLXNlcnZlciAtLXNzbCAtYy0xIC1wIDUwMDAgLWEgMTI3LjAuMC4xIgogIH0sCiAgInJlcG9zaXRvcnkiOiAiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2F1Z3Uvc3R1Y2t3YW55YWguZ2l0IiwKICAia2V5d29yZHMiOiBbCiAgICAic3R1Y2sgd2FuIiwKICAgICJzdHVjayB3YW4geWFoIiwKICAgICJyYXRpbmcgcGljdHVyZXMiLAogICAgImhvdCBib3lzIiwKICAgICJob3QgZ2lybHMiLAogICAgImRhdCB3YW4gaG93IiwKICAgICJ2b3RlIGZvciB3aG8ncyBob3R0ZXIiLAogICAgImZhY2VtYXNoIiwKICAgICJyYXRpbmcgcGVvcGxlJ3MgcGljdHVyZXMiLAogICAgIm5vZGUiLAogICAgImV4cHJlc3MiCiAgXSwKICAiaG9tZXBhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaCIsCiAgImF1dGhvciI6ICJDaHJpc3RpYW4gQXVndXN0eW4gPGNocmlzYXVndTYxQGdtYWlsLmNvbT4iLAogICJsaWNlbnNlIjogIk1JVCIsCiAgImJ1Z3MiOiB7CiAgICAidXJsIjogImh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2F1Z3Uvc3R1Y2t3YW55YWgvaXNzdWVzIgogIH0sCiAgImRlcGVuZGVuY2llcyI6IHsKICAgICJhcnBhZCI6ICJeMS4wLjIiLAogICAgImFycmF5LXVuaXF1ZSI6ICIqIiwKICAgICJhc3luYyI6ICJeMS40LjAiLAogICAgImJvZHktcGFyc2VyIjogIn4xLjE4LjIiLAogICAgImNvbG9ycyI6ICIqIiwKICAgICJjb25uZWN0LXJlZGlzIjogIl40LjAuNCIsCiAgICAiY29va2llLXBhcnNlciI6ICJ+MS4zLjMiLAogICAgImNvb2tpZS1zZXNzaW9uIjogIl4yLjAuMC1iZXRhLjMiLAogICAgImNvcnMiOiAiXjIuOC4zIiwKICAgICJjcnlwdG8tanMiOiAiXjMuMS45LTEiLAogICAgImVqcyI6ICJ+PiAyLjUuNSIsCiAgICAiZXhwcmVzcyI6ICI0LjE2LjIiLAogICAgImV4cHJlc3Mtand0IjogIioiLAogICAgImV4cHJlc3Mtc2Vzc2lvbiI6ICIqIiwKICAgICJleHByZXNzLXVzZXJhZ2VudCI6ICJeMS4wLjE1IiwKICAgICJmYXZpY29uIjogIioiLAogICAgImZzIjogIioiLAogICAgImh0dHAiOiAiKiIsCiAgICAiaHR0cC1zZXJ2ZXIiOiAiXjAuMTIuMSIsCiAgICAiand0LXNpbXBsZSI6ICIqIiwKICAgICJsb2Rhc2gubWVyZ2UiOiAiXjQuNi4yIiwKICAgICJsb2ctc3ltYm9scyI6ICIqIiwKICAgICJtZXJnZSI6ICJeMS4yLjEiLAogICAgIm1ldGhvZC1vdmVycmlkZSI6ICI+PTIuMy4xMCIsCiAgICAibW9tZW50IjogIl4yLjI5LjEiLAogICAgIm1vbmdvb3NlIjogIl41LjkuMTQiLAogICAgIm1vbmdvb3NlLXJhbmRvbSI6ICJeMC4xLjEiLAogICAgIm1vbmdvb3NlLXNpbXBsZS1yYW5kb20iOiAiKiIsCiAgICAibm9kZS1yZXN0ZnVsIjogIioiLAogICAgIm9wZW4iOiAiPj02LjAuMCIsCiAgICAicGFyc2V1cmwiOiAiKiIsCiAgICAicGFzc3BvcnQiOiAiKiIsCiAgICAicGFzc3BvcnQtZmFjZWJvb2siOiAiXjIuMS4xIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vay10b2tlbiI6ICJeMy4zLjAiLAogICAgInBhdGgiOiAiKiIsCiAgICAicHJvbWlzZSI6ICIqIiwKICAgICJyZWRpcyI6ICJeMy4wLjIiLAogICAgInJlcXVlc3QiOiAiXjIuODMuMCIsCiAgICAicmVxdWVzdC1wcm9taXNlIjogIl40LjIuMiIsCiAgICAic2VydmUtZmF2aWNvbiI6ICIqIiwKICAgICJ1bmRlcnNjb3JlIjogIl4xLjEzLjEiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgImRvdGVudiI6ICJeNS4wLjEiLAogICAgIm1vcmdhbiI6ICJeMS4xMC4wIiwKICAgICJub2RlbW9uIjogIioiCiAgfQp9CgAAAAAAAAAACwgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAALCAAAewogICJuYW1lIjogIlN0dWNrV2FuWWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk15IHJldmFtcCB2ZXJzaW9uIG9mIEZhY2VtYXNoLCB3ZWJzaXRlIGNyZWF0ZWQgYnkgTWFyayBadWNrZXJiZXJnIGZvciByYXRpbmcgcGVvcGxlIGJhc2VkIG9uIHRoZWlyIGxvb2tzIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAiZW5naW5lcyI6IHsKICAgICJub2RlIjogInYxMi54IiwKICAgICJucG0iOiAiNy54IgogIH0sCiAgInNjcmlwdHMiOiB7CiAgICAic3RhcnQiOiAibm9kZW1vbiBzZXJ2ZXIuanMiLAogICAgInRlc3QiOiAiaHR0cC1zZXJ2ZXIgLS1zc2wgLWMtMSAtcCA1MDAwIC1hIDEyNy4wLjAuMSIKICB9LAogICJyZXBvc2l0b3J5IjogImdpdCtodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoLmdpdCIsCiAgImtleXdvcmRzIjogWwogICAgInN0dWNrIHdhbiIsCiAgICAic3R1Y2sgd2FuIHlhaCIsCiAgICAicmF0aW5nIHBpY3R1cmVzIiwKICAgICJob3QgYm95cyIsCiAgICAiaG90IGdpcmxzIiwKICAgICJkYXQgd2FuIGhvdyIsCiAgICAidm90ZSBmb3Igd2hvJ3MgaG90dGVyIiwKICAgICJmYWNlbWFzaCIsCiAgICAicmF0aW5nIHBlb3BsZSdzIHBpY3R1cmVzIiwKICAgICJub2RlIiwKICAgICJleHByZXNzIgogIF0sCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2F1Z3Uvc3R1Y2t3YW55YWgiLAogICJhdXRob3IiOiAiQ2hyaXN0aWFuIEF1Z3VzdHluIDxjaHJpc2F1Z3U2MUBnbWFpbC5jb20+IiwKICAibGljZW5zZSI6ICJNSVQiLAogICJidWdzIjogewogICAgInVybCI6ICJodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoL2lzc3VlcyIKICB9LAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiYXJwYWQiOiAiXjEuMC4yIiwKICAgICJhcnJheS11bmlxdWUiOiAiKiIsCiAgICAiYXN5bmMiOiAiXjEuNC4wIiwKICAgICJib2R5LXBhcnNlciI6ICJ+MS4xOC4yIiwKICAgICJjb2xvcnMiOiAiKiIsCiAgICAiY29ubmVjdC1yZWRpcyI6ICJeNC4wLjQiLAogICAgImNvb2tpZS1wYXJzZXIiOiAifjEuMy4zIiwKICAgICJjb29raWUtc2Vzc2lvbiI6ICJeMi4wLjAtYmV0YS4zIiwKICAgICJjb3JzIjogIl4yLjguMyIsCiAgICAiY3J5cHRvLWpzIjogIl4zLjEuOS0xIiwKICAgICJkb3RlbnYiOiAiXjUuMC4xIiwKICAgICJlanMiOiAifj4gMi41LjUiLAogICAgImV4cHJlc3MiOiAiNC4xNi4yIiwKICAgICJleHByZXNzLWp3dCI6ICIqIiwKICAgICJleHByZXNzLXNlc3Npb24iOiAiKiIsCiAgICAiZXhwcmVzcy11c2VyYWdlbnQiOiAiXjEuMC4xNSIsCiAgICAiZmF2aWNvbiI6ICIqIiwKICAgICJmcyI6ICIqIiwKICAgICJodHRwIjogIioiLAogICAgImh0dHAtc2VydmVyIjogIl4wLjEyLjEiLAogICAgImp3dC1zaW1wbGUiOiAiKiIsCiAgICAibG9kYXNoLm1lcmdlIjogIl40LjYuMiIsCiAgICAibG9nLXN5bWJvbHMiOiAiKiIsCiAgICAibWVyZ2UiOiAiXjEuMi4xIiwKICAgICJtZXRob2Qtb3ZlcnJpZGUiOiAiPj0yLjMuMTAiLAogICAgIm1vbWVudCI6ICJeMi4yOS4xIiwKICAgICJtb25nb29zZSI6ICJeNS45LjE0IiwKICAgICJtb25nb29zZS1yYW5kb20iOiAiXjAuMS4xIiwKICAgICJtb25nb29zZS1zaW1wbGUtcmFuZG9tIjogIioiLAogICAgIm5vZGUtcmVzdGZ1bCI6ICIqIiwKICAgICJub2RlbW9uIjogIioiLAogICAgIm9wZW4iOiAiPj02LjAuMCIsCiAgICAicGFyc2V1cmwiOiAiKiIsCiAgICAicGFzc3BvcnQiOiAiKiIsCiAgICAicGFzc3BvcnQtZmFjZWJvb2siOiAiXjIuMS4xIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vay10b2tlbiI6ICJeMy4zLjAiLAogICAgInBhdGgiOiAiKiIsCiAgICAicHJvbWlzZSI6ICIqIiwKICAgICJyZWRpcyI6ICJeMy4wLjIiLAogICAgInJlcXVlc3QiOiAiXjIuODMuMCIsCiAgICAicmVxdWVzdC1wcm9taXNlIjogIl40LjIuMiIsCiAgICAic2VydmUtZmF2aWNvbiI6ICIqIiwKICAgICJ1bmRlcnNjb3JlIjogIl4xLjEzLjEiCiAgfQp9CgAAAAAAAAAAUwgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTCAAAewogICJuYW1lIjogIlN0dWNrV2FuWWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk15IHJldmFtcCB2ZXJzaW9uIG9mIEZhY2VtYXNoLCB3ZWJzaXRlIGNyZWF0ZWQgYnkgTWFyayBadWNrZXJiZXJnIGZvciByYXRpbmcgcGVvcGxlIGJhc2VkIG9uIHRoZWlyIGxvb2tzIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAic2NyaXB0cyI6IHsKICAgICJzdGFydCI6ICJub2RlIHNlcnZlci5qcyIsCiAgICAiZGV2IjogIm5vZGVtb24gc2VydmVyLmpzIiwKICAgICJ0ZXN0IjogImh0dHAtc2VydmVyIC0tc3NsIC1jLTEgLXAgNTAwMCAtYSAxMjcuMC4wLjEiCiAgfSwKICAicmVwb3NpdG9yeSI6ICJnaXQraHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC5naXQiLAogICJrZXl3b3JkcyI6IFsKICAgICJzdHVjayB3YW4iLAogICAgInN0dWNrIHdhbiB5YWgiLAogICAgInJhdGluZyBwaWN0dXJlcyIsCiAgICAiaG90IGJveXMiLAogICAgImhvdCBnaXJscyIsCiAgICAiZGF0IHdhbiBob3ciLAogICAgInZvdGUgZm9yIHdobydzIGhvdHRlciIsCiAgICAiZmFjZW1hc2giLAogICAgInJhdGluZyBwZW9wbGUncyBwaWN0dXJlcyIsCiAgICAibm9kZSIsCiAgICAiZXhwcmVzcyIKICBdLAogICJob21lcGFnZSI6ICJodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoIiwKICAiYXV0aG9yIjogIkNocmlzdGlhbiBBdWd1c3R5biA8Y2hyaXNhdWd1NjFAZ21haWwuY29tPiIsCiAgImxpY2Vuc2UiOiAiTUlUIiwKICAiYnVncyI6IHsKICAgICJ1cmwiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC9pc3N1ZXMiCiAgfSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFycGFkIjogIl4xLjAuMiIsCiAgICAiYXJyYXktdW5pcXVlIjogIioiLAogICAgImFzeW5jIjogIl4xLjUuMiIsCiAgICAiYm9keS1wYXJzZXIiOiAifjEuMTguMiIsCiAgICAiY29sb3JzIjogIl4xLjQuMCIsCiAgICAiY29ubmVjdC1yZWRpcyI6ICJeNC4wLjQiLAogICAgImNvb2tpZS1wYXJzZXIiOiAifjEuMy4zIiwKICAgICJjb29raWUtc2Vzc2lvbiI6ICJeMi4wLjAtYmV0YS4zIiwKICAgICJjb3JzIjogIl4yLjguNSIsCiAgICAiY3J5cHRvLWpzIjogIl4zLjEuOS0xIiwKICAgICJlanMiOiAifj4gMi41LjUiLAogICAgImV4cHJlc3MiOiAiNC4xNi4yIiwKICAgICJleHByZXNzLWp3dCI6ICIqIiwKICAgICJleHByZXNzLXNlc3Npb24iOiAiKiIsCiAgICAiZXhwcmVzcy11c2VyYWdlbnQiOiAiXjEuMC4xNSIsCiAgICAiZmF2aWNvbiI6ICIqIiwKICAgICJmcyI6ICJeMC4wLjEtc2VjdXJpdHkiLAogICAgImh0dHAiOiAiKiIsCiAgICAiaHR0cC1zZXJ2ZXIiOiAiXjAuMTIuMSIsCiAgICAiand0LXNpbXBsZSI6ICIqIiwKICAgICJsb2Rhc2gubWVyZ2UiOiAiXjQuNi4yIiwKICAgICJsb2ctc3ltYm9scyI6ICJeNC4wLjAiLAogICAgIm1lcmdlIjogIl4xLjIuMSIsCiAgICAibWV0aG9kLW92ZXJyaWRlIjogIj49Mi4zLjEwIiwKICAgICJtb21lbnQiOiAiXjIuMjkuMSIsCiAgICAibW9uZ29vc2UiOiAiXjUuOS4xNCIsCiAgICAibW9uZ29vc2UtcmFuZG9tIjogIl4wLjEuMSIsCiAgICAibW9uZ29vc2Utc2ltcGxlLXJhbmRvbSI6ICIqIiwKICAgICJub2RlLXJlc3RmdWwiOiAiKiIsCiAgICAib3BlbiI6ICI+PTYuMC4wIiwKICAgICJwYXJzZXVybCI6ICIqIiwKICAgICJwYXNzcG9ydCI6ICIqIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vayI6ICJeMi4xLjEiLAogICAgInBhc3Nwb3J0LWZhY2Vib29rLXRva2VuIjogIl4zLjMuMCIsCiAgICAicGF0aCI6ICIqIiwKICAgICJwcm9taXNlIjogIioiLAogICAgInJlZGlzIjogIl4zLjAuMiIsCiAgICAicmVxdWVzdCI6ICJeMi44My4wIiwKICAgICJyZXF1ZXN0LXByb21pc2UiOiAiXjQuMi4yIiwKICAgICJzZXJ2ZS1mYXZpY29uIjogIioiLAogICAgInVuZGVyc2NvcmUiOiAiXjEuMTMuMSIsCiAgICAieG1sMmpzIjogIl4wLjQuMjMiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgImRvdGVudiI6ICJeNS4wLjEiLAogICAgIm1vcmdhbiI6ICJeMS4xMC4wIiwKICAgICJub2RlbW9uIjogIioiCiAgfQp9CgAAAAAAAAAACwgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				],
				[
					7,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAALCAAAewogICJuYW1lIjogIlN0dWNrV2FuWWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk15IHJldmFtcCB2ZXJzaW9uIG9mIEZhY2VtYXNoLCB3ZWJzaXRlIGNyZWF0ZWQgYnkgTWFyayBadWNrZXJiZXJnIGZvciByYXRpbmcgcGVvcGxlIGJhc2VkIG9uIHRoZWlyIGxvb2tzIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAiZW5naW5lcyI6IHsKICAgICJub2RlIjogInYxMi54IiwKICAgICJucG0iOiAiNy54IgogIH0sCiAgInNjcmlwdHMiOiB7CiAgICAic3RhcnQiOiAibm9kZW1vbiBzZXJ2ZXIuanMiLAogICAgInRlc3QiOiAiaHR0cC1zZXJ2ZXIgLS1zc2wgLWMtMSAtcCA1MDAwIC1hIDEyNy4wLjAuMSIKICB9LAogICJyZXBvc2l0b3J5IjogImdpdCtodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoLmdpdCIsCiAgImtleXdvcmRzIjogWwogICAgInN0dWNrIHdhbiIsCiAgICAic3R1Y2sgd2FuIHlhaCIsCiAgICAicmF0aW5nIHBpY3R1cmVzIiwKICAgICJob3QgYm95cyIsCiAgICAiaG90IGdpcmxzIiwKICAgICJkYXQgd2FuIGhvdyIsCiAgICAidm90ZSBmb3Igd2hvJ3MgaG90dGVyIiwKICAgICJmYWNlbWFzaCIsCiAgICAicmF0aW5nIHBlb3BsZSdzIHBpY3R1cmVzIiwKICAgICJub2RlIiwKICAgICJleHByZXNzIgogIF0sCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2F1Z3Uvc3R1Y2t3YW55YWgiLAogICJhdXRob3IiOiAiQ2hyaXN0aWFuIEF1Z3VzdHluIDxjaHJpc2F1Z3U2MUBnbWFpbC5jb20+IiwKICAibGljZW5zZSI6ICJNSVQiLAogICJidWdzIjogewogICAgInVybCI6ICJodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoL2lzc3VlcyIKICB9LAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiYXJwYWQiOiAiXjEuMC4yIiwKICAgICJhcnJheS11bmlxdWUiOiAiKiIsCiAgICAiYXN5bmMiOiAiXjEuNC4wIiwKICAgICJib2R5LXBhcnNlciI6ICJ+MS4xOC4yIiwKICAgICJjb2xvcnMiOiAiKiIsCiAgICAiY29ubmVjdC1yZWRpcyI6ICJeNC4wLjQiLAogICAgImNvb2tpZS1wYXJzZXIiOiAifjEuMy4zIiwKICAgICJjb29raWUtc2Vzc2lvbiI6ICJeMi4wLjAtYmV0YS4zIiwKICAgICJjb3JzIjogIl4yLjguMyIsCiAgICAiY3J5cHRvLWpzIjogIl4zLjEuOS0xIiwKICAgICJkb3RlbnYiOiAiXjUuMC4xIiwKICAgICJlanMiOiAifj4gMi41LjUiLAogICAgImV4cHJlc3MiOiAiNC4xNi4yIiwKICAgICJleHByZXNzLWp3dCI6ICIqIiwKICAgICJleHByZXNzLXNlc3Npb24iOiAiKiIsCiAgICAiZXhwcmVzcy11c2VyYWdlbnQiOiAiXjEuMC4xNSIsCiAgICAiZmF2aWNvbiI6ICIqIiwKICAgICJmcyI6ICIqIiwKICAgICJodHRwIjogIioiLAogICAgImh0dHAtc2VydmVyIjogIl4wLjEyLjEiLAogICAgImp3dC1zaW1wbGUiOiAiKiIsCiAgICAibG9kYXNoLm1lcmdlIjogIl40LjYuMiIsCiAgICAibG9nLXN5bWJvbHMiOiAiKiIsCiAgICAibWVyZ2UiOiAiXjEuMi4xIiwKICAgICJtZXRob2Qtb3ZlcnJpZGUiOiAiPj0yLjMuMTAiLAogICAgIm1vbWVudCI6ICJeMi4yOS4xIiwKICAgICJtb25nb29zZSI6ICJeNS45LjE0IiwKICAgICJtb25nb29zZS1yYW5kb20iOiAiXjAuMS4xIiwKICAgICJtb25nb29zZS1zaW1wbGUtcmFuZG9tIjogIioiLAogICAgIm5vZGUtcmVzdGZ1bCI6ICIqIiwKICAgICJub2RlbW9uIjogIioiLAogICAgIm9wZW4iOiAiPj02LjAuMCIsCiAgICAicGFyc2V1cmwiOiAiKiIsCiAgICAicGFzc3BvcnQiOiAiKiIsCiAgICAicGFzc3BvcnQtZmFjZWJvb2siOiAiXjIuMS4xIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vay10b2tlbiI6ICJeMy4zLjAiLAogICAgInBhdGgiOiAiKiIsCiAgICAicHJvbWlzZSI6ICIqIiwKICAgICJyZWRpcyI6ICJeMy4wLjIiLAogICAgInJlcXVlc3QiOiAiXjIuODMuMCIsCiAgICAicmVxdWVzdC1wcm9taXNlIjogIl40LjIuMiIsCiAgICAic2VydmUtZmF2aWNvbiI6ICIqIiwKICAgICJ1bmRlcnNjb3JlIjogIl4xLjEzLjEiCiAgfQp9CgAAAAAAAAAAUwgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				],
				[
					8,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABTCAAAewogICJuYW1lIjogIlN0dWNrV2FuWWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk15IHJldmFtcCB2ZXJzaW9uIG9mIEZhY2VtYXNoLCB3ZWJzaXRlIGNyZWF0ZWQgYnkgTWFyayBadWNrZXJiZXJnIGZvciByYXRpbmcgcGVvcGxlIGJhc2VkIG9uIHRoZWlyIGxvb2tzIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAic2NyaXB0cyI6IHsKICAgICJzdGFydCI6ICJub2RlIHNlcnZlci5qcyIsCiAgICAiZGV2IjogIm5vZGVtb24gc2VydmVyLmpzIiwKICAgICJ0ZXN0IjogImh0dHAtc2VydmVyIC0tc3NsIC1jLTEgLXAgNTAwMCAtYSAxMjcuMC4wLjEiCiAgfSwKICAicmVwb3NpdG9yeSI6ICJnaXQraHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC5naXQiLAogICJrZXl3b3JkcyI6IFsKICAgICJzdHVjayB3YW4iLAogICAgInN0dWNrIHdhbiB5YWgiLAogICAgInJhdGluZyBwaWN0dXJlcyIsCiAgICAiaG90IGJveXMiLAogICAgImhvdCBnaXJscyIsCiAgICAiZGF0IHdhbiBob3ciLAogICAgInZvdGUgZm9yIHdobydzIGhvdHRlciIsCiAgICAiZmFjZW1hc2giLAogICAgInJhdGluZyBwZW9wbGUncyBwaWN0dXJlcyIsCiAgICAibm9kZSIsCiAgICAiZXhwcmVzcyIKICBdLAogICJob21lcGFnZSI6ICJodHRwczovL2dpdGh1Yi5jb20vY2hyaXNhdWd1L3N0dWNrd2FueWFoIiwKICAiYXV0aG9yIjogIkNocmlzdGlhbiBBdWd1c3R5biA8Y2hyaXNhdWd1NjFAZ21haWwuY29tPiIsCiAgImxpY2Vuc2UiOiAiTUlUIiwKICAiYnVncyI6IHsKICAgICJ1cmwiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC9pc3N1ZXMiCiAgfSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFycGFkIjogIl4xLjAuMiIsCiAgICAiYXJyYXktdW5pcXVlIjogIioiLAogICAgImFzeW5jIjogIl4xLjUuMiIsCiAgICAiYm9keS1wYXJzZXIiOiAifjEuMTguMiIsCiAgICAiY29sb3JzIjogIl4xLjQuMCIsCiAgICAiY29ubmVjdC1yZWRpcyI6ICJeNC4wLjQiLAogICAgImNvb2tpZS1wYXJzZXIiOiAifjEuMy4zIiwKICAgICJjb29raWUtc2Vzc2lvbiI6ICJeMi4wLjAtYmV0YS4zIiwKICAgICJjb3JzIjogIl4yLjguNSIsCiAgICAiY3J5cHRvLWpzIjogIl4zLjEuOS0xIiwKICAgICJlanMiOiAifj4gMi41LjUiLAogICAgImV4cHJlc3MiOiAiNC4xNi4yIiwKICAgICJleHByZXNzLWp3dCI6ICIqIiwKICAgICJleHByZXNzLXNlc3Npb24iOiAiKiIsCiAgICAiZXhwcmVzcy11c2VyYWdlbnQiOiAiXjEuMC4xNSIsCiAgICAiZmF2aWNvbiI6ICIqIiwKICAgICJmcyI6ICJeMC4wLjEtc2VjdXJpdHkiLAogICAgImh0dHAiOiAiKiIsCiAgICAiaHR0cC1zZXJ2ZXIiOiAiXjAuMTIuMSIsCiAgICAiand0LXNpbXBsZSI6ICIqIiwKICAgICJsb2Rhc2gubWVyZ2UiOiAiXjQuNi4yIiwKICAgICJsb2ctc3ltYm9scyI6ICJeNC4wLjAiLAogICAgIm1lcmdlIjogIl4xLjIuMSIsCiAgICAibWV0aG9kLW92ZXJyaWRlIjogIj49Mi4zLjEwIiwKICAgICJtb21lbnQiOiAiXjIuMjkuMSIsCiAgICAibW9uZ29vc2UiOiAiXjUuOS4xNCIsCiAgICAibW9uZ29vc2UtcmFuZG9tIjogIl4wLjEuMSIsCiAgICAibW9uZ29vc2Utc2ltcGxlLXJhbmRvbSI6ICIqIiwKICAgICJub2RlLXJlc3RmdWwiOiAiKiIsCiAgICAib3BlbiI6ICI+PTYuMC4wIiwKICAgICJwYXJzZXVybCI6ICIqIiwKICAgICJwYXNzcG9ydCI6ICIqIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vayI6ICJeMi4xLjEiLAogICAgInBhc3Nwb3J0LWZhY2Vib29rLXRva2VuIjogIl4zLjMuMCIsCiAgICAicGF0aCI6ICIqIiwKICAgICJwcm9taXNlIjogIioiLAogICAgInJlZGlzIjogIl4zLjAuMiIsCiAgICAicmVxdWVzdCI6ICJeMi44My4wIiwKICAgICJyZXF1ZXN0LXByb21pc2UiOiAiXjQuMi4yIiwKICAgICJzZXJ2ZS1mYXZpY29uIjogIioiLAogICAgInVuZGVyc2NvcmUiOiAiXjEuMTMuMSIsCiAgICAieG1sMmpzIjogIl4wLjQuMjMiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgImRvdGVudiI6ICJeNS4wLjEiLAogICAgIm1vcmdhbiI6ICJeMS4xMC4wIiwKICAgICJub2RlbW9uIjogIioiCiAgfQp9CgAAAAAAAAAABAgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				],
				[
					9,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAAECAAAewogICJuYW1lIjogInN0dWNrd2FueWFoIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2F1Z3Uvc3R1Y2t3YW55YWgiLAogICJkZXNjcmlwdGlvbiI6ICJNeSByZXZhbXAgdmVyc2lvbiBvZiBGYWNlbWFzaCwgd2Vic2l0ZSBjcmVhdGVkIGJ5IE1hcmsgWnVja2VyYmVyZyBmb3IgcmF0aW5nIHBlb3BsZSBiYXNlZCBvbiB0aGVpciBsb29rcyIsCiAgIm1haW4iOiAic2VydmVyLmpzIiwKICAiZW5naW5lcyI6IHsKICAgICJub2RlIjogIjEyLngiLAogICAgIm5wbSI6ICI2LngiCiAgfSwKICAic2NyaXB0cyI6IHsKICAgICJzdGFydCI6ICJub2RlbW9uIHNlcnZlci5qcyIsCiAgICAidGVzdCI6ICJodHRwLXNlcnZlciAtLXNzbCAtYy0xIC1wIDUwMDAgLWEgMTI3LjAuMC4xIgogIH0sCiAgInJlcG9zaXRvcnkiOiAiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9jaHJpc2F1Z3Uvc3R1Y2t3YW55YWguZ2l0IiwKICAia2V5d29yZHMiOiBbCiAgICAic3R1Y2sgd2FuIiwKICAgICJzdHVjayB3YW4geWFoIiwKICAgICJyYXRpbmcgcGljdHVyZXMiLAogICAgImhvdCBib3lzIiwKICAgICJob3QgZ2lybHMiLAogICAgImRhdCB3YW4gaG93IiwKICAgICJ2b3RlIGZvciB3aG8ncyBob3R0ZXIiLAogICAgImZhY2VtYXNoIiwKICAgICJyYXRpbmcgcGVvcGxlJ3MgcGljdHVyZXMiLAogICAgIm5vZGUiLAogICAgImV4cHJlc3MiCiAgXSwKICAiYXV0aG9yIjogIkNocmlzdGlhbiBBdWd1c3R5biA8Y2hyaXNhdWd1NjFAZ21haWwuY29tPiIsCiAgImxpY2Vuc2UiOiAiTUlUIiwKICAiYnVncyI6IHsKICAgICJ1cmwiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NocmlzYXVndS9zdHVja3dhbnlhaC9pc3N1ZXMiCiAgfSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImFycGFkIjogIl4xLjAuMiIsCiAgICAiYXJyYXktdW5pcXVlIjogIioiLAogICAgImFzeW5jIjogIl4xLjQuMCIsCiAgICAiYm9keS1wYXJzZXIiOiAifjEuMTguMiIsCiAgICAiY29sb3JzIjogIioiLAogICAgImNvbm5lY3QtcmVkaXMiOiAiXjQuMC40IiwKICAgICJjb29raWUtcGFyc2VyIjogIn4xLjMuMyIsCiAgICAiY29va2llLXNlc3Npb24iOiAiXjIuMC4wLWJldGEuMyIsCiAgICAiY29ycyI6ICJeMi44LjMiLAogICAgImNyeXB0by1qcyI6ICJeMy4xLjktMSIsCiAgICAiZG90ZW52IjogIl41LjAuMSIsCiAgICAiZWpzIjogIn4+IDIuNS41IiwKICAgICJleHByZXNzIjogIjQuMTYuMiIsCiAgICAiZXhwcmVzcy1qd3QiOiAiKiIsCiAgICAiZXhwcmVzcy1zZXNzaW9uIjogIioiLAogICAgImZhdmljb24iOiAiKiIsCiAgICAiZm9yZXZlciI6ICIqIiwKICAgICJmcyI6ICIqIiwKICAgICJodHRwIjogIioiLAogICAgImh0dHAtc2VydmVyIjogIl4wLjEyLjEiLAogICAgImp3dC1zaW1wbGUiOiAiKiIsCiAgICAibG9kYXNoLm1lcmdlIjogIl40LjYuMiIsCiAgICAibG9nLXN5bWJvbHMiOiAiKiIsCiAgICAibWVyZ2UiOiAiXjEuMi4xIiwKICAgICJtZXRob2Qtb3ZlcnJpZGUiOiAiPj0yLjMuMTAiLAogICAgIm1vbWVudCI6ICIqIiwKICAgICJtb25nb29zZSI6ICJeNS45LjE0IiwKICAgICJtb25nb29zZS1yYW5kb20iOiAiXjAuMS4xIiwKICAgICJtb25nb29zZS1zaW1wbGUtcmFuZG9tIjogIioiLAogICAgIm5vZGUtcmVzdGZ1bCI6ICIqIiwKICAgICJub2RlbW9uIjogIioiLAogICAgIm9wZW4iOiAiPj02LjAuMCIsCiAgICAicGFyc2V1cmwiOiAiKiIsCiAgICAicGFzc3BvcnQiOiAiKiIsCiAgICAicGFzc3BvcnQtZmFjZWJvb2siOiAiXjIuMS4xIiwKICAgICJwYXNzcG9ydC1mYWNlYm9vay10b2tlbiI6ICJeMy4zLjAiLAogICAgInBhdGgiOiAiKiIsCiAgICAicHJvbWlzZSI6ICIqIiwKICAgICJyZWRpcyI6ICJeMy4wLjIiLAogICAgInJlcXVlc3QiOiAiXjIuODMuMCIsCiAgICAicmVxdWVzdC1wcm9taXNlIjogIl40LjIuMiIsCiAgICAic2VydmUtZmF2aWNvbiI6ICIqIiwKICAgICJzb2NrZXQuaW8iOiAiKiIsCiAgICAidW5kZXJzY29yZSI6ICIqIiwKICAgICJ4bWwyanMiOiAiKiIKICB9Cn0KAAAAAAAAAABTCAAAAAAAAAAAAAAAAAAAAAAAAFMIAAAAAAAAAAAAAAAAAAAAAAAAUwgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJACAAAAAAAAkAIAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": ".gitignore",
			"settings":
			{
				"buffer_size": 173,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					12,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABPAQAAbm9kZV9tb2R1bGVzCnN0dWNrd2FueWFoZ2FtZQpkYXRhCm1lYW4KdGljLXRhYy10b2UKbmV3Zm9sZGVyCmluc3RhbnRnYW1lCi5pZGVhCi5lbnYKLmJhYmVscmMKKi5zdWJsaW1lLXByb2plY3QKKi5zdWJsaW1lLXdvcmtzcGFjZQpwYWNrYWdlLWxvY2suanNvbgoqLnBlbQoqLy5EU19TdG9yZQoqLkRTX1N0b3JlCm5vZGVfbW9kdWxlcy8KeG5vZGVfbW9kdWxlcy8KYnVpbGQvCmNvbmZpZy5qc29uCmFwcC9pbWFnZXMvY2FyZHMKYXBwL2ltYWdlcy9waG90b3MKYXBwL2phdmFzY3JpcHRzL3BoeXNpY3MKYXBwL2phdmFzY3JpcHRzL2xpYgphcHAvc291bmRzCnZpZXdzL3BoeXNpY3MKKi56aXAAAAAAAAAAAK0AAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMMAAAAAAAAAwwAAAAAAAAAAAAAAAADwvw"
				],
				[
					16,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAK0AAAAAAAAArgAAAAAAAAAAAAAArgAAAAAAAACvAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK0AAAAAAAAArQAAAAAAAAAAAAAAAADwvw"
				],
				[
					17,
					1,
					"paste",
					null,
					"AQAAAK8AAAAAAAAA/gEAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK8AAAAAAAAArwAAAAAAAAAAAAAAAADwvw"
				],
				[
					30,
					1,
					"left_delete",
					null,
					"AQAAALwAAAAAAAAAvAAAAAAAAAAQAAAAc3R1Y2t3YW55YWhnYW1lCg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALwAAAAAAAAAzAAAAAAAAAAAAAAAAAAAAA"
				],
				[
					33,
					1,
					"left_delete",
					null,
					"AQAAAK8AAAAAAAAArwAAAAAAAAAtAAAAbm9kZV9tb2R1bGVzCmRhdGEKbWVhbgp0aWMtdGFjLXRvZQpuZXdmb2xkZXIK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK8AAAAAAAAA3AAAAAAAAAAAAAAAAAAAAA"
				],
				[
					37,
					1,
					"left_delete",
					null,
					"AQAAADIBAAAAAAAAMgEAAAAAAAAPAAAAeG5vZGVfbW9kdWxlcy8K",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADIBAAAAAAAAQQEAAAAAAAAAAAAAAAAAAA"
				],
				[
					44,
					3,
					"left_delete",
					null,
					"AwAAAK8AAAAAAAAArwAAAAAAAAADAQAAaW5zdGFudGdhbWUKLmlkZWEKLmVudgouYmFiZWxyYwoqLnN1YmxpbWUtcHJvamVjdAoqLnN1YmxpbWUtd29ya3NwYWNlCnBhY2thZ2UtbG9jay5qc29uCioucGVtCiovLkRTX1N0b3JlCiouRFNfU3RvcmUKbm9kZV9tb2R1bGVzLwpidWlsZC8KY29uZmlnLmpzb24KYXBwL2ltYWdlcy9jYXJkcwphcHAvaW1hZ2VzL3Bob3RvcwphcHAvamF2YXNjcmlwdHMvcGh5c2ljcwphcHAvamF2YXNjcmlwdHMvbGliCmFwcC9zb3VuZHMKdmlld3MvcGh5c2ljcwoqLnppcK4AAAAAAAAArgAAAAAAAAABAAAACq0AAAAAAAAArQAAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK8AAAAAAAAAsgEAAAAAAAAAAAAAAAAAAA"
				],
				[
					49,
					2,
					"paste",
					null,
					"AwAAAKEAAAAAAAAArQAAAAAAAAAAAAAArQAAAAAAAACtAAAAAAAAAAwAAAAKaW5zdGFudGdhbWWtAAAAAAAAALkAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKEAAAAAAAAArQAAAAAAAAAAAAAAAMBdQA"
				],
				[
					50,
					1,
					"insert",
					{
						"characters": "/*"
					},
					"AgAAALkAAAAAAAAAugAAAAAAAAAAAAAAugAAAAAAAAC7AAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALkAAAAAAAAAuQAAAAAAAAAAAAAAAADwvw"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "/"
					},
					"AQAAAK4AAAAAAAAArwAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4AAAAAAAAArgAAAAAAAAAAAAAAAADwvw"
				],
				[
					58,
					1,
					"insert",
					{
						"characters": "/"
					},
					"AQAAAKIAAAAAAAAAowAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKIAAAAAAAAAogAAAAAAAAAAAAAAAADwvw"
				],
				[
					65,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAC9AAAAIyBmaWxlcwouZW52Ci5iYWJlbHJjCiouc3VibGltZS1wcm9qZWN0Ciouc3VibGltZS13b3Jrc3BhY2UKcGFja2FnZS1sb2NrLmpzb24KKi5wZW0KY29uZmlnLmpzb24KKi56aXAKCiMgZm9sZGVycwouaWRlYQpuZXdmb2xkZXIKbm9kZV9tb2R1bGVzLwojYXBwL2ltYWdlcy9waG90b3MKL2luc3RhbnRnYW1lCi9pbnN0YW50Z2FtZS8qAAAAAAAAAACtAAAAAAAAAAAAAAAAAAAAAAAAAK0AAAAAAAAAAAAAAAAAAAAAAAAArQAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAL0AAAAAAAAAvQAAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": ".env",
			"settings":
			{
				"buffer_size": 1613,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					6,
					2,
					"left_delete",
					null,
					"AgAAAIcCAAAAAAAAhwIAAAAAAAASAAAAWU9VUl9QQUdFX0lEX0hFUkU+hgIAAAAAAACGAgAAAAAAAAEAAAA8",
					"CgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAhwIAAAAAAACZAgAAAAAAAAAAAAAAAPC/"
				],
				[
					7,
					1,
					"paste",
					null,
					"AQAAAIYCAAAAAAAAlQIAAAAAAAAAAAAA",
					"CgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAhgIAAAAAAACGAgAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"paste",
					null,
					"AgAAAIoAAAAAAAAAmwAAAAAAAAAAAAAAmwAAAAAAAACbAAAAAAAAAAsAAABNT05HT0RCX1VSTA",
					"CgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAigAAAAAAAACVAAAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"paste",
					null,
					"AgAAALEBAAAAAAAAwAEAAAAAAAAAAAAAwAEAAAAAAADAAQAAAAAAABAAAAAxNzkxMTY1MzU3NTY4ODMx",
					"CgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAwQEAAAAAAACxAQAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAIoAAAAAAAAAiwAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIoAAAAAAAAAigAAAAAAAAAAAAAAAADwvw"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAAFwAAAAAAAAAXQAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFwAAAAAAAAAXAAAAAAAAAAAAAAAAADwvw"
				],
				[
					29,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAANwAAAAAAAAA3QAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANwAAAAAAAAA3AAAAAAAAAAAAAAAAADwvw"
				],
				[
					30,
					1,
					"paste",
					null,
					"AQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA3QAAAAAAAAAAAAAAAADwvw"
				],
				[
					36,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAAO4AAAAAAAAA7wAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAO4AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					37,
					1,
					"paste",
					null,
					"AQAAAO8AAAAAAAAAFAEAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAO8AAAAAAAAA7wAAAAAAAAAAAAAAAADwvw"
				],
				[
					43,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABNBgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQojREJfVEVTVD1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N3ZWV0bGlwc2RiCiNNT05HT0RCX0FERE9OX1VSST1tb25nb2RiOi8vY2hyaXNhdWd1OmNoYXRtM0BkczExNzcxOS5tbGFiLmNvbToxNzcxOS9zd2VldGxpcHNkYgpNT05HT0RCX0FERE9OX1VSST1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N3ZWV0bGlwc2RiCgojIE1lbW9yYWJsZSB3b3JkIHRvIHZlcmlmeSB3ZWJob29rcyB3aXRoIE1lc3NlbmdlciBwbGF0Zm9ybQpCT1RfVkVSSUZJQ0FUSU9OX1RPS0VOPXRoaXNfaXNfbXlfdG9rZW4KVkVSSUZJQ0FUSU9OX1RPS0VOPXRoaXNfaXNfbXlfdG9rZW4KClBPUlQ9NTAwMAoKIyBBcHAgU2VjcmV0IGZvciBkZWNvZGluZyBjbGllbnQgc2lnbmVkIG1lc3NhZ2VzCkZBQ0VCT09LX0FQUF9JRD0yMDYyMDA3Mjk5ODMyMDIKRkFDRUJPT0tfQVBQX1NFQ1JFVD1lMjdjYjdhYmRhY2ZmMmY4ZWFjYzFhZjNhZjJjZTViZQpGQUNFQk9PS19BUFBfS0VZPTxZT1VSX0FQUF9LRVlfSEVSRT4KI0ZBQ0VCT09LX0NMSUVOVF9JRD0xNzkxMTY1MzU3NTY4ODMxCiNGQUNFQk9PS19DTElFTlRfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCgpGQUNFQk9PS19QQUdFX0lEPTUwODM4MjU4OTU0NjYwNwoKIyBQYWdlIGFjY2VzcyB0b2tlbiBmb3Igc2VuZGluZyBib3QgbWVzc2FnZXMKUEFHRV9BQ0NFU1NfVE9LRU49RUFBWkFkRGk3Zk16OEJBQjZ2YndjWU9qTHJCb1pBRU5EMkdXREtqQXBDSVpDNHRWdjBJczUxQjQ3Z3hLN2hZVFRTdVFpcmhUZ1dxWkFkbEJ3M0JhV0k5aUI5bkJWWkJocVBTSDY5Q1pCTmpjcWQxVndOcXBUekpUUWlDaUxVYVBlVlhaQU1hVFRzT1pCZjBPbzlvWkFOcUplVGFYcUlyNFd6WkJkWkE2bDFrcHczazZSQjZKTFJRdjVZZ28KVVNFUl9BQ0NFU1NfVE9LRU49RUFBWkFkRGk3Zk16OEJBT1RseE56MFJDOUlER2xIVDNDbEY0SENHVEFINGd5azRNVGwyNWhqcGNVcXBHblpCMkREZUx3bEtRelZoZkpxZWtqQ1A1dTlRNWpPVnNaQjVLYVFQWTV6TjlHc2w1MGEwNjNVTzRsVVZJMGl4SVpCdWo3b0htOU9RUG5yN0RSd2p5dHlPUWR4S1YzNzBaQ2xaQ1pCamlYaWhaQXo1QkZzTXhaQUNFUWdra0sxeWRSc21oQ00xcE1CczJvSVlSU0tJTkdCM1pBWkNtTlI4Y0NwN2xScVNTZjNwOW1vZTlaQk1NNXpaQ0RaQ01nQnpyRHBWCkFQUF9BQ0NFU1NfVE9LRU49MjA2MjAwNzI5OTgzMjAyfG90Z3VCekpISWp3TGlVTkphNUpJVzBPTGowUQoKIyBUb2dnbGUgc2VjdXJlIGNvbW11bmljYXRpb24gb2ZmIGZvciBsb2NhbCB0ZXN0aW5nIHdpdGggTW9jayBTREsKVVNFX1NFQ1VSRV9DT01NVU5JQ0FUSU9OPTAKClVQTE9BRF9BQ0NFU1NfVE9LRU49RUFBWXNmWkF4aUZtTUJBS3NaQkk3RFpCNnh3cHpaQUdrc2dRMHZNcjlDTmFrdG1kR2F6ZWNrSGJaQTFoeXZ3WTlXS0x0aEJmTnV0OVpBNDJqVGJ0Y0RkQ3hNRmhVWkJLbGdFMkU1Z0pVbks5QXdCWkN6bnBBT0VmWkN1cEJpMFl3cGphZmhkRU9kcTN3ZDRqYjRJTVpDZklHcFpCUEhpUm1GTTk3TVF4OFpCQU1UVkgzWkJRWkRaRAoAAAAAAAAAABMGAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					44,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAATBgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQpEQl9URVNUPW1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvc3dlZXRsaXBzZGIKTU9OR09EQl9BRERPTl9VUkk9bW9uZ29kYjovL2NocmlzYXVndTpjaGF0bTNAZHMxMTc3MTkubWxhYi5jb206MTc3MTkvc3dlZXRsaXBzZGIKCiMgTWVtb3JhYmxlIHdvcmQgdG8gdmVyaWZ5IHdlYmhvb2tzIHdpdGggTWVzc2VuZ2VyIHBsYXRmb3JtCkJPVF9WRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgpWRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgoKUE9SVD01MDAwCgojIEFwcCBTZWNyZXQgZm9yIGRlY29kaW5nIGNsaWVudCBzaWduZWQgbWVzc2FnZXMKRkFDRUJPT0tfQVBQX0lEPTIwNjIwMDcyOTk4MzIwMgpGQUNFQk9PS19BUFBfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCkZBQ0VCT09LX0FQUF9LRVk9PFlPVVJfQVBQX0tFWV9IRVJFPgojRkFDRUJPT0tfQ0xJRU5UX0lEPTE3OTExNjUzNTc1Njg4MzEKI0ZBQ0VCT09LX0NMSUVOVF9TRUNSRVQ9ZTI3Y2I3YWJkYWNmZjJmOGVhY2MxYWYzYWYyY2U1YmUKCkZBQ0VCT09LX1BBR0VfSUQ9NTA4MzgyNTg5NTQ2NjA3CgojIFBhZ2UgYWNjZXNzIHRva2VuIGZvciBzZW5kaW5nIGJvdCBtZXNzYWdlcwpQQUdFX0FDQ0VTU19UT0tFTj1FQUFaQWREaTdmTXo4QkFCNnZid2NZT2pMckJvWkFFTkQyR1dES2pBcENJWkM0dFZ2MElzNTFCNDdneEs3aFlUVFN1UWlyaFRnV3FaQWRsQnczQmFXSTlpQjluQlZaQmhxUFNINjlDWkJOamNxZDFWd05xcFR6SlRRaUNpTFVhUGVWWFpBTWFUVHNPWkJmME9vOW9aQU5xSmVUYVhxSXI0V3paQmRaQTZsMWtwdzNrNlJCNkpMUlF2NVlnbwpVU0VSX0FDQ0VTU19UT0tFTj1FQUFaQWREaTdmTXo4QkFPVGx4TnowUkM5SURHbEhUM0NsRjRIQ0dUQUg0Z3lrNE1UbDI1aGpwY1VxcEduWkIyRERlTHdsS1F6VmhmSnFla2pDUDV1OVE1ak9Wc1pCNUthUVBZNXpOOUdzbDUwYTA2M1VPNGxVVkkwaXhJWkJ1ajdvSG05T1FQbnI3RFJ3anl0eU9RZHhLVjM3MFpDbFpDWkJqaVhpaFpBejVCRnNNeFpBQ0VRZ2trSzF5ZFJzbWhDTTFwTUJzMm9JWVJTS0lOR0IzWkFaQ21OUjhjQ3A3bFJxU1NmM3A5bW9lOVpCTU01elpDRFpDTWdCenJEcFYKQVBQX0FDQ0VTU19UT0tFTj0yMDYyMDA3Mjk5ODMyMDJ8b3RndUJ6SkhJandMaVVOSmE1SklXME9MajBRCgojIFRvZ2dsZSBzZWN1cmUgY29tbXVuaWNhdGlvbiBvZmYgZm9yIGxvY2FsIHRlc3Rpbmcgd2l0aCBNb2NrIFNESwpVU0VfU0VDVVJFX0NPTU1VTklDQVRJT049MAoKVVBMT0FEX0FDQ0VTU19UT0tFTj1FQUFZc2ZaQXhpRm1NQkFLc1pCSTdEWkI2eHdwelpBR2tzZ1Ewdk1yOUNOYWt0bWRHYXplY2tIYlpBMWh5dndZOVdLTHRoQmZOdXQ5WkE0MmpUYnRjRGRDeE1GaFVaQktsZ0UyRTVnSlVuSzlBd0JaQ3pucEFPRWZaQ3VwQmkwWXdwamFmaGRFT2RxM3dkNGpiNElNWkNmSUdwWkJQSGlSbUZNOTdNUXg4WkJBTVRWSDNaQlFaRFpECgAAAAAAAAAAEgYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					45,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQpEQl9URVNUPW1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvc3dlZXRsaXBzZGIKTU9OR09EQl9VUkw9bW9uZ29kYjovL2NocmlzYXVndTpjaGF0bTNAZHMxMTc3MTkubWxhYi5jb206MTc3MTkvc3dlZXRsaXBzZGIKCiMgTWVtb3JhYmxlIHdvcmQgdG8gdmVyaWZ5IHdlYmhvb2tzIHdpdGggTWVzc2VuZ2VyIHBsYXRmb3JtCkJPVF9WRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgpWRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgoKUE9SVD01MDAwCgojIEFwcCBTZWNyZXQgZm9yIGRlY29kaW5nIGNsaWVudCBzaWduZWQgbWVzc2FnZXMKRkFDRUJPT0tfQVBQX0lEPTE3OTExNjUzNTc1Njg4MzEKRkFDRUJPT0tfQVBQX1NFQ1JFVD1lMjdjYjdhYmRhY2ZmMmY4ZWFjYzFhZjNhZjJjZTViZQpGQUNFQk9PS19BUFBfS0VZPTxZT1VSX0FQUF9LRVlfSEVSRT4KI0ZBQ0VCT09LX0NMSUVOVF9JRD0xNzkxMTY1MzU3NTY4ODMxCiNGQUNFQk9PS19DTElFTlRfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCgpGQUNFQk9PS19QQUdFX0lEPTxZT1VSX1BBR0VfSURfSEVSRT4KCiMgUGFnZSBhY2Nlc3MgdG9rZW4gZm9yIHNlbmRpbmcgYm90IG1lc3NhZ2VzClBBR0VfQUNDRVNTX1RPS0VOPUVBQVpBZERpN2ZNejhCQUI2dmJ3Y1lPakxyQm9aQUVORDJHV0RLakFwQ0laQzR0VnYwSXM1MUI0N2d4SzdoWVRUU3VRaXJoVGdXcVpBZGxCdzNCYVdJOWlCOW5CVlpCaHFQU0g2OUNaQk5qY3FkMVZ3TnFwVHpKVFFpQ2lMVWFQZVZYWkFNYVRUc09aQmYwT285b1pBTnFKZVRhWHFJcjRXelpCZFpBNmwxa3B3M2s2UkI2SkxSUXY1WWdvClVTRVJfQUNDRVNTX1RPS0VOPUVBQVpBZERpN2ZNejhCQU9UbHhOejBSQzlJREdsSFQzQ2xGNEhDR1RBSDRneWs0TVRsMjVoanBjVXFwR25aQjJERGVMd2xLUXpWaGZKcWVrakNQNXU5UTVqT1ZzWkI1S2FRUFk1ek45R3NsNTBhMDYzVU80bFVWSTBpeElaQnVqN29IbTlPUVBucjdEUndqeXR5T1FkeEtWMzcwWkNsWkNaQmppWGloWkF6NUJGc014WkFDRVFna2tLMXlkUnNtaENNMXBNQnMyb0lZUlNLSU5HQjNaQVpDbU5SOGNDcDdsUnFTU2YzcDltb2U5WkJNTTV6WkNEWkNNZ0J6ckRwVgpBUFBfQUNDRVNTX1RPS0VOPTIwNjIwMDcyOTk4MzIwMnxvdGd1QnpKSElqd0xpVU5KYTVKSVcwT0xqMFEKCiMgVG9nZ2xlIHNlY3VyZSBjb21tdW5pY2F0aW9uIG9mZiBmb3IgbG9jYWwgdGVzdGluZyB3aXRoIE1vY2sgU0RLClVTRV9TRUNVUkVfQ09NTVVOSUNBVElPTj0wCgpVUExPQURfQUNDRVNTX1RPS0VOPUVBQVlzZlpBeGlGbU1CQUtzWkJJN0RaQjZ4d3B6WkFHa3NnUTB2TXI5Q05ha3RtZEdhemVja0hiWkExaHl2d1k5V0tMdGhCZk51dDlaQTQyalRidGNEZEN4TUZoVVpCS2xnRTJFNWdKVW5LOUF3QlpDem5wQU9FZlpDdXBCaTBZd3BqYWZoZEVPZHEzd2Q0amI0SU1aQ2ZJR3BaQlBIaVJtRk05N01ReDhaQkFNVFZIM1pCUVpEWkQKAAAAAAAAAABNBgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					46,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABNBgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQojREJfVEVTVD1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N3ZWV0bGlwc2RiCiNNT05HT0RCX0FERE9OX1VSST1tb25nb2RiOi8vY2hyaXNhdWd1OmNoYXRtM0BkczExNzcxOS5tbGFiLmNvbToxNzcxOS9zd2VldGxpcHNkYgpNT05HT0RCX0FERE9OX1VSST1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N3ZWV0bGlwc2RiCgojIE1lbW9yYWJsZSB3b3JkIHRvIHZlcmlmeSB3ZWJob29rcyB3aXRoIE1lc3NlbmdlciBwbGF0Zm9ybQpCT1RfVkVSSUZJQ0FUSU9OX1RPS0VOPXRoaXNfaXNfbXlfdG9rZW4KVkVSSUZJQ0FUSU9OX1RPS0VOPXRoaXNfaXNfbXlfdG9rZW4KClBPUlQ9NTAwMAoKIyBBcHAgU2VjcmV0IGZvciBkZWNvZGluZyBjbGllbnQgc2lnbmVkIG1lc3NhZ2VzCkZBQ0VCT09LX0FQUF9JRD0yMDYyMDA3Mjk5ODMyMDIKRkFDRUJPT0tfQVBQX1NFQ1JFVD1lMjdjYjdhYmRhY2ZmMmY4ZWFjYzFhZjNhZjJjZTViZQpGQUNFQk9PS19BUFBfS0VZPTxZT1VSX0FQUF9LRVlfSEVSRT4KI0ZBQ0VCT09LX0NMSUVOVF9JRD0xNzkxMTY1MzU3NTY4ODMxCiNGQUNFQk9PS19DTElFTlRfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCgpGQUNFQk9PS19QQUdFX0lEPTUwODM4MjU4OTU0NjYwNwoKIyBQYWdlIGFjY2VzcyB0b2tlbiBmb3Igc2VuZGluZyBib3QgbWVzc2FnZXMKUEFHRV9BQ0NFU1NfVE9LRU49RUFBWkFkRGk3Zk16OEJBQjZ2YndjWU9qTHJCb1pBRU5EMkdXREtqQXBDSVpDNHRWdjBJczUxQjQ3Z3hLN2hZVFRTdVFpcmhUZ1dxWkFkbEJ3M0JhV0k5aUI5bkJWWkJocVBTSDY5Q1pCTmpjcWQxVndOcXBUekpUUWlDaUxVYVBlVlhaQU1hVFRzT1pCZjBPbzlvWkFOcUplVGFYcUlyNFd6WkJkWkE2bDFrcHczazZSQjZKTFJRdjVZZ28KVVNFUl9BQ0NFU1NfVE9LRU49RUFBWkFkRGk3Zk16OEJBT1RseE56MFJDOUlER2xIVDNDbEY0SENHVEFINGd5azRNVGwyNWhqcGNVcXBHblpCMkREZUx3bEtRelZoZkpxZWtqQ1A1dTlRNWpPVnNaQjVLYVFQWTV6TjlHc2w1MGEwNjNVTzRsVVZJMGl4SVpCdWo3b0htOU9RUG5yN0RSd2p5dHlPUWR4S1YzNzBaQ2xaQ1pCamlYaWhaQXo1QkZzTXhaQUNFUWdra0sxeWRSc21oQ00xcE1CczJvSVlSU0tJTkdCM1pBWkNtTlI4Y0NwN2xScVNTZjNwOW1vZTlaQk1NNXpaQ0RaQ01nQnpyRHBWCkFQUF9BQ0NFU1NfVE9LRU49MjA2MjAwNzI5OTgzMjAyfG90Z3VCekpISWp3TGlVTkphNUpJVzBPTGowUQoKIyBUb2dnbGUgc2VjdXJlIGNvbW11bmljYXRpb24gb2ZmIGZvciBsb2NhbCB0ZXN0aW5nIHdpdGggTW9jayBTREsKVVNFX1NFQ1VSRV9DT01NVU5JQ0FUSU9OPTAKClVQTE9BRF9BQ0NFU1NfVE9LRU49RUFBWXNmWkF4aUZtTUJBS3NaQkk3RFpCNnh3cHpaQUdrc2dRMHZNcjlDTmFrdG1kR2F6ZWNrSGJaQTFoeXZ3WTlXS0x0aEJmTnV0OVpBNDJqVGJ0Y0RkQ3hNRmhVWkJLbGdFMkU1Z0pVbks5QXdCWkN6bnBBT0VmWkN1cEJpMFl3cGphZmhkRU9kcTN3ZDRqYjRJTVpDZklHcFpCUEhpUm1GTTk3TVF4OFpCQU1UVkgzWkJRWkRaRAoAAAAAAAAAABIGAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					47,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAASBgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQpEQl9URVNUPW1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvc3dlZXRsaXBzZGIKTU9OR09EQl9VUkw9bW9uZ29kYjovL2NocmlzYXVndTpjaGF0bTNAZHMxMTc3MTkubWxhYi5jb206MTc3MTkvc3dlZXRsaXBzZGIKCiMgTWVtb3JhYmxlIHdvcmQgdG8gdmVyaWZ5IHdlYmhvb2tzIHdpdGggTWVzc2VuZ2VyIHBsYXRmb3JtCkJPVF9WRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgpWRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgoKUE9SVD01MDAwCgojIEFwcCBTZWNyZXQgZm9yIGRlY29kaW5nIGNsaWVudCBzaWduZWQgbWVzc2FnZXMKRkFDRUJPT0tfQVBQX0lEPTE3OTExNjUzNTc1Njg4MzEKRkFDRUJPT0tfQVBQX1NFQ1JFVD1lMjdjYjdhYmRhY2ZmMmY4ZWFjYzFhZjNhZjJjZTViZQpGQUNFQk9PS19BUFBfS0VZPTxZT1VSX0FQUF9LRVlfSEVSRT4KI0ZBQ0VCT09LX0NMSUVOVF9JRD0xNzkxMTY1MzU3NTY4ODMxCiNGQUNFQk9PS19DTElFTlRfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCgpGQUNFQk9PS19QQUdFX0lEPTxZT1VSX1BBR0VfSURfSEVSRT4KCiMgUGFnZSBhY2Nlc3MgdG9rZW4gZm9yIHNlbmRpbmcgYm90IG1lc3NhZ2VzClBBR0VfQUNDRVNTX1RPS0VOPUVBQVpBZERpN2ZNejhCQUI2dmJ3Y1lPakxyQm9aQUVORDJHV0RLakFwQ0laQzR0VnYwSXM1MUI0N2d4SzdoWVRUU3VRaXJoVGdXcVpBZGxCdzNCYVdJOWlCOW5CVlpCaHFQU0g2OUNaQk5qY3FkMVZ3TnFwVHpKVFFpQ2lMVWFQZVZYWkFNYVRUc09aQmYwT285b1pBTnFKZVRhWHFJcjRXelpCZFpBNmwxa3B3M2s2UkI2SkxSUXY1WWdvClVTRVJfQUNDRVNTX1RPS0VOPUVBQVpBZERpN2ZNejhCQU9UbHhOejBSQzlJREdsSFQzQ2xGNEhDR1RBSDRneWs0TVRsMjVoanBjVXFwR25aQjJERGVMd2xLUXpWaGZKcWVrakNQNXU5UTVqT1ZzWkI1S2FRUFk1ek45R3NsNTBhMDYzVU80bFVWSTBpeElaQnVqN29IbTlPUVBucjdEUndqeXR5T1FkeEtWMzcwWkNsWkNaQmppWGloWkF6NUJGc014WkFDRVFna2tLMXlkUnNtaENNMXBNQnMyb0lZUlNLSU5HQjNaQVpDbU5SOGNDcDdsUnFTU2YzcDltb2U5WkJNTTV6WkNEWkNNZ0J6ckRwVgpBUFBfQUNDRVNTX1RPS0VOPTIwNjIwMDcyOTk4MzIwMnxvdGd1QnpKSElqd0xpVU5KYTVKSVcwT0xqMFEKCiMgVG9nZ2xlIHNlY3VyZSBjb21tdW5pY2F0aW9uIG9mZiBmb3IgbG9jYWwgdGVzdGluZyB3aXRoIE1vY2sgU0RLClVTRV9TRUNVUkVfQ09NTVVOSUNBVElPTj0wCgpVUExPQURfQUNDRVNTX1RPS0VOPUVBQVlzZlpBeGlGbU1CQUtzWkJJN0RaQjZ4d3B6WkFHa3NnUTB2TXI5Q05ha3RtZEdhemVja0hiWkExaHl2d1k5V0tMdGhCZk51dDlaQTQyalRidGNEZEN4TUZoVVpCS2xnRTJFNWdKVW5LOUF3QlpDem5wQU9FZlpDdXBCaTBZd3BqYWZoZEVPZHEzd2Q0amI0SU1aQ2ZJR3BaQlBIaVJtRk05N01ReDhaQkFNVFZIM1pCUVpEWkQKAAAAAAAAAABNBgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					48,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABNBgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQojREJfVEVTVD1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N3ZWV0bGlwc2RiCiNNT05HT0RCX0FERE9OX1VSST1tb25nb2RiOi8vY2hyaXNhdWd1OmNoYXRtM0BkczExNzcxOS5tbGFiLmNvbToxNzcxOS9zd2VldGxpcHNkYgpNT05HT0RCX0FERE9OX1VSST1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N3ZWV0bGlwc2RiCgojIE1lbW9yYWJsZSB3b3JkIHRvIHZlcmlmeSB3ZWJob29rcyB3aXRoIE1lc3NlbmdlciBwbGF0Zm9ybQpCT1RfVkVSSUZJQ0FUSU9OX1RPS0VOPXRoaXNfaXNfbXlfdG9rZW4KVkVSSUZJQ0FUSU9OX1RPS0VOPXRoaXNfaXNfbXlfdG9rZW4KClBPUlQ9NTAwMAoKIyBBcHAgU2VjcmV0IGZvciBkZWNvZGluZyBjbGllbnQgc2lnbmVkIG1lc3NhZ2VzCkZBQ0VCT09LX0FQUF9JRD0yMDYyMDA3Mjk5ODMyMDIKRkFDRUJPT0tfQVBQX1NFQ1JFVD1lMjdjYjdhYmRhY2ZmMmY4ZWFjYzFhZjNhZjJjZTViZQpGQUNFQk9PS19BUFBfS0VZPTxZT1VSX0FQUF9LRVlfSEVSRT4KI0ZBQ0VCT09LX0NMSUVOVF9JRD0xNzkxMTY1MzU3NTY4ODMxCiNGQUNFQk9PS19DTElFTlRfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCgpGQUNFQk9PS19QQUdFX0lEPTUwODM4MjU4OTU0NjYwNwoKIyBQYWdlIGFjY2VzcyB0b2tlbiBmb3Igc2VuZGluZyBib3QgbWVzc2FnZXMKUEFHRV9BQ0NFU1NfVE9LRU49RUFBWkFkRGk3Zk16OEJBQjZ2YndjWU9qTHJCb1pBRU5EMkdXREtqQXBDSVpDNHRWdjBJczUxQjQ3Z3hLN2hZVFRTdVFpcmhUZ1dxWkFkbEJ3M0JhV0k5aUI5bkJWWkJocVBTSDY5Q1pCTmpjcWQxVndOcXBUekpUUWlDaUxVYVBlVlhaQU1hVFRzT1pCZjBPbzlvWkFOcUplVGFYcUlyNFd6WkJkWkE2bDFrcHczazZSQjZKTFJRdjVZZ28KVVNFUl9BQ0NFU1NfVE9LRU49RUFBWkFkRGk3Zk16OEJBT1RseE56MFJDOUlER2xIVDNDbEY0SENHVEFINGd5azRNVGwyNWhqcGNVcXBHblpCMkREZUx3bEtRelZoZkpxZWtqQ1A1dTlRNWpPVnNaQjVLYVFQWTV6TjlHc2w1MGEwNjNVTzRsVVZJMGl4SVpCdWo3b0htOU9RUG5yN0RSd2p5dHlPUWR4S1YzNzBaQ2xaQ1pCamlYaWhaQXo1QkZzTXhaQUNFUWdra0sxeWRSc21oQ00xcE1CczJvSVlSU0tJTkdCM1pBWkNtTlI4Y0NwN2xScVNTZjNwOW1vZTlaQk1NNXpaQ0RaQ01nQnpyRHBWCkFQUF9BQ0NFU1NfVE9LRU49MjA2MjAwNzI5OTgzMjAyfG90Z3VCekpISWp3TGlVTkphNUpJVzBPTGowUQoKIyBUb2dnbGUgc2VjdXJlIGNvbW11bmljYXRpb24gb2ZmIGZvciBsb2NhbCB0ZXN0aW5nIHdpdGggTW9jayBTREsKVVNFX1NFQ1VSRV9DT01NVU5JQ0FUSU9OPTAKClVQTE9BRF9BQ0NFU1NfVE9LRU49RUFBWXNmWkF4aUZtTUJBS3NaQkk3RFpCNnh3cHpaQUdrc2dRMHZNcjlDTmFrdG1kR2F6ZWNrSGJaQTFoeXZ3WTlXS0x0aEJmTnV0OVpBNDJqVGJ0Y0RkQ3hNRmhVWkJLbGdFMkU1Z0pVbks5QXdCWkN6bnBBT0VmWkN1cEJpMFl3cGphZmhkRU9kcTN3ZDRqYjRJTVpDZklHcFpCUEhpUm1GTTk3TVF4OFpCQU1UVkgzWkJRWkRaRAoAAAAAAAAAAAAGAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN0AAAAAAAAA7gAAAAAAAAAAAAAAAADwvw"
				],
				[
					51,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAIyBUaGVzZSB2YWx1ZXMgd2lsbCBiZSB1c2VkIGZvciBsb2NhbCB0ZXN0aW5nCgojIENvbm5lY3Rpb24gc3RyaW5nIHRvIHlvdXIgTW9uZ29kYiBkYXRhYmFzZQpEQl9URVNUPW1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvc3dlZXRsaXBzZGIKTU9OR09EQl9VUkw9bW9uZ29kYjovL2NocmlzYXVndTpjaGF0bTNAZHMxMTc3MTkubWxhYi5jb206MTc3MTkvc3dlZXRsaXBzZGIKCiMgTWVtb3JhYmxlIHdvcmQgdG8gdmVyaWZ5IHdlYmhvb2tzIHdpdGggTWVzc2VuZ2VyIHBsYXRmb3JtCkJPVF9WRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgpWRVJJRklDQVRJT05fVE9LRU49dGhpc19pc19teV90b2tlbgoKUE9SVD01MDAwCgojIEFwcCBTZWNyZXQgZm9yIGRlY29kaW5nIGNsaWVudCBzaWduZWQgbWVzc2FnZXMKRkFDRUJPT0tfQVBQX0lEPTE3OTExNjUzNTc1Njg4MzEKRkFDRUJPT0tfQVBQX1NFQ1JFVD1lMjdjYjdhYmRhY2ZmMmY4ZWFjYzFhZjNhZjJjZTViZQpGQUNFQk9PS19BUFBfS0VZPTxZT1VSX0FQUF9LRVlfSEVSRT4KI0ZBQ0VCT09LX0NMSUVOVF9JRD0xNzkxMTY1MzU3NTY4ODMxCiNGQUNFQk9PS19DTElFTlRfU0VDUkVUPWUyN2NiN2FiZGFjZmYyZjhlYWNjMWFmM2FmMmNlNWJlCgpGQUNFQk9PS19QQUdFX0lEPTxZT1VSX1BBR0VfSURfSEVSRT4KCiMgUGFnZSBhY2Nlc3MgdG9rZW4gZm9yIHNlbmRpbmcgYm90IG1lc3NhZ2VzClBBR0VfQUNDRVNTX1RPS0VOPUVBQVpBZERpN2ZNejhCQVBpVEhZdFZJVXMwTGx6Q3dJMGtqUmw5QlVyZ1RRMmVmMXI4WWl3WkM4bk80d2ZqRlpBMmJmdVgxMFpBNmx1c1NGMVVKRjlWbUh5cFlERlZIZ0dWeUZaQlhyV1BaQ0tYN0pGQUxVVVpBY3l0am5RN1pBblpBZ3ZuTkFXV2RHbTFQWkJOd1JSaXBONVVYTlBnYVpBaDVMUkFlQ2h3UTdpWkNDMGIzbXpoWUJQZlpCR1RRM0Q2YjY2c0RpTVpDQ2VCWkJuV3BDeHZKeGowOWQ5WkFXMgpVU0VSX0FDQ0VTU19UT0tFTj1FQUFaQWREaTdmTXo4QkFEV1JXV2VaQnNhenMwTmxWU2hZME5LRmNlZ0tlMTdqUlFtYlFvbnhJWkJaQUNaQVBjSno5OVpBaVJLcDJQSDJmNjIzUTdURjdFV0JIOU1ZSWs4SFIycW5wZFd5NUxNb2tNRDY5R2RQbVhJVzQ2VzdveG5pTTVKbWlETHUyUHN5SWNDeWlIQWcydFJqWkFDUVBBeDJqY3cyU1pDZUZqOTVCUEhFdUVoTDB4WkFKNzRXOEhaQnZnSWdaRApBUFBfQUNDRVNTX1RPS0VOPTIwNjIwMDcyOTk4MzIwMnxvdGd1QnpKSElqd0xpVU5KYTVKSVcwT0xqMFEKCiMgVG9nZ2xlIHNlY3VyZSBjb21tdW5pY2F0aW9uIG9mZiBmb3IgbG9jYWwgdGVzdGluZyB3aXRoIE1vY2sgU0RLClVTRV9TRUNVUkVfQ09NTVVOSUNBVElPTj0wCgpVUExPQURfQUNDRVNTX1RPS0VOPUVBQVlzZlpBeGlGbU1CQUtzWkJJN0RaQjZ4d3B6WkFHa3NnUTB2TXI5Q05ha3RtZEdhemVja0hiWkExaHl2d1k5V0tMdGhCZk51dDlaQTQyalRidGNEZEN4TUZoVVpCS2xnRTJFNWdKVW5LOUF3QlpDem5wQU9FZlpDdXBCaTBZd3BqYWZoZEVPZHEzd2Q0amI0SU1aQ2ZJR3BaQlBIaVJtRk05N01ReDhaQkFNVFZIM1pCUVpEWkQKAAAAAAAAAABNBgAAAAAAAAAAAAAAAAAAAAAAAE0GAAAAAAAAAAAAAAAAAAAAAAAATQYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF4BAAAAAAAAXgEAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "views/home.html",
			"settings":
			{
				"buffer_size": 6134,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD5FwAAPCFET0NUWVBFIGh0bWw+CjxodG1sIGlkPSJzdHVja3dhbnlhaCI+CjxoZWFkPgoJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJPHRpdGxlPlN0dWNrV2FuWWFoPC90aXRsZT4KCTxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJTdHVja1dhbllhaCBsZXRzIHlvdSB2b3RlIGZvciB5b3VyIEZhY2Vib29rIGZyaWVuZHMnIGhvdG5lc3MiPgoKCTxsaW5rIHJlbD0icHJlbG9hZCIgaHJlZj0iaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanMiIGFzPSJzY3JpcHQiPgoKICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xIj4KCTxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29uIiBocmVmPSIvZmF2aWNvbi5pY28iIHRpdGxlPSJTdHVja1dhbllhaCI+CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL3N0eWxlc2hlZXRzL3N0eWxlc2hlZXQuY3NzIiBtZWRpYT0iYWxsIj4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nvbm5lY3QuZmFjZWJvb2submV0L2VuX1VTL3Nkay5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KCjwvaGVhZD4KPGJvZHkgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9XZWJQYWdlIj4KPG1haW4gaWQ9Im1haW4iPgoKCTxoMT5TdHVja1dhbllhaDwvaDE+CgoJPGNlbnRlcj4KCQk8JSBpZiAoaW1hZ2VzKSB7ICU+CgoJCQk8JSMgPGgzPldlcmUgd2UgbGV0IGluIGZvciBvdXIgbG9va3M/IE5vcGUuIFdpbGwgd2UgYmUganVkZ2Ugb24gdGhlbT8gWWVzLjwvaDM+ICU+CgkJCTxoMz5NeSBmcmllbmRzIGFyZSBzdHVjayB3YW5zIPCfmI08L2gzPgoJCQk8aDI+RGF0IHdhbiBob3c/IENsaWNrIHRvIGNob29zZS48L2gyPgoKCQkJCTx0YWJsZSBpdGVtcHJvcD0ibWFpbkVudGl0eSIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9Cb29rIj4KCQkJCQk8dHIgaWQ9InBob3RvcyIgaXRlbXByb3A9Im9mZmVycyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9PZmZlciI+CgkJCQkJCTx0ZCB2YWxpZ249InRvcCIgYWxpZ249ImNlbnRlciIgY2xhc3M9InBob3RvIj48YSBocmVmPSJyYXRlP3dpbm5lcj08JT0gaW1hZ2VzWzBdLmltYWdlSWQgJT4mbG9zZXI9PCU9IGltYWdlc1sxXS5pbWFnZUlkICU+IiBvbmNsaWNrPSJzaCgndm90ZScpIiBkYXRhLWZiLWlkPSI8JT0gaW1hZ2VzWzBdLmltYWdlSWQgJT4iPjxpbWcgY2xhc3M9ImltZyIgaXRlbXByb3A9ImltYWdlIiBzcmM9Imh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb20vPCU9IGltYWdlc1sxXS5pbWFnZUlkICU+L3BpY3R1cmU/dHlwZT1sYXJnZSZhY2Nlc3NfdG9rZW49PCU9IGFjY2Vzc1Rva2VuICU+IiB4c3Jjc2V0PSI8JT0gaW1hZ2VzWzBdLnBpY3R1cmUgJT4iPjwvYT48L3RkPgoJCQkJCQk8dGQgaWQ9Ik9SIiB3aWR0aD0iNTUiIGFsaWduPSJjZW50ZXIiPjxhIGhyZWY9InRpZT9wbGF5ZXIxPTwlPSBpbWFnZXNbMF0uaW1hZ2VJZCAlPiZwbGF5ZXIyPTwlPSBpbWFnZXNbMV0uaW1hZ2VJZCAlPiIgc3R5bGU9InRleHQtZGVjb3JhdGlvbjpub25lOyI+PGI+T1I8L2I+PC9hPjwvdGQ+CgkJCQkJCTx0ZCB2YWxpZ249InRvcCIgYWxpZ249ImNlbnRlciIgY2xhc3M9InBob3RvIj48YSBocmVmPSJyYXRlP3dpbm5lcj08JT0gaW1hZ2VzWzFdLmltYWdlSWQgJT4mbG9zZXI9PCU9IGltYWdlc1swXS5pbWFnZUlkICU+IiBvbmNsaWNrPSJzaCgndm90ZScpIiBkYXRhLWZiLWlkPSI8JT0gaW1hZ2VzWzFdLmltYWdlSWQgJT4iPjxpbWcgY2xhc3M9ImltZyIgaXRlbXByb3A9ImltYWdlIiBzcmM9Imh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb20vPCU9IGltYWdlc1swXS5pbWFnZUlkICU+L3BpY3R1cmU/dHlwZT1sYXJnZSZhY2Nlc3NfdG9rZW49PCU9IGFjY2Vzc1Rva2VuICU+IiB4c3Jjc2V0PSI8JT0gaW1hZ2VzWzFdLnBpY3R1cmUgJT4iPjwvYT48L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyIGFsaWduPSJjZW50ZXIiIGl0ZW1wcm9wPSJuYW1lcyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9QZXJzb24iPgoJCQkJCQk8dGQgaXRlbXByb3A9Im5hbWUiPjwlPSBpbWFnZXNbMF0ubmFtZSAlPjwvdGQ+CgkJCQkJCTx0ZD48L3RkPgoJCQkJCQk8dGQgaXRlbXByb3A9Im5hbWUiPjwlPSBpbWFnZXNbMV0ubmFtZSAlPjwvdGQ+CgkJCQkJPC90cj4KCQkJCQk8dHIgaWQ9InJhdGluZ3MiIGFsaWduPSJsZWZ0IiBpdGVtcHJvcD0icmF0aW5ncyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9SYXRpbmdzIj4KCQkJCQkJPHRkIGl0ZW1wcm9wPSJpbWFnZVJhdGluZ3MiPjxiPlJhdGluZ3M6PC9iPiA8JT0gaW1hZ2VzWzBdLnJhdGluZ3MgJT48L3RkPgoJCQkJCQk8dGQ+PC90ZD4KCQkJCQkJPHRkIGl0ZW1wcm9wPSJpbWFnZVJhdGluZ3MiPjxiPlJhdGluZ3M6PC9iPiA8JT0gaW1hZ2VzWzFdLnJhdGluZ3MgJT48L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyIGlkPSJ3aW5zIiBhbGlnbj0ibGVmdCIgaXRlbXByb3A9InBvaW50cyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9Qb2ludHMiPgoJCQkJCQk8dGQgaXRlbXByb3A9ImltYWdlUG9pbnRzIj48Yj5XaW5zOjwvYj4gPCU9IGltYWdlc1swXS53aW5zICU+LCA8Yj5Mb3NzZXM6IDwvYj48JT0gaW1hZ2VzWzBdLmxvc3NlcyAlPiwgPGI+RHJhd3M6IDwvYj48JT0gaW1hZ2VzWzBdLmRyYXdzICU+PC90ZD4KCQkJCQkJPHRkPjwvdGQ+CgkJCQkJCTx0ZCBpdGVtcHJvcD0iaW1hZ2VQb2ludHMiPjxiPldpbnM6PC9iPiA8JT0gaW1hZ2VzWzFdLndpbnMgJT4sIDxiPkxvc3NlczogPC9iPjwlPSBpbWFnZXNbMV0ubG9zc2VzICU+LCA8Yj5EcmF3czogPC9iPjwlPSBpbWFnZXNbMV0uZHJhd3MgJT4gPC90ZD4KCQkJCQk8L3RyPgoJCQkJCTx0ciBpZD0ic2NvcmVzIiBhbGlnbj0ibGVmdCIgaXRlbXByb3A9InNjb3JlcyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9TY29yZSI+CgkJCQkJCTx0ZCBpdGVtcHJvcD0iaW1hZ2VTY29yZXMiPjxiPlNjb3JlOiA8L2I+CgkJCQkJCQk8JSB2YXIgc2NvcmUgPSBNYXRoLnJvdW5kKGltYWdlc1swXS5yYXRpbmdzIC8gKGltYWdlc1swXS53aW5zICsgaW1hZ2VzWzBdLmxvc3NlcyArIGltYWdlc1swXS5kcmF3cykpOwoJCQkJCQkJaWYgKHNjb3JlICE9PSBJbmZpbml0eSkgeyAlPjwlPSBzY29yZSAlPjwlIH0gZWxzZSB7ICU+PCU9IDAgJT48JSB9ICU+CgkJCQkJCTwvdGQ+CgkJCQkJCTx0ZD48L3RkPgoJCQkJCQk8dGQgaXRlbXByb3A9ImltYWdlU2NvcmVzIj48Yj5TY29yZTogPC9iPgoJCQkJCQkJPCUgdmFyIHNjb3JlID0gTWF0aC5yb3VuZChpbWFnZXNbMV0ucmF0aW5ncyAvIChpbWFnZXNbMV0ud2lucyArIGltYWdlc1sxXS5sb3NzZXMgKyBpbWFnZXNbMV0uZHJhd3MpKTsKCQkJCQkJCWlmIChzY29yZSAhPT0gSW5maW5pdHkpIHsgJT48JT0gc2NvcmUgJT48JSB9IGVsc2UgeyAlPjwlPSAwICU+PCUgfSAlPgoJCQkJCQk8L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyIGlkPSJleHBlY3RhdGlvbnMiIGFsaWduPSJsZWZ0IiBpdGVtcHJvcD0icmF0aW5ncyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9SYXRpbmdzIj4KCQkJCQkJPHRkIGl0ZW1wcm9wPSJpbWFnZVJhdGluZ3MiPjxiPkV4cGVjdGF0aW9uczo8L2I+IDwlPSBNYXRoLnJvdW5kKGV4cGVjdGVkKGltYWdlc1swXS5yYXRpbmdzLCBpbWFnZXNbMV0ucmF0aW5ncykgKiAxMDApICU+JTwvdGQ+CgkJCQkJCTx0ZD48L3RkPgoJCQkJCQk8dGQgaXRlbXByb3A9ImltYWdlUmF0aW5ncyI+PGI+RXhwZWN0YXRpb25zOjwvYj4gPCU9IE1hdGgucm91bmQoZXhwZWN0ZWQoaW1hZ2VzWzFdLnJhdGluZ3MsIGltYWdlc1swXS5yYXRpbmdzKSAqIDEwMCkgJT4lPC90ZD4KCQkJCQk8L3RyPgoJCQkJPC90YWJsZT4KCgkJCQk8JSB9IGVsc2UgeyAlPgoJCQkJPHRhYmxlPgoJCQkJCTx0cj4KCQkJCQkJPHRkIHZhbGlnbj0idG9wIiBhbGlnbj0iY2VudGVyIj4KCQkJCQkJCTxkaXYgaWQ9ImhlY2siIGNsYXNzPSJjb250YWluZXIgY3VycmVudC1hcHAtaW5mbyI+PC9kaXY+CgkJCQkJCTwvdGQ+CgkJCQkJPC90cj4KCQkJCTwvdGFibGU+CiAgICAgICAgPCUgfSAlPgoKCQk8YnIvPjxici8+CgoJCTxkaXYgY2xhc3M9ImZvb3RlciI+CgkJCTxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CgkJCQk8dWw+CgkJCQkJPGxpPjxhIGhyZWY9Ii8iIGRhdGEtYWN0aW9uPSJzaCgnaG9tZScpIj5Ib21lPC9hPjwvbGk+CgkJCQkJPCEtLWxpPjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3d3dy5tZXNzZW5nZXIuY29tL1N0dWNrLVdhbi1ZYWgtNTA4MzgyNTg5NTQ2NjA3LyIgb25jbGljaz0ic2goJ21lc3NlbmdlcmJvdCcpIj5NZXNzZW5nZXIgQm90PC9hPjwvbGk+CgkJCQkJPGxpPjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2FwcHMuZmFjZWJvb2suY29tL1N0dWNrLVdhbi1ZYWgtNTA4MzgyNTg5NTQ2NjA3LyIgb25jbGljaz0ic2goJ2ZhY2Vib29rcGFnZScpIj5TdHVja1dhbllhaCBBcHA8L2E+PC9saT4KCQkJCQk8bGk+PGEgaHJlZj0iL2Fib3V0Lmh0bWwiIG9uY2xpY2s9InNoKCdhYm91dCcpIj5BYm91dDwvYT48L2xpPgoJCQkJCTxsaT48YSBocmVmPSIvZGlzY2xhaW1lci5odG1sIiBvbmNsaWNrPSJzaCgnZGlzY2xhaW1lcicpIj5EaXNjbGFpbWVyPC9hPjwvbGktLT4KCQkJCQk8bGk+PGEgaHJlZj0iL3N1Ym1pdC5odG1sIiBvbmNsaWNrPSJzaCgnc3VibWl0JykiPlN1Ym1pdDwvYT48L2xpPgoJCQkJCTxsaT48YSBocmVmPSIvcmFua2luZ3MuaHRtbCIgb25jbGljaz0ic2goJ3JhbmtpbmdzJykiPlJhbmtpbmdzPC9hPjwvbGk+CgkJCQkJPGxpPjxhIGhyZWY9Ii9mcmllbmRzLmh0bWwiIG9uY2xpY2s9InNoKCdmcmllbmRzJykiPkZyaWVuZHM8L2E+PC9saT4KCQkJCTwvdWw+CgkJCQk8cCBjbGFzcz0iY29weXJpZ2h0Ij48YSBocmVmPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vY2hyaXN0aWFuamZhIiBjbGFzcz0iY29weXJpZ2h0Ij5hIENocmlzdGlhbiBBdWd1c3R5biBwcm9kdWN0aW9uPC9hPjwvcD4KCQkJCTxwIGNsYXNzPSJjb3B5cmlnaHQiPjxzcGFuPlN0dWNrV2FuWWFoICZjb3B5OyAyMDE4ICYjeDAwQjc7IE1hZGUgaW4gUE5HIGZvciBmdW4sIGZ1ZWxlZCBieSBjb2NhLWNvbGEsIGNvZmZlZSwgZ3JlYXQgbXVzaWMgJmFtcDsgbW92aWVzLjwvc3Bhbj48L3A+CgkJCTwvZGl2PgoKCQkJPCUjCgkJCQk8ZGl2IGNsYXNzPSJjb3VudGVyIj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1udW1iZXIgY291bnRlci1iZyBkb2xsYXItc2lnbiI+PHA+JDwvcD48L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImNvdW50ZXItbnVtYmVyIGNvdW50ZXItYmcgIj48cD40PC9wPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1udW1iZXIgY291bnRlci1iZyAiPjxwPjg8L3A+PC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzPSJjb3VudGVyLW51bWJlciBjb3VudGVyLWJnIGNvbW1hIj48cD4sPC9wPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1udW1iZXIgY291bnRlci1iZyAiPjxwPjI8L3A+PC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzPSJjb3VudGVyLW51bWJlciBjb3VudGVyLWJnICI+PHA+ODwvcD48L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImNvdW50ZXItbnVtYmVyIGNvdW50ZXItYmcgIj48cD4zPC9wPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1ob3VyIj4vIGluIDIgaG91cnM8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJCSU+CgoJCTwvZGl2PgoJPC9jZW50ZXI+CjwvbWFpbj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iamF2YXNjcmlwdHMvanF1ZXJ5LmpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iamF2YXNjcmlwdHMvc2NyaXB0LmpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoJd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgewoJCUFwcC5pbml0KCEwKTsKCX07Cjwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4AAAAAAAAAADYXAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4GAAAAAAAArgYAAAAAAAAAAAAAAADwvw"
				],
				[
					4,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAA5FwAAPCFET0NUWVBFIGh0bWw+CjxodG1sIGlkPSJzdHVja3dhbnlhaCI+CjxoZWFkPgoJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJPHRpdGxlPlN0dWNrV2FuWWFoPC90aXRsZT4KCTxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJTdHVja1dhbllhaCBsZXRzIHlvdSB2b3RlIGZvciB5b3VyIEZhY2Vib29rIGZyaWVuZHMnIGhvdG5lc3MiPgoKICAgIDxsaW5rIHJlbD0icHJlbG9hZCIgaHJlZj0iaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanMiIGFzPSJzY3JpcHQiPjwvc2NyaXB0PgoKICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xIj4KCTxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29uIiBocmVmPSIvZmF2aWNvbi5pY28iIHRpdGxlPSJTdHVja1dhbllhaCI+CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL3N0eWxlc2hlZXRzL3N0eWxlc2hlZXQuY3NzIiBtZWRpYT0iYWxsIj4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nvbm5lY3QuZmFjZWJvb2submV0L2VuX1VTL3Nkay5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KCjwvaGVhZD4KPGJvZHkgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9XZWJQYWdlIj4KPG1haW4gaWQ9Im1haW4iPgoKCTxoMT5TdHVja1dhbllhaDwvaDE+CgoJPGNlbnRlcj4KCQk8JSBpZiAoaW1hZ2VzKSB7ICU+CgoJCQk8JSMgPGgzPldlcmUgd2UgbGV0IGluIGZvciBvdXIgbG9va3M/IE5vcGUuIFdpbGwgd2UgYmUganVkZ2Ugb24gdGhlbT8gWWVzLjwvaDM+ICU+CgkJCTxoMz5NeSBmcmllbmRzIGFyZSBzdHVjayB3YW5zIPCfmI08L2gzPgoJCQk8aDI+RGF0IHdhbiBob3c/IENsaWNrIHRvIGNob29zZS48L2gyPgoKCQkJCTx0YWJsZSBpdGVtcHJvcD0ibWFpbkVudGl0eSIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9Cb29rIj4KCQkJCQk8dHIgaWQ9InBob3RvcyIgaXRlbXByb3A9Im9mZmVycyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9PZmZlciI+CgkJCQkJCTx0ZCB2YWxpZ249InRvcCIgYWxpZ249ImNlbnRlciIgY2xhc3M9InBob3RvIj48YSBocmVmPSJyYXRlP3dpbm5lcj08JT0gaW1hZ2VzWzBdLmltYWdlSWQgJT4mbG9zZXI9PCU9IGltYWdlc1sxXS5pbWFnZUlkICU+IiBvbmNsaWNrPSJzaCgndm90ZScpIiBkYXRhLWZiLWlkPSI8JT0gaW1hZ2VzWzBdLmZhY2Vib29rSGFuZGxlLmlkICU+Ij48aW1nIGNsYXNzPSJpbWciIGl0ZW1wcm9wPSJpbWFnZSIgc3JjPSI8JT0gaW1hZ2VzWzBdLnBpY3R1cmUgJT4iPjwvYT48L3RkPgoJCQkJCQk8dGQgaWQ9Ik9SIiB3aWR0aD0iNTUiIGFsaWduPSJjZW50ZXIiPjxhIGhyZWY9InRpZT9wbGF5ZXIxPTwlPSBpbWFnZXNbMF0uaW1hZ2VJZCAlPiZwbGF5ZXIyPTwlPSBpbWFnZXNbMV0uaW1hZ2VJZCAlPiIgc3R5bGU9InRleHQtZGVjb3JhdGlvbjpub25lOyI+PGI+T1I8L2I+PC9hPjwvdGQ+CgkJCQkJCTx0ZCB2YWxpZ249InRvcCIgYWxpZ249ImNlbnRlciIgY2xhc3M9InBob3RvIj48YSBocmVmPSJyYXRlP3dpbm5lcj08JT0gaW1hZ2VzWzFdLmltYWdlSWQgJT4mbG9zZXI9PCU9IGltYWdlc1swXS5pbWFnZUlkICU+IiBvbmNsaWNrPSJzaCgndm90ZScpIiBkYXRhLWZiLWlkPSI8JT0gaW1hZ2VzWzFdLmZhY2Vib29rSGFuZGxlLmlkICU+Ij48aW1nIGNsYXNzPSJpbWciIGl0ZW1wcm9wPSJpbWFnZSIgc3JjPSI8JT0gaW1hZ2VzWzFdLnBpY3R1cmUgJT4iPjwvYT48L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyIGFsaWduPSJjZW50ZXIiIGl0ZW1wcm9wPSJuYW1lcyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9QZXJzb24iPgoJCQkJCQk8dGQgaXRlbXByb3A9Im5hbWUiPjwlPSBpbWFnZXNbMF0ubmFtZSAlPjwvdGQ+CgkJCQkJCTx0ZD48L3RkPgoJCQkJCQk8dGQgaXRlbXByb3A9Im5hbWUiPjwlPSBpbWFnZXNbMV0ubmFtZSAlPjwvdGQ+CgkJCQkJPC90cj4KCQkJCQk8dHIgaWQ9InJhdGluZ3MiIGFsaWduPSJsZWZ0IiBpdGVtcHJvcD0icmF0aW5ncyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9SYXRpbmdzIj4KCQkJCQkJPHRkIGl0ZW1wcm9wPSJpbWFnZVJhdGluZ3MiPjxiPlJhdGluZ3M6PC9iPiA8JT0gaW1hZ2VzWzBdLnJhdGluZ3MgJT48L3RkPgoJCQkJCQk8dGQ+PC90ZD4KCQkJCQkJPHRkIGl0ZW1wcm9wPSJpbWFnZVJhdGluZ3MiPjxiPlJhdGluZ3M6PC9iPiA8JT0gaW1hZ2VzWzFdLnJhdGluZ3MgJT48L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyIGlkPSJ3aW5zIiBhbGlnbj0ibGVmdCIgaXRlbXByb3A9InBvaW50cyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9Qb2ludHMiPgoJCQkJCQk8dGQgaXRlbXByb3A9ImltYWdlUG9pbnRzIj48Yj5XaW5zOjwvYj4gPCU9IGltYWdlc1swXS53aW5zICU+LCA8Yj5Mb3NzZXM6IDwvYj48JT0gaW1hZ2VzWzBdLmxvc3NlcyAlPiwgPGI+RHJhd3M6IDwvYj48JT0gaW1hZ2VzWzBdLmRyYXdzICU+PC90ZD4KCQkJCQkJPHRkPjwvdGQ+CgkJCQkJCTx0ZCBpdGVtcHJvcD0iaW1hZ2VQb2ludHMiPjxiPldpbnM6PC9iPiA8JT0gaW1hZ2VzWzFdLndpbnMgJT4sIDxiPkxvc3NlczogPC9iPjwlPSBpbWFnZXNbMV0ubG9zc2VzICU+LCA8Yj5EcmF3czogPC9iPjwlPSBpbWFnZXNbMV0uZHJhd3MgJT4gPC90ZD4KCQkJCQk8L3RyPgoJCQkJCTx0ciBpZD0ic2NvcmVzIiBhbGlnbj0ibGVmdCIgaXRlbXByb3A9InNjb3JlcyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9TY29yZSI+CgkJCQkJCTx0ZCBpdGVtcHJvcD0iaW1hZ2VTY29yZXMiPjxiPlNjb3JlOiA8L2I+CgkJCQkJCQk8JSB2YXIgc2NvcmUgPSBNYXRoLnJvdW5kKGltYWdlc1swXS5yYXRpbmdzIC8gKGltYWdlc1swXS53aW5zICsgaW1hZ2VzWzBdLmxvc3NlcyArIGltYWdlc1swXS5kcmF3cykpOwoJCQkJCQkJaWYgKHNjb3JlICE9PSBJbmZpbml0eSkgeyAlPjwlPSBzY29yZSAlPjwlIH0gZWxzZSB7ICU+PCU9IDAgJT48JSB9ICU+CgkJCQkJCTwvdGQ+CgkJCQkJCTx0ZD48L3RkPgoJCQkJCQk8dGQgaXRlbXByb3A9ImltYWdlU2NvcmVzIj48Yj5TY29yZTogPC9iPgoJCQkJCQkJPCUgdmFyIHNjb3JlID0gTWF0aC5yb3VuZChpbWFnZXNbMV0ucmF0aW5ncyAvIChpbWFnZXNbMV0ud2lucyArIGltYWdlc1sxXS5sb3NzZXMgKyBpbWFnZXNbMV0uZHJhd3MpKTsKCQkJCQkJCWlmIChzY29yZSAhPT0gSW5maW5pdHkpIHsgJT48JT0gc2NvcmUgJT48JSB9IGVsc2UgeyAlPjwlPSAwICU+PCUgfSAlPgoJCQkJCQk8L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyIGlkPSJleHBlY3RhdGlvbnMiIGFsaWduPSJsZWZ0IiBpdGVtcHJvcD0icmF0aW5ncyIgaXRlbXNjb3BlIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9SYXRpbmdzIj4KCQkJCQkJPHRkIGl0ZW1wcm9wPSJpbWFnZVJhdGluZ3MiPjxiPkV4cGVjdGF0aW9uczo8L2I+IDwlPSBNYXRoLnJvdW5kKGV4cGVjdGVkKGltYWdlc1swXS5yYXRpbmdzLCBpbWFnZXNbMV0ucmF0aW5ncykgKiAxMDApICU+JTwvdGQ+CgkJCQkJCTx0ZD48L3RkPgoJCQkJCQk8dGQgaXRlbXByb3A9ImltYWdlUmF0aW5ncyI+PGI+RXhwZWN0YXRpb25zOjwvYj4gPCU9IE1hdGgucm91bmQoZXhwZWN0ZWQoaW1hZ2VzWzFdLnJhdGluZ3MsIGltYWdlc1swXS5yYXRpbmdzKSAqIDEwMCkgJT4lPC90ZD4KCQkJCQk8L3RyPgoJCQkJPC90YWJsZT4KCgkJCQk8JSB9IGVsc2UgeyAlPgoJCQkJPHRhYmxlPgoJCQkJCTx0cj4KCQkJCQkJPHRkIHZhbGlnbj0idG9wIiBhbGlnbj0iY2VudGVyIj4KCQkJCQkJCTxkaXYgaWQ9ImhlY2siIGNsYXNzPSJjb250YWluZXIgY3VycmVudC1hcHAtaW5mbyI+PC9kaXY+CgkJCQkJCTwvdGQ+CgkJCQkJPC90cj4KCQkJCTwvdGFibGU+CiAgICAgICAgPCUgfSAlPgoKCQk8YnIvPjxici8+CgoJCTxkaXYgY2xhc3M9ImZvb3RlciI+CgkJCTxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CgkJCQk8dWw+CgkJCQkJPGxpPjxhIGhyZWY9Ii8iIGRhdGEtYWN0aW9uPSJzaCgnaG9tZScpIj5Ib21lPC9hPjwvbGk+CgkJCQkJPCEtLWxpPjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3d3dy5tZXNzZW5nZXIuY29tL1N0dWNrLVdhbi1ZYWgtNTA4MzgyNTg5NTQ2NjA3LyIgb25jbGljaz0ic2goJ21lc3NlbmdlcmJvdCcpIj5NZXNzZW5nZXIgQm90PC9hPjwvbGk+CgkJCQkJPGxpPjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2FwcHMuZmFjZWJvb2suY29tL1N0dWNrLVdhbi1ZYWgtNTA4MzgyNTg5NTQ2NjA3LyIgb25jbGljaz0ic2goJ2ZhY2Vib29rcGFnZScpIj5TdHVja1dhbllhaCBBcHA8L2E+PC9saT4KCQkJCQk8bGk+PGEgaHJlZj0iL2Fib3V0Lmh0bWwiIG9uY2xpY2s9InNoKCdhYm91dCcpIj5BYm91dDwvYT48L2xpPgoJCQkJCTxsaT48YSBocmVmPSIvZGlzY2xhaW1lci5odG1sIiBvbmNsaWNrPSJzaCgnZGlzY2xhaW1lcicpIj5EaXNjbGFpbWVyPC9hPjwvbGktLT4KCQkJCQk8bGk+PGEgaHJlZj0iL3N1Ym1pdC5odG1sIiBvbmNsaWNrPSJzaCgnc3VibWl0JykiPlN1Ym1pdDwvYT48L2xpPgoJCQkJCTxsaT48YSBocmVmPSIvcmFua2luZ3MuaHRtbCIgb25jbGljaz0ic2goJ3JhbmtpbmdzJykiPlJhbmtpbmdzPC9hPjwvbGk+CgkJCQkJPGxpPjxhIGhyZWY9Ii9mcmllbmRzLmh0bWwiIG9uY2xpY2s9InNoKCdmcmllbmRzJykiPkZyaWVuZHM8L2E+PC9saT4KCQkJCTwvdWw+CgkJCQk8cCBjbGFzcz0iY29weXJpZ2h0Ij48YSBocmVmPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vY2hyaXN0aWFuamZhIiBjbGFzcz0iY29weXJpZ2h0Ij5hIENocmlzdGlhbiBBdWd1c3R5biBwcm9kdWN0aW9uPC9hPjwvcD4KCQkJCTxwIGNsYXNzPSJjb3B5cmlnaHQiPjxzcGFuPlN0dWNrV2FuWWFoICZjb3B5OyAyMDE4ICYjeDAwQjc7IE1hZGUgaW4gUE5HIGZvciBmdW4sIGZ1ZWxlZCBieSBjb2NhLWNvbGEsIGNvZmZlZSwgZ3JlYXQgbXVzaWMgJmFtcDsgbW92aWVzLjwvc3Bhbj48L3A+CgkJCTwvZGl2PgoKCQkJPCUjCgkJCQk8ZGl2IGNsYXNzPSJjb3VudGVyIj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1udW1iZXIgY291bnRlci1iZyBkb2xsYXItc2lnbiI+PHA+JDwvcD48L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImNvdW50ZXItbnVtYmVyIGNvdW50ZXItYmcgIj48cD40PC9wPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1udW1iZXIgY291bnRlci1iZyAiPjxwPjg8L3A+PC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzPSJjb3VudGVyLW51bWJlciBjb3VudGVyLWJnIGNvbW1hIj48cD4sPC9wPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1udW1iZXIgY291bnRlci1iZyAiPjxwPjI8L3A+PC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzPSJjb3VudGVyLW51bWJlciBjb3VudGVyLWJnICI+PHA+ODwvcD48L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImNvdW50ZXItbnVtYmVyIGNvdW50ZXItYmcgIj48cD4zPC9wPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iY291bnRlci1ob3VyIj4vIGluIDIgaG91cnM8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJCSU+CgoJCTwvZGl2PgoJPC9jZW50ZXI+CjwvbWFpbj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iamF2YXNjcmlwdHMvanF1ZXJ5LmpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iamF2YXNjcmlwdHMvc2NyaXB0LmpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoJd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgewoJCUFwcC5pbml0KCEwKTsKCX07Cjwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4AAAAAAAAAAPYXAAAAAAAAAAAAAAAAAAAAAAAA9hcAAAAAAAAAAAAAAAAAAAAAAAD2FwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4GAAAAAAAArgYAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "app/javascripts/script.js",
			"settings":
			{
				"buffer_size": 54392,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					2,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAC/0wAALyohCiAqIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBTdHVja1dhbllhaC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogKGMpIDIwMTggQ2hyaXN0aWFuIEpGIEF1Z3VzdHluCiAqIHZlcnNpb246IDEuMC4wLCB1cGRhdGVkOiAyMDE4LTA0LTA4LjEyOjM2OjQ5CiAqLwovKioKCjEuIGNoZWNrIHVzZXIgc3RhdHVzCjIuIGlmIHVzZXIgbG9nZ2VkIGluIGdvdG8gNC4KMy4gcHJvbXB0IHVzZXIgdG8gbG9nIGluCjQuIHNlbmRzIHVzZXIgaW5mbyB0byBzZXJ2ZXIKNS4gdXBkYXRlcyBjdXJyZW50IHVzZXIgc2Vzc2lvbgoKKi8KdmFyIGN1cnJlbnRfcGFnZSA9IGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lOwp2YXIga2V5U3Ryb2tlQ291bnQgPSAwOwp2YXIgeGhyID0gbnVsbDsKdmFyIHBob3RvcyA9IFtdOwp2YXIgZnJpZW5kc2xpc3QgPSBbXTsKdmFyIGluaXRpYWxpemVkID0gZmFsc2U7CnZhciBjdXJyZW50TG9naW5TdGF0dXMgPSBudWxsOwp2YXIgYWxyZWFkeUluaXRpYWxpemluZyA9IGZhbHNlOwp2YXIgZmFjZWJvb2tTdGF0dXNDb2RlcyA9IHsKCWRlY2xpbmVkOiAiZGVjbGluZWQiLAoJZ3JhbnRlZDogImdyYW50ZWQiLAoJY29ubmVjdGVkOiAiY29ubmVjdGVkIiwKCW5vdF9hdXRob3JpemVkOiAibm90X2F1dGhvcml6ZWQiCn07CndpbmRvdy5TdHVja1dhbllhaCA9IHsKCSJhcHBJRCI6ICIxNzkxMTY1MzU3NTY4ODMxIiwKCSJmcmljdGlvbmxlc3NSZXF1ZXN0cyI6IHRydWUsCgkiaW5pdCI6IHRydWUsCgkibGV2ZWwiOiAiZGVidWciLAoJInNpZ25lZFJlcXVlc3QiOiBudWxsLAoJInN0YXR1cyI6IHRydWUsCgkidmVyc2lvbiI6ICJ2My4yIiwKCSJ2aWV3TW9kZSI6ICJ3ZWJzaXRlIgp9OwoKdmFyIF9maWVsZHMgPSAncHVibGljX3Byb2ZpbGUsIGVtYWlsLCB1c2VyX2dlbmRlciwgdXNlcl9hZ2VfcmFuZ2UsIHVzZXJfYmlydGhkYXksIHVzZXJfcGhvdG9zLCB1c2VyX2xpbmssIHVzZXJfZnJpZW5kcywgcGFnZXNfdXNlcl9nZW5kZXIscGFnZXNfbWVzc2FnaW5nLHBhZ2VzX21hbmFnZV9wb3N0cyc7CgovKioKICogU3R1Y2tXYW5ZYWggSmF2YVNjcmlwdAogKi8KdmFyIEFwaSA9IGZ1bmN0aW9uICgpIHsKCXZhciBiID0gZnVuY3Rpb24gYihiKSB7CgkJdGhpcy51cmwgPSBiLnVybDsKCQl0aGlzLmRhdGEgPSBiLmRhdGE7CgkJdGhpcy50eXBlID0gYi50eXBlOwoJCSQuYWpheCh7CgkJCXVybDogdGhpcy51cmwsCgkJCWRhdGE6IHRoaXMuZGF0YSB8fCBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpLAoJCQl0eXBlOiB0aGlzLnR5cGUsCgkJCXRpbWVvdXQ6IDMwMDAwLAoJCQljYWNoZTogZmFsc2UsCgkJCWRhdGFUeXBlOiAianNvbiIsCgkJCWNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCIsIC8vY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAoJCQlzdWNjZXNzOiBmdW5jdGlvbihjKSB7CgkJCQljLnN1Y2Nlc3MgPyAnZnVuY3Rpb24nID09IHR5cGVvZiBiLnN1Y2Nlc3MgJiYgYi5zdWNjZXNzKGMpIDogJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgYi5lcnJvciAmJiBiLmVycm9yKCk7CgkJCX0sCgkJCWVycm9yOiBmdW5jdGlvbihxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQkJLy9jYihxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikKCQkJCS8vIGNiKHRydWUsIHFYSFIucmVzcG9uc2VKU09OLCBlcnJvclRocm93bikKCQkJCSdmdW5jdGlvbicgPT0gdHlwZW9mIGIuZXJyb3IgJiYgYi5lcnJvcigpOwoJCQl9CgkJfSk7Cgl9LAoJZCA9IGZ1bmN0aW9uIGQoY3VpZCkgewoJCXZhciBjb3VudF91cmwgPSBBcGkuZ2V0QXBpVXJsKCkgKyAnL3Bob3Rvcz91c2VyX2lkPScgKyBjdWlkOwoJCXZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCQkvL21ha2UgaHR0cCByZXF1ZXN0IHRvIGVuZHBvaW50CgkJeGhyLm9wZW4oJ0dFVCcsIGN1aWQsIHRydWUpOwoJCXhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewoJCQlpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHsKCQkJCWlmICh4aHIuc3RhdHVzID09PSAyMDApIHsKCQkJCQljb25zb2xlLmxvZyh4aHIucmVzcG9uc2VUZXh0KTsKCQkJCX0gZWxzZSB7CgkJCQkJY29uc29sZS5lcnJvcih4aHIuc3RhdHVzVGV4dCk7CgkJCQl9CgkJCX0KCQl9OwoJCXhoci5vbmVycm9yID0gZnVuY3Rpb24gcChlKSB7CgkJCWNvbnNvbGUuZXJyb3IoeGhyLnN0YXR1c1RleHQpOwoJCX07CgkJeGhyLnNlbmQobnVsbCk7Cgl9OwoJcmV0dXJuIHsKCQlfc3RhZ2U6IHsKCQkJIkJBU0VfVVJMIjogImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMCIsCgkJCSJBUElfVVJMIjogImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdjEiCgkJfSwKCQlfcHJvZHVjdGlvbjogewoJCQkiQkFTRV9VUkwiOiAiaHR0cHM6Ly9zdHVja3dhbnlhaC5oZXJva3VhcHAuY29tIiwKCQkJIkFQSV9VUkwiOiAiaHR0cHM6Ly9zdHVja3dhbnlhaC5oZXJva3VhcHAuY29tL2FwaS92MSIsCgkJCSJGQUNFQk9PS19BUFBfSUQiOiAiMTc5MTE2NTM1NzU2ODgzMSIsCgkJCSJGQUNFQk9PS19BUFBfVVJMIjogImh0dHBzOi8vYXBwcy5mYWNlYm9vay5jb20vc3R1Y2t3YW55YWgiLAoJCQkiRkFDRUJPT0tfUEFHRV9VUkwiOiAiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3N0dWNrd2FueWFoIgoJCX0sCgkJX2hvc3RzOiB7CgkJCSJzdHVja3dhbnlhaC5oZXJva3VhcHAuY29tIjogIl9wcm9kdWN0aW9uIiwKCQkJInd3dy5mYWNlYm9vay5jb20iOiAiX3Byb2R1Y3Rpb24iLAoJCQkid2ViLmZhY2Vib29rLmNvbSI6ICJfcHJvZHVjdGlvbiIsCgkJCSJhcHBzLmZhY2Vib29rLmNvbSI6ICJfcHJvZHVjdGlvbiIsCgkJCSJsb2NhbGhvc3QiOiAiX3N0YWdlIgoJCX0sCgkJX2lzUGF0Y2hlZDogZnVuY3Rpb24gZShhKSB7CgkJCXJldHVybiAhL14lW14lXSslJC8udGVzdCgpOwoJCX0sCgkJX2dldFByb3A6IGZ1bmN0aW9uIGUoYSkgewoJCQlyZXR1cm4gdGhpcy5fc3RhZ2VbYV0gJiYgdGhpcy5faXNQYXRjaGVkKHRoaXMuX3N0YWdlW2FdKSA/IHRoaXMuX3Byb2R1Y3Rpb25bYV0gOiB0aGlzLl9zdGFnZVthXTsKCQl9LAoJCV9nZXRIb3N0OiBmdW5jdGlvbiBlKGEpIHsKCQkJcmV0dXJuIHRoaXMuX2hvc3RzW2FdOwoJCX0sCgkJX2dldEhvc3RuYW1lOiBmdW5jdGlvbiBlKGIpIHsKCQkJYiA9IGIgfHwgd2luZG93LmRvY3VtZW50OwoJCQl2YXIgYyA9IGIuZG9tYWluOwoJCQlyZXR1cm4gL153d3cuLy50ZXN0KGMpICYmIChjID0gYy5zbGljZSg0KSksIGM7CgkJfSwKCQlfZ2V0QmFzZVVybDogZnVuY3Rpb24gZSgpIHsKCQkJdmFyIGkgPSB3aW5kb3cubG9jYXRpb247CgkJCXJldHVybiB0aGlzW3RoaXMuX2dldEhvc3QodGhpcy5fZ2V0SG9zdG5hbWUoZG9jdW1lbnQpKV1bIkJBU0VfVVJMIl0sIGkucHJvdG9jb2wgKyAiLy8iICsgaS5ob3N0CgkJfSwKCQlnZXRBcGlVcmw6IGZ1bmN0aW9uIGUoKSB7CgkJCXJldHVybiB0aGlzW3RoaXMuX2dldEhvc3QodGhpcy5fZ2V0SG9zdG5hbWUoZG9jdW1lbnQpKV1bIkFQSV9VUkwiXTsKCQl9LAoJCWdldEJhc2VVcmw6IGZ1bmN0aW9uIGUoKSB7CgkJCXJldHVybiB0aGlzLl9nZXRCYXNlVXJsKCk7CgkJfSwKCQlnZXRGYWNlYm9va0FwcElkOiBmdW5jdGlvbiBlKCkgewoJCQlyZXR1cm4gdGhpcy5fcHJvZHVjdGlvblsiRkFDRUJPT0tfQVBQX0lEIl07CgkJfSwKCQlnZXRGYWNlYm9va0FwcFVybDogZnVuY3Rpb24gZSgpIHsKCQkJcmV0dXJuIHRoaXMuX3Byb2R1Y3Rpb25bIkZBQ0VCT09LX0FQUF9VUkwiXTsKCQl9LAoJCWdldEZhY2Vib29rUGFnZVVybDogZnVuY3Rpb24gZSgpIHsKCQkJcmV0dXJuIHRoaXMuX3Byb2R1Y3Rpb25bIkZBQ0VCT09LX1BBR0VfVVJMIl07CgkJfSwKCQlnZXRDdXJyZW50UGFnZTogZnVuY3Rpb24oKSB7CgkJCXJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5zdWJzdHJpbmcoQXBpLl9nZXRCYXNlVXJsKCkubGVuZ3RoKQoJCX0sCgkJZ2V0VHdvUmFuZG9tSW1hZ2VzOiBmdW5jdGlvbiBlKCkgewoJCQlyZXR1cm4gYih7dXJsOiB0aGlzLmdldEFwaVVybCgpICsgJy9waG90b3MnLCBkYXRhOiB7IGxpbWl0OiAyIH0sIHR5cGU6ICdHRVQnfSk7CgkJfSwKCQlnZXRQaG90b0J5SWQ6IGZ1bmN0aW9uIGUoaWQpIHsKCQkJcmV0dXJuIGIodGhpcy5nZXRBcGlVcmwoKSArICcvcGhvdG9zLycgKyBpZCk7CgkJfSwKCQlkaXNwbGF5UGhvdG86IGZ1bmN0aW9uIGUoc3JjKSB7CgkJCXJldHVybiBiKHRoaXMuZ2V0QXBpVXJsKCkgKyAnL3Bob3Rvcy8nICsgc3JjKTsKCQl9LAoJCWdldFJhbmtpbmdzOiBmdW5jdGlvbiBlKCkgewoJCQlyZXR1cm4gZCh0aGlzLmdldEFwaVVybCgpICsgJy9waG90b3MvdG9wJyk7CgkJfSwKCQlnZXRGcmllbmRzOiBmdW5jdGlvbiBlKCkgewoJCQlyZXR1cm4gYiggdGhpcy5nZXRBcGlVcmwoKSArICcvcGhvdG9zL21lL2ZyaWVuZHMnICk7CgkJfSwKCQlnZXRVc2VyRmJGcmllbmRzTGlzdDogZnVuY3Rpb24gZSgpIHsKCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCQkJCUZCLmFwaSgnL21lL2ZyaWVuZHMnLCBmdW5jdGlvbihyZXN1bHQpIHsKCQkJCQlpZiAoIXJlc3VsdCl7IGNvbnNvbGUuZXJyb3IocmVzdWx0KTsgcmVqZWN0KGZhbHNlKTsgfQoJCQkJCXJlc29sdmUocmVzdWx0KTsKCQkJCX0pCgkJCQkvLyBGQi5hcGkoJy9tZScsJ0dFVCcsIHsKCQkJCS8vIAlmaWVsZHM6IF9maWVsZHMKCQkJCS8vIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJLy8gCWlmIChyZXNwb25zZSkgewoJCQkJLy8gCQlmb3IgKHZhciBpPTA7IGk8cmVzcG9uc2UuZnJpZW5kcy5sZW5ndGg7IGkrKykgewoJCQkJLy8gCQkJcmVzcG9uc2UuZnJpZW5kc1tpXS5pZAoJCQkJLy8gCQl9CgkJCQkvLyAJfQoJCQkJLy8gCXJldHVybiByZXNwb25zZTsKCQkJCS8vIH0pOwoJCQl9KTsKCQkJLy8gRkIuYXBpKCIve2ZyaWVuZC1saXN0LWlkfSIsIGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkvLyAJaWYgKHJlc3BvbnNlICYmICFyZXNwb25zZS5lcnJvcikgewoJCQkvLyAJCS8qIGhhbmRsZSB0aGUgcmVzdWx0ICovCgkJCS8vIAl9CgkJCS8vIH0pOwoJCX0sCgkJZ2V0RmJVc2VyUGhvdG86IGZ1bmN0aW9uIGUoZSkgewoJCQlGQi5hcGkoIi97cGhvdG8taWR9IiwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQlpZiAocmVzcG9uc2UgJiYgIXJlc3BvbnNlLmVycm9yKSB7CgkJCQkJLyogaGFuZGxlIHRoZSByZXN1bHQgKi8KCQkJCX0KCQkJfSk7CgkJfSwKCQlnZXRBY2Nlc3NUb2tlbjogZnVuY3Rpb24gZSgpIHsKCQkJcmV0dXJuIEFwaS5fZ2V0VXNlckRhdGEoImFjY2Vzc190b2tlbiIpIHx8IAoJCQkoVXRpbHMud3JpdGVJdGVtVG9Mb2NhbFN0b3JhZ2UoJ2FjY2Vzc190b2tlbicsIEZCLmdldEFjY2Vzc1Rva2VuKCkpKTsKCQl9LAoJCWNoZWNrTG9naW5TdGF0ZTogZnVuY3Rpb24gZSgpIHsKCQkJVXRpbHMubG9nKCJjaGVja2luZyBsb2dpbiBzdGF0ZS4uLiIpOwoJCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXsKCQkJCS8vIGNoZWNraW5nIGxvZ2luIHN0YXR1cwoJCQkJRkIuZ2V0TG9naW5TdGF0dXMoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQkJRkIuRXZlbnQuc3Vic2NyaWJlKCdhdXRoLnN0YXR1c0NoYW5nZScsIEFwaS5zdGF0dXNDaGFuZ2VDYWxsYmFjayk7IAoJCQkJCVV0aWxzLmxvZygiY2hlY2tlZDogIiArIHJlc3BvbnNlKTsKCQkJCQljdXJyZW50TG9naW5TdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7CgkJCQkJaWYgKHJlc3BvbnNlLnN0YXR1cykgewoJCQkJCQkvLyAKCQkJCQl9CgkJCQkKCQkJCUZCLmFwaSgiL21lP2ZpZWxkcz1pZCxmaXJzdF9uYW1lLHBpY3R1cmV7dXJsfSxlbWFpbCxiaXJ0aGRheSxnZW5kZXIsYWdlX3JhbmdlLGZyaWVuZHN7aWQsZmlyc3RfbmFtZSxiaXJ0aGRheSxhZ2VfcmFuZ2UsZ2VuZGVyfSIsIGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJCWNvbnNvbGUubG9nKHJlc3BvbnNlKQoJCQkJCWNvbnNvbGUubG9nKCdTdWNjZXNzZnVsIGxvZ2luIGZvcjogJyArIHJlc3BvbnNlLmZpcnN0X25hbWUgKyAiID0gIiArIHJlc3BvbnNlLmlkICsgIi4iKTsKCQkJCX0pOwoKCQkJCQlBcGkuc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpOwoJCQkJCXJlc29sdmUocmVzcG9uc2UpOwoJCQkJfSk7CgkJCX0pOwoJCX0sCgkJb25TdGF0dXNDaGFuZ2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCXZhciBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7CgkJCWNvbnNvbGUubG9nKHN0YXR1cyk7CgkJfSwKCQlzdGF0dXNDaGFuZ2VDYWxsYmFjazogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJVXRpbHMubG9nKCdzdGF0dXNDaGFuZ2VDYWxsYmFjaycpOwoJCQljb25zb2xlLmxvZyhyZXNwb25zZSk7CgkJCS8vIExvZy5pbmZvKCdvblN0YXR1cycsIHJlc3BvbnNlKTsKCQkJCgkJCWlmIChyZXNwb25zZS5zdGF0dXMpIHsKCQkJCWlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7CgkJCQkJLy8gc2hvd0FjY291bnRJbmZvKCk7CgkJCQkJdmFyIGZiQWNjZXNzVG9rZW4gPSByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW47CgkJCQkJVXRpbHMud3JpdGVJdGVtVG9Mb2NhbFN0b3JhZ2UoImFjY2Vzc190b2tlbiIsIGZiQWNjZXNzVG9rZW4pOwoJCQkJCXZhciBmYlVzZXIgPSByZXNwb25zZS5hdXRoUmVzcG9uc2UudXNlcklEOwoKCQkJCQlVdGlscy53cml0ZUl0ZW1Ub0xvY2FsU3RvcmFnZSgiX3VzZXIiLCBmYlVzZXIpOwoJCQkJCgkJCQkJY29uc29sZS5sb2coJ0xvZ2dlZCBpbiBhczogJyArIGZiVXNlcik7CgkJCQkJVXRpbHMud3JpdGVJdGVtVG9Mb2NhbFN0b3JhZ2UoImNfdXNlcl9zdGF0dXMiLCByZXNwb25zZS5zdGF0dXMpOwoJCQkJCS8vIExvZ2dlZCBpbnRvIHlvdXIgYXBwIGFuZCBGYWNlYm9vay4KCQkJCQlBcGkudXNlckRldGFpbHNGcm9tRmIoKTsKCQkJCQl2YXIgdWlkID0gcmVzcG9uc2UuYXV0aFJlc3BvbnNlLnVzZXJJRDsKCQkJCQl2YXIgYWNjZXNzVG9rZW4gPSByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW47CgkJCQl9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ25vdF9hdXRob3JpemVkJyB8fCByZXNwb25zZS5zdGF0dXMgPT09ICd1bmtub3duJykgewoJCQkJCS8vIGFsZXJ0KCdZb3UgYXJlIG5vdCBhdXRob3JpemVkJyk7CgkJCQkJQXBpLmxvZ2luKCk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIHNob3dMb2dpbkJ1dHRvbigpOwoJCQkJCWNvbnNvbGUubG9nKCdQbGVhc2UgbG9nIGludG8gdGhpcyBhcHAuJyk7CgkJCQkJQXBpLmxvZ2luKCk7CgkJCQkJLy8gd2luZG93LnRvcC5sb2NhdGlvbiA9ICJodHRwczovL2ZhY2Vib29rLmNvbSI7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlVdGlscy5sb2coIllvdSdyZSBub3QgbG9nZ2VkIGluIik7CgkJCQl0aGlzLkFwaS5sb2dpbigpOwoJCQl9CgkJfSwKCQlzaG93QWNjb3VudEluZm86IGZ1bmN0aW9uKCkgewoJCQlGQi5hcGkoRkIuZ2V0VXNlcklEKCksIHsKCQkJCWZpZWxkczogJ25hbWUnCgkJCX0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkvLyBMb2cuaW5mbygnQVBJIENhbGxiYWNrJywgcmVzcG9uc2UpOwoJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpCgkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1pbmZvJykuaW5uZXJIVE1MID0gKAoJCQkJLy8gCSc8aW1nIHNyYz0iJyArIHJlc3BvbnNlWzBdLnBpY19zcXVhcmUgKyAnIj4gJyArCgkJCQkvLyAJcmVzcG9uc2VbMF0ubmFtZSArCgkJCQkvLyAJJyA8YnV0dG9uIGNsYXNzPSJidG4iIG9uY2xpY2s9IkZCLmxvZ291dCgpIj5Mb2dvdXQ8L2J1dHRvbj4nCgkJCQkvLyApOwoJCQl9KTsKCQl9LAoJCWZiZXZlbnQ6IGZ1bmN0aW9uKCkgewoJCQlGQi5FdmVudC5zdWJzY3JpYmUoImF1dGguYXV0aFJlc3BvbnNlQ2hhbmdlIiwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCWlmIChyZXNwb25zZS5zdGF0dXMgPT09ICJjb25uZWN0ZWQiKSB7CgkJCQkJdGVzdEFwaSgpOwoJCQkJfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICJub3RfYXV0aG9yaXplZCIpIHsKCQkJCQlGQi5sb2dpbigpOwoJCQkJfSBlbHNlIHsKCQkJCQlGQi5sb2dpbigpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWZibG9naW46IGZ1bmN0aW9uIGUoKSB7CgkJCXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkJCQlGQi5sb2dpbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCQkvLyByZWNlaXZlIHJlc3BvbnNlIHNlbnQgYnkgRmFjZWJvb2sgCgkJCQkJaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAiY29ubmVjdGVkIiAmJiByZXNwb25zZS5hdXRoUmVzcG9uc2UpIHsKCQkJCQkJcmVzb2x2ZShyZXNwb25zZSk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcmVqZWN0KHsgc3VjY2VzczogZmFsc2UsIHJlYXNvbjogImNhbmNlbCIgfSk7CgkJCQkJfQoJCQkJfSwgeyBzY29wZTogX2ZpZWxkcyB9KTsKCQkJfSk7CgkJfSwKCQlsb2dpbjogZnVuY3Rpb24gZSgpIHsKCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCQkJCS8vIEludm9rZSBGYWNlYm9vayBsb2dpbgoJCQkJQXBpLmZibG9naW4oKS50aGVuKGZ1bmN0aW9uKGZiUmVzKSB7CgkJCQkJLy8gcmVjZWl2ZSByZXNwb25zZSBzZW50IGJ5IEZhY2Vib29rIHNlcnZlcgoJCQkJCWlmIChmYlJlcy5hdXRoUmVzcG9uc2UpIHsKCQkJCQkJQXBpLmNoZWNrTG9naW5TdGF0ZSgpLnRoZW4oZnVuY3Rpb24oZmJSZXMpewoJCQkJCQkJaWYgKGZiUmVzLmF1dGhSZXNwb25zZSA9PT0gbnVsbCkgewoJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsKCQkJCQkJCQkJcmVqZWN0KHsgc3VjY2VzczogZmFsc2UsIHJlYXNvbjogImNhbmNlbCIgfSk7CgkJCQkJCQkJfSwgMTAwMCk7CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCUFwaS51c2VyRGV0YWlsc0Zyb21GYigpLnRoZW4oZnVuY3Rpb24oZmJSZXNwb25zZSl7CgkJCQkJCQkJCWlmIChmYlJlc3BvbnNlKSB7CgkJCQkJCQkJCQlyZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgYXV0aFJlc3BvbnNlOiBmYlJlc3BvbnNlLmF1dGhSZXNwb25zZSwgdXNlckRhdGE6IGZiUmVzcG9uc2UgfSk7CgkJCQkJCQkJCQkvLyBwYXNzIHJlc3BvbnNlIHRvIG15IHNlcnZlciAKCQkJCQkJCQkJCWNvbnNvbGUubG9nKGZiUmVzLmF1dGhSZXNwb25zZSk7CgkJCQkJCQkJCQkkLnBvc3QoIi9mb28iLCB7CgkJCQkJCQkJCQkJcHJvZmlsZWlkOiBmYlJlcy5hdXRoUmVzcG9uc2UudXNlcklELAoJCQkJCQkJCQkJCWFjY2Vzc1Rva2VuOiBmYlJlcy5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW4sCgkJCQkJCQkJCQkJLy8gbmFtZTogCgkJCQkJCQkJCQl9KS50aGVuKGZ1bmN0aW9uKHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2UpIHsKCQkJCQkJCQkJCQljb25zb2xlLmxvZyhzdGF0dXNUZXh0KTsKCQkJCQkJCQkJCX0pCgkJCQkJCQkJCS8vIAkkLnBvc3QoQXBpLmdldEFwaVVybCgpICsgJy9hdXRoL3dlYicsIGZiUmVzLmF1dGhSZXNwb25zZSAvKip7CgkJCQkJCQkJCS8vIAkJdXNlcklEOiAxMDAwMDQxNzcyNzgxNjksCgkJCQkJCQkJCS8vIAkJYWNjZXNzVG9rZW46ICIxMjM0NTY3ODkiLAoJCQkJCQkJCQkvLyAJCWV4cGlyZXNJbjogIiIKCQkJCQkJCQkJLy8gCX0qLykudGhlbihmdW5jdGlvbihzdGF0dXMsIHN0YXR1c1RleHQsIHJlc3BvbnNlKXsKCQkJCQkJCQkJLy8gCQkvLyBzZXJ2ZXIgcmVjZWl2ZSByZXNwb25zZSwgcXVlcnkgZGF0YWJhc2UgYW5kIHJlcGx5IHdpdGggcmVzcG9uc2UsIHNldHMgcmVzcG9uc2UgdG8gbG9jYWxTdG9yYWdlIAoJCQkJCQkJCQkvLyAJCXZhciB0b2tlbiA9IHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdhY2Nlc3NUb2tlbicpOy8qcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtYXV0aC10b2tlbicpOyovCgkJCQkJCQkJCS8vIAkJaWYgKHRva2VuKSB7CgkJCQkJCQkJCS8vIAkJCVV0aWxzLndyaXRlSXRlbVRvTG9jYWxTdG9yYWdlKCdjX3VzZXInLCAvKnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd1c2VySWQnKSovcmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ3VzZXJJZCcpKTsKCQkJCQkJCQkJLy8gCQkJVXRpbHMud3JpdGVJdGVtVG9Mb2NhbFN0b3JhZ2UoJ2Rpc3BsYXlfbmFtZScsIC8qcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3VzZXJOYW1lJykqL3Jlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCd1c2VyTmFtZScpKTsKCQkJCQkJCQkJLy8gCQkJVXRpbHMud3JpdGVJdGVtVG9Mb2NhbFN0b3JhZ2UoJ2FjY2Vzc190b2tlbicsIHRva2VuKTsKCQkJCQkJCQkJLy8gCQl9CgkJCQkJCQkJCS8vIAkJLy8gcmVzb2x2ZShyZXNwb25zZSk7CgkJCQkJCQkJCS8vIAkJbG9jYXRpb24uaHJlZiA9IEFwaS5nZXRCYXNlVXJsKCk7CgkJCQkJCQkJCS8vIAl9KS5jYXRjaChmdW5jdGlvbigpewoJCQkJCQkJCQkvLyAJCXJlamVjdCh7IHN1Y2Nlc3M6IGZhbHNlLCByZWFzb246ICJjYW5jZWwiIH0pOwoJCQkJCQkJCQkvLyAJfSk7CgkJCQkJCQkJCX0KCQkJCQkJCQkJcmVqZWN0KHsgc3VjY2VzczogZmFsc2UsIHJlYXNvbjogImZhY2Vib29rUGVybWlzc2lvbkNvZGVzLm5vRW1haWxQZXJtaXNzaW9uIiB9KTsKCQkJCQkJCQl9KTsKCQkJCQkJCX0KCQkJCQkJfSkKCQkJCQl9IGVsc2UgewoJCQkJCQlyZWplY3QoeyBzdWNjZXNzOiBmYWxzZSwgcmVhc29uOiAiY2FuY2VsIiB9KTsKCQkJCQl9CgkJCQl9KTsKCQkJfSk7CgkJfSwKCQlsb2dvdXQ6IGZ1bmN0aW9uIGUoKSB7CgkJCUFwaS5jaGVja0xvZ2luU3RhdGUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKCQkJCWlmIChyZXNwb25zZS5zdGF0dXMgPT09IGZhY2Vib29rU3RhdHVzQ29kZXMuY29ubmVjdGVkKSB7CgkJCQkJRkIubG9nb3V0KGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCWxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKCQkJCQkJJC5wb3N0KEFwaS5nZXRBcGlVcmwoKSArICcvYXV0aC9mYWNlYm9vay9sb2dvdXQnKQoJCQkJCX0pOwoJCQkJfQoJCQl9KTsKCQl9LAoJCV9zZXRVc2VyRGF0YTogZnVuY3Rpb24gZShzdG9yZSwgb2JqKSB7CgkJCVV0aWxzLmxvZyhKU09OLnN0cmluZ2lmeShvYmopKTsKCQkJdHJ5IHsKCQkJCXJldHVybiBVdGlscy53cml0ZUl0ZW1Ub0xvY2FsU3RvcmFnZShzdG9yZSwgb2JqKQoJCQl9IGNhdGNoIChlKSB7CgkJCQlyZXR1cm4gbmV3IEVycm9yKGUpOwoJCQl9CgkJfSwKCQlfZ2V0VXNlckRhdGE6IGZ1bmN0aW9uIGUoa2V5KSB7CgkJCXJldHVybiBVdGlscy5yZWFkSXRlbUZyb21Mb2NhbFN0b3JhZ2Uoa2V5KTsKCQkJCS8vICQuZ2V0KEFwaS5nZXRBcGlVcmwoKSArICcvYXV0aC9tZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQkvLyAgIHJlc29sdmUocmVzcG9uc2UpOwoJCQkJLy8gfSk7CgkJfSwKCQlfZ2V0VXNlcklEOiBmdW5jdGlvbiBlKCkgewoJCQlyZXR1cm4gVXRpbHMucmVhZEl0ZW1Gcm9tTG9jYWxTdG9yYWdlKCJjX3VzZXIiKSB8fCAoQXBpLl9zZXRVc2VyRGF0YSgiY191c2VyIiwgRkIuZ2V0VXNlcklEKCkpKTsKCQl9LAoJCWdldEN1cnJlbnRVc2VyOiBmdW5jdGlvbiBlKCkgewoJCQlyZXR1cm4gQXBpLl9nZXRVc2VySUQoKTsKCQl9LAoJCWdldEN1cnJlbnRVc2VyRnJvbUNvb2tpZXM6IGZ1bmN0aW9uIGUoYSkgewoJCQljaHJvbWUuY29va2llcy5nZXQoewoJCQkJdXJsOiAnaHR0cHM6Ly9mYWNlYm9vay5jb20nLAoJCQkJbmFtZTogJ2NfdXNlcicKCQkJfSwgZnVuY3Rpb24gKGIpIHsKCQkJCW51bGwgPT0gYiA/IChBcHAudXNlcklkID0gMCwgY2xlYXJJbnRlcnZhbCgpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQl0aGlzLkFwaS5nZXRDdXJyZW50VXNlcihhKQoJCQkJfSwgNjAwMCkpIDogYShiLnZhbHVlKQoJCQl9KTsKCQl9LAoJCXVzZXJEZXRhaWxzRnJvbUZiOiBmdW5jdGlvbiBlKCkgewoJCQlVdGlscy5sb2coJ1dlbGNvbWUhIEZldGNoaW5nIHlvdXIgaW5mb3JtYXRpb24uLi4uICcpOwoJCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKCQkJCUZCLmFwaSgiL21lP2ZpZWxkcz1pZCxmaXJzdF9uYW1lLHBpY3R1cmV7dXJsfSxlbWFpbCxiaXJ0aGRheSxnZW5kZXIsYWdlX3JhbmdlLGZyaWVuZHN7aWQsZmlyc3RfbmFtZSxiaXJ0aGRheSxhZ2VfcmFuZ2UsZ2VuZGVyfSIsIAoJCQkJZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpCgkJCQkJY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWwgbG9naW4gZm9yOiAnICsgcmVzcG9uc2UuZmlyc3RfbmFtZSArICIgPSAiICsgcmVzcG9uc2UuaWQgKyAiLiIpOwoJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMnKS5pbm5lckhUTUwgPSAnVGhhbmtzIGZvciBsb2dnaW5nIGluLCAnICsgcmVzcG9uc2UubmFtZSArICchJzsJCQkKCQkJCQkvLyBhbGVydChyZXNwb25zZS5uYW1lKTsKCQkJCQkvL2FsZXJ0KHJlc3BvbnNlLmlkKTsKCQkJCQlyZXNvbHZlKHJlc3BvbnNlKTsKCQkJCQkvLyAiYmxhY2tob2xlLTEwMDAwNDE3NzI3ODE2OS0xNDYwNDcyNTE3QGRldm51bGwuZmFjZWJvb2suY29tIi5zcGxpdCgnLScpWzFdCgkJCQkJLy8gImJsYWNraG9sZS0xMDAwMDQxNzcyNzgxNjktMTQ2MDQ3MjUxN0BkZXZudWxsLmZhY2Vib29rLmNvbSIuc2xpY2UoMTAsIDI1KQoJCQkJCS8vIExvZy5pbmZvKCdBUEkgcmVzcG9uc2UnLCByZXNwb25zZSk7CgkJCQkJLy8gTG9nLmluZm8oJ0ZCLmxvZ2luIHJlc3BvbnNlJywgcmVzcG9uc2UpOwoJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50SW5mbycpLmlubmVySFRNTCA9ICgnPGltZyBzcmM9IicgKyByZXNwb25zZS5waWN0dXJlLmRhdGEudXJsICsgJyI+ICcgKyByZXNwb25zZS5uYW1lKTsKCQkJCX0pOwoJCQl9KTsKCQl9LAoJCWlzTG9nZ2VkSW5BbmRJc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGUoKSB7CgkJCS8vIFRPRE86IEZpeCBzeW5jaHJvbm91cyBBSkFYIHJlcXVlc3QsIHVzZSBhc3luYyBtZXRob2QgaW5zdGVhZAoJCQlyZXR1cm4gQXBpLmdldEN1cnJlbnRVc2VyKCkgIT0gdW5kZWZpbmVkID8gITAgOiAwOwoJCQkvKnZhciBsb2dnZWRJbiA9IGZhbHNlOwoJCQlyZXR1cm4gJC5hamF4KHsKCQkJCXVybDogQXBpLmdldEFwaVVybCgpICsgJy9hdXRoL21lJywKCQkJCWdsb2JhbDogZmFsc2UsCgkJCQl0eXBlOiAnUE9TVCcsCgkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJc3VjY2VzczogZnVuY3Rpb24gKGpzb25fZGF0YSkgewoJCQkJCWxvZ2dlZEluID0ganNvbl9kYXRhLmRhdGEubG9nZ2VkX2luOwoJCQkJfSwKCQkJCWZhaWw6IGZ1bmN0aW9uIGUoZGF0YSkgewoJCQkJCWxvZ2dlZEluID0gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCQlpZiAoIUFwaS5pc0xvZ2dlZEluKCkpIHsKCQkJCQkJJC5hamF4KHsKCQkJCQkJCXVybDogQXBpLmdldEFwaVVybCgpICsgJy9hdXRoL2xvZ2luJywKCQkJCQkJCXR5cGU6ICdwb3N0JywKCQkJCQkJCWRhdGFUeXBlOiAnanNvbicsCgkJCQkJCQlkYXRhOiB7CgkJCQkJCQl9CgkJCQkJCX0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHsKCQkJCQkJfSkuZmFpbChmdW5jdGlvbiAoZGF0YSkgewoJCQkJCQl9KQoJCQkJCX0qLwoJCX0sCgkJcG9zdFN0b3J5T25GYWNlYm9vazogZnVuY3Rpb24gZShtZXNzYWdlLCBmYWNlYm9va2lkKSB7CgkJCXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkJCQlGQi5hcGkoJy9tZS9mZWVkJywgJ3Bvc3QnLCB7CgkJCQkJbWVzc2FnZTogJ0hlbGxvLCB3b3JsZCEnIC8vbWVzc2FnZQoJCQkJfSk7CgkJCX0pOwoJCX0sCgkJcG9zdFBob3Rvc09uRmFjZWJvb2s6IGZ1bmN0aW9uKGNhcHRpb24sIGltYWdldXJsLCBmYWNlYm9va2lkKSB7CgkJCXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKCQkJCUZCLmFwaSgiL21lL3Bob3RvcyIsICJwb3N0IiwgewoJCQkJCWNhcHRpb246IGNhcHRpb24sCgkJCQkJdXJsOiBpbWFnZXVybAoJCQkJfSk7CgkJCX0pOwoJCX0sCgkJcG9zdFZpZGVvT25GYWNlYm9vazogZnVuY3Rpb24oY2FwdGlvbiwgdmlkZW91cmwsIGZhY2Vib29raWQpIHsKCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewoJCQkJRkIuYXBpKCIvbWUvdmlkZW9zIiAvKiR7aWR9L3ZpZGVvcyovLCAicG9zdCIsIHsKCQkJCQlkZXNjcmlwdGlvbjogJ0NhcHRpb24gZ29lcyBoZXJlJywKCQkJCQlmaWxlX3VybDogJ1ZpZGVvIHVybCBnb2VzIGhlcmUnCgkJCQl9KTsgCgkJCX0pOwoJCX0sCgkJc2hhcmVPbkZhY2Vib29rOiBmdW5jdGlvbiBlKGUpIHsKCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCQkJCUZCLnVpKHsKCQkJCQltZXRob2Q6ICdzaGFyZScsIAoJCQkJCWFjdGlvbl90eXBlOiAnb2cubGlrZXMnLCAKCQkJCQlhY3Rpb25zX3Byb3BlcnRpZXM6IEpTT04uc3RyaW5naWZ5KHsKCQkJCQkJb2JqZWN0OiAnaHR0cHM6Ly9zdHVja3dhbnlhaC5oZXJva3VhcHAuY29tLycKCQkJCQl9KQoJCQkJfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZSk7IAoJCQkJfSkuY2F0Y2ggKGZ1bmN0aW9uIChlcnIpIHsKCQkJCQljb25zb2xlLmVycm9yKGVycik7CgkJCQkJcmVqZWN0KHRydWUpOwoJCQkJfSk7CgkJCX0pOwoJCX0sCgkJc2hvd015TmFtZTogZnVuY3Rpb24oKSB7CgkJCXJldHVybiBVdGlscy5yZWFkSXRlbUZyb21Mb2NhbFN0b3JhZ2UoImRpc3BsYXlfbmFtZSIpOwoJCX0sCgkJYWRkdGFiOiBmdW5jdGlvbiBlKCkgewoJCQlGQi51aSh7CgkJCQltZXRob2Q6ICdwYWdldGFiJywKCQkJCXJlZGlyZWN0X3VyaTogJ2h0dHBzOi8vc3R1Y2t3YW55YWguaGVyb2t1YXBwLmNvbS8nCgkJCX0sIGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQl9KTsKCQl9LAoJCXNob3dGYkxvZ2luQnV0dG9uOiBmdW5jdGlvbiBlKCkgewoJCQlpZiAoQXBpLmlzTG9nZ2VkSW5BbmRJc0F1dGhlbnRpY2F0ZWQoKSkgewoJCQkJJCgnPGRpdiBpZD0iI2xvZ291dGJ1dHRvbiI+PC9kaXY+Jyk7CgkJCX0gZWxzZSB7CgkJCQkkKCc8ZGl2IGlkPSIjbG9naW5idXR0b24iPjwvZGl2PicpOwoJCQl9CgkJfSwKCQlnZXRBcHBzRnJvbUhvc3Q6IGZ1bmN0aW9uKHNlcnZlclVybCwgaG9zdG5hbWUsIGRhdGEpIHsKCQkJdHJ5IHsKCQkJCXZhciB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgoJCQkJeG1saHR0cC5vcGVuKCdQT1NUJywgc2VydmVyVXJsLCB0cnVlKTsKCgkJCQl4bWxodHRwLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTsKCgkJCQl4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoeG1saHR0cC5yZWFkeVN0YXRlID09IDQpIHsKCQkJCQkJaWYgKHhtbGh0dHAuc3RhdHVzID09IDIwMCkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQl2YXIgcmVzID0gSlNPTi5wYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCkgfHwge307CgkJCQkJCQkJY29uc29sZS5sb2cocmVzKTsKCQkJCQkJCQlpZiAodHlwZW9mIHJlcy5hcHBzICE9ICJ1bmRlZmluZWQiKSB7CgkJCQkJCQkJCXZhciByZXNwb25zZSA9IHsKCQkJCQkJCQkJCSJyZXNwb25zZSI6IEpTT04ucGFyc2UocmVzLmFwcHMpIHx8IHt9LAoJCQkJCQkJCQkJaG9zdG5hbWU6IGhvc3RuYW1lCgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIGRhdGEgPSB7CgkJCQkJCQkJCQl0YWJUZWNoczogcmVzcG9uc2UKCQkJCQkJCQkJfQoJCQkJCQkJCQlzZWxmLnByb2Nlc3NSZXNwb25zZShkYXRhKTsKCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQlzZWxmLmdldFNpdGVEYXRhKCk7CgkJCQkJCQkJfQoJCQkJCQkJfSBjYXRjaCAoZSkgewoJCQkJCQkJCWNvbnNvbGUubG9nKGUpOwoJCQkJCQkJCXNlbGYuc2hvd0NvbnRlbnQoKTsKCQkJCQkJCX0KCQkJCQkJfSBlbHNlIHsKCQkJCQkJCS8vIE5lZWQgdG8gc2F5IHNlcnZlciBpc3N1ZQoJCQkJCQkJc2VsZi5zaG93U2VydmVyRXJyb3JNZXNzYWdlKGhvc3RuYW1lKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX07CgkJCQl4bWxodHRwLnNlbmQoJ2RhdGE9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShkYXRhKSkpOwoJCQl9IGNhdGNoIChlKSB7CgkJCQlzZWxmLnNob3dDb250ZW50KCk7CgkJCX0KCQl9Cgl9Owp9KCkKLCBVdGlscyA9IGZ1bmN0aW9uICgpIHsKCXZhciBfdXNlckRhdGEgPSB0eXBlb2YgbG9jYWxTdG9yYWdlWyd1c2VyRGF0YSddID09ICd1bmRlZmluZWQnID8ge30gOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVsndXNlckRhdGEnXSk7CglyZXR1cm4gewoJCXJlYWRJdGVtRnJvbUxvY2FsU3RvcmFnZTogZnVuY3Rpb24gZShrZXkpIHsKCQkJaWYgKGxvY2FsU3RvcmFnZVtrZXldICE9PSB1bmRlZmluZWQpIHsKCQkJCXJldHVybiBsb2NhbFN0b3JhZ2Vba2V5XTsKCQkJfQoJCX0sCgkJd3JpdGVJdGVtVG9Mb2NhbFN0b3JhZ2U6IGZ1bmN0aW9uIGUoa2V5LCB2YWx1ZSkgewoJCQl2YXIgZGF0YUtleSA9IGtleSwKCQkJZGF0YVZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpOwoJCQl0cnkgewoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oZGF0YUtleSwgZGF0YVZhbHVlKTsKCQkJfSBjYXRjaCAoZSkgewoJCQl9CgkJfSwKCQlhZGQ6IGZ1bmN0aW9uKHQsIGUpIHsKCQkJdmFyIGksIG4gPSBsb2NhbFN0b3JhZ2Uuc2V0dGluZywgbyA9IHt9OwoJCQl0cnkgewoJCQkJbiA/IChvID0gSlNPTi5wYXJzZShuKSwKCQkJCSJ1bmRlZmluZWQiICE9IHR5cGVvZiBvW3RdID8gImJvb2xlYW4iID09IHR5cGVvZiBvW3RdIHx8ICJzdHJpbmciID09IHR5cGVvZiBvW3RdIDogKG9bdF0gPSBlLAoJCQkJaSA9IEpTT04uc3RyaW5naWZ5KG8pLAoJCQkJbG9jYWxTdG9yYWdlLnNldHRpbmcgPSBpKSkgOiAobyA9IHt9LAoJCQkJb1t0XSA9IGUsCgkJCQlpID0gSlNPTi5zdHJpbmdpZnkobyksCgkJCQlsb2NhbFN0b3JhZ2Uuc2V0dGluZyA9IGkpCgkJCX0gY2F0Y2ggKGEpIHsKCQkJCWNvbnNvbGUubG9nKGEpCgkJCX0KCQl9LAoJCWdldDogZnVuY3Rpb24odCkgewoJCQl2YXIgZSA9IGxvY2FsU3RvcmFnZS5zZXR0aW5nCgkJCQksIGkgPSB7fTsKCQkJdHJ5IHsKCQkJCXJldHVybiBpID0gSlNPTi5wYXJzZShlKSwKCQkJCWlbdF0KCQkJfSBjYXRjaCAobikge30KCQl9LAoJCXNldDogZnVuY3Rpb24odCwgZSkgewoJCQl2YXIgaSA9IGxvY2FsU3RvcmFnZS5zZXR0aW5nCgkJCQksIG4gPSB7fTsKCQkJdHJ5IHsKCQkJCW4gPSBKU09OLnBhcnNlKGkpLAoJCQkJblt0XSA9IGUsCgkJCQlsb2NhbFN0b3JhZ2Uuc2V0dGluZyA9IEpTT04uc3RyaW5naWZ5KG4pLAoJCQkJIm1vc3RWaXNpdHMiICE9IHQgJiYgIndwVGltZSIgIT0gdCAmJiAiY2xvdWRCYWNrdXAiICE9IHQgJiYgIndjaXR5IiAhPSB0ICYmICJ3Y291bnRyeSIgIT0gdCAmJiAibGFzdFdhbGxwYXBlciIgIT0gdCAmJiAiYmdUeXBlIiAhPSB0ICYmICJiZ25hbWUiICE9IHQgJiYgJHNldHRpbmcuc3luYygpCgkJCX0gY2F0Y2ggKG8pIHt9CgkJfSwKCQlvbkNoYW5nZTogZnVuY3Rpb24oKSB7CgkJCSQoImlucHV0W3R5cGU9cmFkaW9dIikubGl2ZSgiY2hhbmdlIiwgZnVuY3Rpb24odCkgewoJCQkJdmFyIGUgPSAkKHRoaXMpLmF0dHIoIm5hbWUiKQoJCQkJCSwgaSA9ICQodGhpcykudmFsKCk7CgkJCQkkc2V0dGluZy5zZXQoZSwgaSksCgkJCQkiQXV0b0JnVHlwZSIgPT09IGUgJiYgc2V0QXV0b0JnKCksCgkJCQkiZGlzcGxheVRvcFR5cGUiID09PSBlICYmIEhvd1RwU2hvd1RvcCgpCgkJCX0pLAoJCQkkKCJpbnB1dC5jaGVja0JveFRvZ2dsZSIpLmxpdmUoImNoYW5nZSIsIGZ1bmN0aW9uKHQpIHsKCQkJCXZhciBlID0gJCh0aGlzKS5hdHRyKCJuYW1lIikKCQkJCQksIGkgPSAkKHRoaXMpLmlzKCI6Y2hlY2tlZCIpOwoJCQkJaWYgKCRzZXR0aW5nLnNldChlLCBpKSwKCQkJCSJibHVyV2FsbHBhcGVyIiA9PT0gZSkKCQkJCQl0cnkgewoJCQkJCQl3YWxscGFwZXJUb2JsdXIoKQoJCQkJCX0gY2F0Y2ggKG4pIHsKCQkJCQkJY29uc29sZS5sb2cobikKCQkJCQl9CgkJCQkiYXV0b1dhbGxwYXBlciIgPT09IGUgJiYgc2V0QXV0b0JnKCksCgkJCQkiZGlzcGxheUF0VG9wIiA9PT0gZSAmJiBIb3dUcFNob3dUb3AoKQoJCQl9KQoJCX0sCgkJb25SYW5nZUNoYW5nZTogZnVuY3Rpb24oKSB7CgkJCSQoImlucHV0W3R5cGU9cmFuZ2VdIikubGl2ZSgiaW5wdXQiLCBmdW5jdGlvbih0KSB7CgkJCQl0LnByZXZlbnREZWZhdWx0KCk7CgkJCQl2YXIgZSwgaSA9ICQodGhpcykuYXR0cigibmFtZSIpLCBuID0gJCh0aGlzKS52YWwoKTsKCQkJCSQoIiMiICsgaSArICJWYWx1ZSIpLnRleHQobiksCgkJCQkiaWNvblJhZGl1cyIgPT0gJCh0aGlzKVswXS5pZCA/IChlID0gTWF0aC5yb3VuZChuIC8gMikgKyAiJSIsCgkJCQkkKCIuaWNvbkluSW4sLmljb24sLmVkaXRpY28sLndlYkljb25JbWcsI2ljb25QcmV2aWV3VG9wLCNFZGl0aWNvblByZXZpZXdUb3AiKS5jc3MoImJvcmRlci1yYWRpdXMiLCBlKSkgOiAiaWNvbk9wYWNpdHkiID09ICQodGhpcylbMF0uaWQgJiYgJCgiLmljb24iKS5jc3MoIm9wYWNpdHkiLCBuIC8gMTAwKQoJCQl9KSwKCQkJJCgiaW5wdXRbdHlwZT1yYW5nZV0iKS5saXZlKCJjaGFuZ2UiLCBmdW5jdGlvbih0KSB7CgkJCQl0LnByZXZlbnREZWZhdWx0KCk7CgkJCQl2YXIgZSA9ICQodGhpcykuYXR0cigibmFtZSIpCgkJCQkJLCBpID0gJCh0aGlzKS52YWwoKTsKCQkJCSRzZXR0aW5nLnNldChlLCBpKQoJCQl9KQoJCX0sCgkJc3luYzogZnVuY3Rpb24odCkgewoJCQlTaG93X05vdGlfTnVtICYmIHNldEFsbE5vdGlOdW0oKTsKCQkJdmFyIGUgPSAkc2V0dGluZy5nZXQoImNsb3VkQmFja3VwIik7CgkJCWUgJiYgc3luY1RvQ2xvdWQoKSwKCQkJY29uc29sZS5sb2coIuiuvue9ruaVsOaNruW3suWQjOatpSIpCgkJfSwKCQlnZXRTZXR0aW5nOiBmdW5jdGlvbihuYW1lLCBudWxsVmFsdWUpIHsKCQkJaWYgKHR5cGVvZiBfdXNlckRhdGFbbmFtZV0gPT0gJ3VuZGVmaW5lZCcpIHsKCQkJCV91c2VyRGF0YVtuYW1lXSA9IG51bGxWYWx1ZTsKCQkJfQoJCQlyZXR1cm4gX3VzZXJEYXRhW25hbWVdOwoJCX0sCgkJc2V0U2V0dGluZzogZnVuY3Rpb24obmFtZSwgdmFsKSB7CgkJCV91c2VyRGF0YVtuYW1lXSA9IHZhbDsKCQkJbG9jYWxTdG9yYWdlWyd1c2VyRGF0YSddID0gSlNPTi5zdHJpbmdpZnkoX3VzZXJEYXRhKTsKCQl9LAoJCXNldHRpbmdzOiB7CgkJCXNldCBlbWFpbCh2YWwpIHsKCQkJCVV0aWxzLnNldFNldHRpbmcoJ2VtYWlsJywgdmFsKTsKCQkJfSwKCQkJZ2V0IGVtYWlsKCkgewoJCQkJcmV0dXJuIFV0aWxzLmdldFNldHRpbmcoJ2VtYWlsJywgbnVsbCk7CgkJCX0sCgkJCXNldCB1c2VyTmFtZSh2YWwpIHsKCQkJCXJldHVybiBVdGlscy5zZXRTZXR0aW5nKCduYW1lJywgdmFsKTsKCQkJfSwKCQkJZ2V0IHVzZXJOYW1lKCkgewoJCQkJcmV0dXJuIFV0aWxzLmdldFNldHRpbmcoJ25hbWUnLCBudWxsKTsKCQkJfQoJCX0sCgkJY29va2llOiBmdW5jdGlvbihjbmFtZSkgewoJCQl2YXIgYywgY2EsIGksIG5hbWU7CgkJCW5hbWUgPSBjbmFtZSArICc9JzsKCQkJY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTsKCQkJaSA9IDA7CgkJCXdoaWxlIChpIDwgY2EubGVuZ3RoKSB7CgkJCQljID0gY2FbaV07CgkJCQl3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykgewoJCQkJCWMgPSBjLnN1YnN0cmluZygxKTsKCQkJCX0KCQkJCWlmIChjLmluZGV4T2YobmFtZSkgPT09IDApIHsKCQkJCQlyZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTsKCQkJCX0KCQkJCWkrKzsKCQkJfQoJCQlyZXR1cm4gJyc7CgkJfSwKCQlzZXRDb29raWU6IGZ1bmN0aW9uIChlLCB0LCBpKSB7IAoJCQl2YXIgbyA9ICIiOyAKCQkJaWYgKGkpIHsgCgkJCQl2YXIgbiA9IG5ldyBEYXRlOyAKCQkJCW4uc2V0VGltZShuLmdldFRpbWUoKSArIDI0ICogaSAqIDYwICogNjAgKiAxZTMpLCBvID0gIjsgZXhwaXJlcz0iICsgbi50b1VUQ1N0cmluZygpOwoJCQl9IAoJCQlkb2N1bWVudC5jb29raWUgPSBlICsgIj0iICsgKHQgfHwgIiIpICsgbyArICI7IHBhdGg9LyI7CgkJfSwKCQljbGVhckNvb2tpZTogZnVuY3Rpb24gKGUpIHsgCgkJCWRvY3VtZW50LmNvb2tpZSA9IGUgKyAiPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDsiCgkJfSwKCQlsb2c6IGZ1bmN0aW9uIGUoKSB7CgkJCWFyZ3MgPSBbXTsKCQkJYXJncy5wdXNoKCdbU3R1Y2tXYW5ZYWhdOiAnKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKCQkJCWFyZ3MucHVzaChhcmd1bWVudHNbaV0pOwoJCQl9CgkJCWNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpOwoJCX0sCgkJcmFuZG9taXplUGhvdG9zOiBmdW5jdGlvbihhcnJheSkgewoJCQkvKiByb3VuZCB0aGUgcHJvZHVjdCBvZiByYW5kb20gbnVtYmVyIGFuZCBwaG90b3MgbGVuZ3RoIGFuZCBhZGQgMSAqLwoJCQl2YXIgcmFuZCA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpICsgMSk7CgkJCS8qIGNoZWNrIGlmIHJhbmQgaXMgbm90IGV4Y2VlZGluZyBwaG90byBsZW5ndGhzIGFuZCBiZWxvdyAwICovCgkJCWlmIChyYW5kIDwgMCkgewoJCQkJaWYgKHJhbmQgPj0gYXJyYXkubGVuZ3RoKSB7CgkJCQkJcmV0dXJuIChyYW5kIC8gMik7CgkJCQl9CgkJCQlyYW5kb21faXRlbSgpOwoJCQl9CgkJCXJldHVybiByYW5kOwoJCX0sCgkJcmFuZG9tOiBmdW5jdGlvbiBlKGEsIGIpIHsKCQkJcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChiIC0gYSkgKyBhKQoJCX0sCgkJX3JhbmRvbTogZnVuY3Rpb24gZShhKSB7CgkJCXJldHVybiBhW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGEubGVuZ3RoICsgMSldOwoJCQkvL3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhICsgMSk7CgkJfSwKCQlfc2xpY2U6IGZ1bmN0aW9uIGUoYikgewoJCQlyZXR1cm4gYi50b1N0cmluZygpLnNsaWNlKDEsIC0gNSk7CgkJfSwKCQlfdHJpbTogZnVuY3Rpb24gZShzKSB7CgkJCWlmICghcyB8fCBzID09ICcnKSByZXR1cm4gJyc7CgkJCXdoaWxlICgocy5jaGFyQXQoMCkgPT0gJyAnKSB8fCAocy5jaGFyQXQoMCkgPT0gJ1xuJykgfHwgKHMuY2hhckF0KDAsIDEpID09ICdccicpKSBzID0gcy5zdWJzdHJpbmcoMSwgcy5sZW5ndGgpOwoJCQl3aGlsZSAoKHMuY2hhckF0KHMubGVuZ3RoIC0gMSkgPT0gJyAnKSB8fCAKCQkJCQkgKHMuY2hhckF0KHMubGVuZ3RoIC0gMSkgPT0gJ1xuJykgfHwgCgkJCQkJIChzLmNoYXJBdChzLmxlbmd0aCAtIDEpID09ICdccicpKSBzID0gcy5zdWJzdHJpbmcoMCwgcy5sZW5ndGggLSAxKTsKCQkJcmV0dXJuIHM7CgkJfSwKCQlfc2VhcmNoOiBmdW5jdGlvbiBlKHN0cmluZywgcXVlcnkpIHsKCQkJcmV0dXJuIHN0cmluZy5zZWFyY2goLy5odG1sL2dpKTsKCQl9LAoJCV9pc01hdGNoOiBmdW5jdGlvbiBlKHN0cmluZywgcXVlcnkpIHsKCQkJdmFyIHJlZ3gxID0gL3N0cjEvZ2k7CgkJCXZhciByZWd4MiA9IC9zdHIyL2dpOwoJCQlpZiAoc3RyaW5nLm1hdGNoKHJlZ3gyKSkgewoJCQkJcmV0dXJuICEwOwoJCQl9CgkJfSwKCQlfY2xlYW46IGZ1bmN0aW9uIGUoc3RyaW5nKSB7CgkJCXJldHVybiBzdHJpbmcudHJpbSgpLnJlcGxhY2UoL1xzKy9nLCAnICcpOyAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlcyBhbmQgbXVsdGlwbGUgd2hpdGVzcGFjZXMKCQl9LAoJCV9mYW5jeTogZnVuY3Rpb24gZShzdHJpbmcpIHsKCQkJcmV0dXJuIFV0aWxzLl9jbGVhbihzdHJpbmcpLnJlcGxhY2UoL1xcL2csICcnKTsKCQl9LAoJCXVwZGF0ZUtleVN0cm9rZUNvdW50OiBmdW5jdGlvbiBlKCkgewoJCQlrZXlTdHJva2VDb3VudCA9IGtleVN0cm9rZUNvdW50ICsgMQoJCX0sCgkJaXNWYWxpZFBob3RvOiBmdW5jdGlvbiBlKGZpbGVuYW1lKSB7CgkJCXZhciBleHRlbnNpb24gPSBmaWxlbmFtZS5yZXBsYWNlKC9eLipcLi8sICcnKTsgLy8gUmVwbGFjZSB1bnRpbCB3ZSdyZSBsZWZ0IHdpdGggdGhlIGZpbGUgZXh0ZW5zaW9uCgkJCWlmIChmaWxlbmFtZSA9PSBleHRlbnNpb24pIHsKCQkJCWV4dGVuc2lvbiA9ICcnOyAvLyBGaWxlIGhhcyBubyBleHRlbnNpb24sIHNvIGl0J3MgYmxhbmsKCQkJfSBlbHNlIHsKCQkJCWV4dGVuc2lvbiA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpOwoJCQl9CgkJCXN3aXRjaCAoZXh0ZW5zaW9uKSB7CgkJCQljYXNlICdnaWYnOgoJCQkJY2FzZSAnanBnJzoKCQkJCWNhc2UgJ3BuZyc6CgkJCQkJcmV0dXJuIHRydWU7CgkJCQlkZWZhdWx0OgoJCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0sCgkJdmFsaWRhdGVGb3JtOiBmdW5jdGlvbiBlKCkgewoJCQl2YXIgbSA9ICQoJ3RleHRhcmVhJykuZXEoMCk7CgkJCXR5cGVvZiBtLnZhbCgpID8gbS52YWwoKSAgOiBudWxsOwoJCQlpZiAobS52YWwoKSA9PSBudWxsKSB7CgkJCQkkKCcucmVzdWx0cycpLmh0bWwoJ0Nhbm5vdCBzZW5kIGVtcHR5IHZhbHVlcycpOwoJCQkJbS5mb2N1cygpOwoJCQkJcmV0dXJuICEwOwoJCQl9CgkJCXJldHVybiAwOwoJCX0sCgkJc3VibWl0Rm9ybTogZnVuY3Rpb24gZShlKSB7CgkJCXZhciBkYXRhMiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5zZXJpYWxpemVBcnJheSgpOwoJCQl2YXIgZGF0YSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5zZXJpYWxpemUoKTsKCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCQkJCSQuYWpheCh7CgkJCQkJYXN5bmM6IHRydWUsCgkJCQkJbWV0aG9kOiAnUE9TVCcsCgkJCQkJY3Jvc3NEb21haW46IHRydWUsCgkJCQkJdXJsOiAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjIuMTIvIiArIEFwaS5nZXRGYWNlYm9va0FwcElkKCkgKyAiL21lc3NhZ2VzIiwgLy91cmw6ICQoZS50YXJnZXQpLmF0dHIoImFjdGlvbiIpICsgQXBpLmdldEN1cnJlbnRVc2VyKCkgKyAiL21lc3NhZ2VzIiwKCQkJCQlnbG9iYWw6IGZhbHNlLAoJCQkJCWRhdGE6IHsKCQkJCQkJImFjY2Vzc190b2tlbiI6IEFwaS5nZXRBY2Nlc3NUb2tlbigpLAoJCQkJCQkicmVjaXBpZW50IjogewoJCQkJCQkJImlkIjogQXBpLmdldEZhY2Vib29rQXBwSWQoKQoJCQkJCQl9LAoJCQkJCQkic2VuZGVyIjogQXBpLmdldEN1cnJlbnRVc2VyKCksCgkJCQkJCSJuYW1lIjogZGF0YTJbMF1bInZhbHVlIl0sCgkJCQkJCSJtZXNzYWdlIjogZGF0YTJbMV1bInZhbHVlIl0KCQkJCQl9LAoJCQkJCWpzb246IHsKCQkJCQkJInJlY2lwaWVudCI6IHsKCQkJCQkJCSJpZCI6IEFwaS5nZXRGYWNlYm9va0FwcElkKCkKCQkJCQkJfSwKCQkJCQkJInNlbmRlciI6IEFwaS5nZXRDdXJyZW50VXNlcigpLAoJCQkJCQkibWVzc2FnZSI6IGRhdGEyWzFdWyJ2YWx1ZSJdCgkJCQkJfSwKCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCWJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHsKCQkJCQkJVXRpbHMudmFsaWRhdGVGb3JtKCk7CgkJCQkJfSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbiAoanNvbl9kYXRhLCBzdGF0dXNUZXh0LCBqcUhYUikgewoJCQkJCQlpZiAoanFIWFIuc3RhdHVzID0gMjAwIHx8IHN0YXR1c1RleHQgPT0gInN1Y2Nlc3MiICYmIGpxSFhSLnJlYWR5U3RhdGUgPT0gNCApIHsKCQkJCQkJCS8vaWYgKHR5cGVvZiByZXNwb25zZS5hcGlfa2V5ICE9IHVuZGVmaW5lZCkgQXBpLnNldExvZ2luRGF0YShyZXNwb25zZSk7CgkJCQkJCQkkKCcucmVzdWx0cycpLmh0bWwoJ1NlbnQgc3VjY2Vzc2Z1bGx5Jyk7IAoJCQkJCQkJcmVzb2x2ZSh0cnVlKTsKCQkJCQkJCWNvbnNvbGUubG9nKGpzb25fZGF0YSkKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCSQoJy5yZXN1bHRzJykuaHRtbCgnRmFpbGVkIHRvIHN1Ym1pdCBmb3JtLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpOwoJCQkJCQkJcmVqZWN0KGZhbHNlKTsKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJCQkJY29uc29sZS5lcnJvcignRXJyb3IgaW4gQzJETTogJyArIGVycm9yVGhyb3duKTsKCQkJCQkJY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczogJyArIGVycm9yVGhyb3duLmVycm9yKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSk7CgkJCS8vJCgnLnJlc3VsdHMnKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUENFdExTQlVhR2x6SUhabGNuTnBiMjRnYjJZZ2RHaGxJSFJvY205aVltVnlJR2x6SUdkdmIyUWdabTl5SUhOcGVtVnpJR3hsYzNNZ2RHaGhiaUF5T0hneU9HUndMQW9nSUNBZ0lIZG9hV05vSUdadmJHeHZkeUIwYUdVZ2MzUnliMnRsSUhSb2FXTnJibVZ6Y3lCallXeGpkV3hoZEdsdmJqb2dNeUF0SUNneU9DQXRJR1JwWVcxbGRHVnlLU0F2SURFMklDMHRQZ284YzNabklIWmxjbk5wYjI0OUlqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJS0lDQWdJQ0IzYVdSMGFEMGlNVFp3ZUNJZ2FHVnBaMmgwUFNJeE5uQjRJaUIyYVdWM1FtOTRQU0l3SURBZ01UWWdNVFlpUGdvZ0lEd2hMUzBnTVRZOUlGSkJSRWxWVXlveUlDc2dVMVJTVDB0RlYwbEVWRWdnTFMwK0Nnb2dJRHgwYVhSc1pUNU5ZWFJsY21saGJDQmtaWE5wWjI0Z1kybHlZM1ZzWVhJZ1lXTjBhWFpwZEhrZ2MzQnBibTVsY2lCM2FYUm9JRU5UVXpNZ1lXNXBiV0YwYVc5dVBDOTBhWFJzWlQ0S0lDQThjM1I1YkdVZ2RIbHdaVDBpZEdWNGRDOWpjM01pUGdvZ0lDQWdJQ0F2S2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW92Q2lBZ0lDQWdJQzhxSUZOVVdVeEZVeUJHVDFJZ1ZFaEZJRk5RU1U1T1JWSWdLaThLSUNBZ0lDQWdMeW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FMd29LSUNBZ0lDQWdMeW9LSUNBZ0lDQWdJQ29nUTI5dWMzUmhiblJ6T2dvZ0lDQWdJQ0FnS2lBZ0lDQWdJRkpCUkVsVlV5QWdJQ0FnSUQwZ05pNDROelVLSUNBZ0lDQWdJQ29nSUNBZ0lDQlRWRkpQUzBWWFNVUlVTQ0E5SURJdU1qVUtJQ0FnSUNBZ0lDb2dJQ0FnSUNCQlVrTlRTVnBGSUNBZ0lDQTlJREkzTUNCa1pXZHlaV1Z6SUNoaGJXOTFiblFnYjJZZ1kybHlZMnhsSUhSb1pTQmhjbU1nZEdGclpYTWdkWEFwQ2lBZ0lDQWdJQ0FxSUNBZ0lDQWdRVkpEVkVsTlJTQWdJQ0FnUFNBeE16TXpiWE1nS0hScGJXVWdhWFFnZEdGclpYTWdkRzhnWlhod1lXNWtJR0Z1WkNCamIyNTBjbUZqZENCaGNtTXBDaUFnSUNBZ0lDQXFJQ0FnSUNBZ1FWSkRVMVJCVWxSU1QxUWdQU0F5TVRZZ1pHVm5jbVZsY3lBb2FHOTNJRzExWTJnZ2RHaGxJSE4wWVhKMElHeHZZMkYwYVc5dUlHOW1JSFJvWlNCaGNtTUtJQ0FnSUNBZ0lDb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhOb2IzVnNaQ0J5YjNSaGRHVWdaV0ZqYUNCMGFXMWxMQ0F5TVRZZ1oybDJaWE1nZFhNZ1lRb2dJQ0FnSUNBZ0tpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTlNCd2IybHVkR1ZrSUhOMFlYSWdjMmhoY0dVZ0tHbDBKM01nTXpZd0x6VWdLaUF5S1M0S0lDQWdJQ0FnSUNvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRVp2Y2lCaElEY2djRzlwYm5SbFpDQnpkR0Z5TENCM1pTQnRhV2RvZENCa2J3b2dJQ0FnSUNBZ0tpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTXpZd0x6Y2dLaUF6SUQwZ01UVTBMakk0TmlrS0lDQWdJQ0FnSUNvS0lDQWdJQ0FnSUNvZ0lDQWdJQ0JUU0ZKSlRrdGZWRWxOUlNBOUlEUXdNRzF6Q2lBZ0lDQWdJQ0FxTHdvS0lDQWdJQ0FnTG5Gd0xXTnBjbU4xYkdGeUxXeHZZV1JsY2lCN0NpQWdJQ0FnSUNBZ2QybGtkR2c2TVRad2VEc2dJQzhxSURJcVVrRkVTVlZUSUNzZ1UxUlNUMHRGVjBsRVZFZ2dLaThLSUNBZ0lDQWdJQ0JvWldsbmFIUTZNVFp3ZURzZ0x5b2dNaXBTUVVSSlZWTWdLeUJUVkZKUFMwVlhTVVJVU0NBcUx3b2dJQ0FnSUNCOUNpQWdJQ0FnSUM1eGNDMWphWEpqZFd4aGNpMXNiMkZrWlhJdGNHRjBhQ0I3Q2lBZ0lDQWdJQ0FnYzNSeWIydGxMV1JoYzJoaGNuSmhlVG9nTXpJdU5Ec2dJQzhxSURJcVVrRkVTVlZUS2xCSklDb2dRVkpEVTBsYVJTOHpOakFnS2k4S0lDQWdJQ0FnSUNCemRISnZhMlV0WkdGemFHOW1abk5sZERvZ016SXVORHNnTHlvZ01pcFNRVVJKVlZNcVVFa2dLaUJCVWtOVFNWcEZMek0yTUNBcUx3b2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBdktpQm9hV1JsY3lCMGFHbHVaM01nYVc1cGRHbGhiR3g1SUNvdkNpQWdJQ0FnSUgwS0NpQWdJQ0FnSUM4cUlGTldSeUJsYkdWdFpXNTBjeUJ6WldWdElIUnZJR2hoZG1VZ1lTQmthV1ptWlhKbGJuUWdaR1ZtWVhWc2RDQnZjbWxuYVc0Z0tpOEtJQ0FnSUNBZ0xuRndMV05wY21OMWJHRnlMV3h2WVdSbGNpd2dMbkZ3TFdOcGNtTjFiR0Z5TFd4dllXUmxjaUFxSUhzS0lDQWdJQ0FnSUNCMGNtRnVjMlp2Y20wdGIzSnBaMmx1T2lBMU1DVWdOVEFsT3dvZ0lDQWdJQ0I5Q2dvZ0lDQWdJQ0F2S2lCU2IzUmhkR2x1WnlCMGFHVWdkMmh2YkdVZ2RHaHBibWNnS2k4S0lDQWdJQ0FnUUd0bGVXWnlZVzFsY3lCeWIzUmhkR1VnZXdvZ0lDQWdJQ0FnSUdaeWIyMGdlM1J5WVc1elptOXliVG9nY205MFlYUmxLREJrWldjcE8zMEtJQ0FnSUNBZ0lDQjBieUI3ZEhKaGJuTm1iM0p0T2lCeWIzUmhkR1VvTXpZd1pHVm5LVHQ5Q2lBZ0lDQWdJSDBLSUNBZ0lDQWdMbkZ3TFdOcGNtTjFiR0Z5TFd4dllXUmxjaUI3Q2lBZ0lDQWdJQ0FnWVc1cGJXRjBhVzl1TFdSMWNtRjBhVzl1T2lBeE5UWTRMall6YlhNN0lDOHFJRE0yTUNBcUlFRlNRMVJKVFVVZ0x5QW9RVkpEVTFSQlVsUlNUMVFnS3lBb016WXdMVUZTUTFOSldrVXBLU0FxTHdvZ0lDQWdJQ0FnSUdGdWFXMWhkR2x2YmkxcGRHVnlZWFJwYjI0dFkyOTFiblE2SUdsdVptbHVhWFJsT3dvZ0lDQWdJQ0FnSUdGdWFXMWhkR2x2YmkxdVlXMWxPaUJ5YjNSaGRHVTdDaUFnSUNBZ0lDQWdZVzVwYldGMGFXOXVMWFJwYldsdVp5MW1kVzVqZEdsdmJqb2diR2x1WldGeU93b2dJQ0FnSUNCOUNnb2dJQ0FnSUNBdktpQkdhV3hzYVc1bklHRnVaQ0IxYm1acGJHeHBibWNnZEdobElHRnlZeUFxTHdvZ0lDQWdJQ0JBYTJWNVpuSmhiV1Z6SUdacGJHeDFibVpwYkd3Z2V3b2dJQ0FnSUNBZ0lHWnliMjBnZXdvZ0lDQWdJQ0FnSUNBZ2MzUnliMnRsTFdSaGMyaHZabVp6WlhRNklETXlMak1nTHlvZ01pcFNRVVJKVlZNcVVFa2dLaUJCVWtOVFNWcEZMek0yTUNBdElEQXVNU0FxTHdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHlvZ01DNHhJR0VnWW1sMElHOW1JR0VnYldGbmFXTWdZMjl1YzNSaGJuUWdhR1Z5WlNBcUx3b2dJQ0FnSUNBZ0lIMEtJQ0FnSUNBZ0lDQTFNQ1VnZXdvZ0lDQWdJQ0FnSUNBZ2MzUnliMnRsTFdSaGMyaHZabVp6WlhRNklEQTdDaUFnSUNBZ0lDQWdmUW9nSUNBZ0lDQWdJSFJ2SUhzS0lDQWdJQ0FnSUNBZ0lITjBjbTlyWlMxa1lYTm9iMlptYzJWME9pQXRNekV1T1NBdktpQXRLRElxVWtGRVNWVlRLbEJKSUNvZ1FWSkRVMGxhUlM4ek5qQWdMU0F3TGpVcElDb3ZDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdMeW9nTUM0MUlHRWdZbWwwSUc5bUlHRWdiV0ZuYVdNZ1kyOXVjM1JoYm5RZ2FHVnlaU0FxTHdvZ0lDQWdJQ0FnSUgwS0lDQWdJQ0FnZlFvZ0lDQWdJQ0JBYTJWNVpuSmhiV1Z6SUhKdmRDQjdDaUFnSUNBZ0lDQWdabkp2YlNCN0NpQWdJQ0FnSUNBZ0lDQjBjbUZ1YzJadmNtMDZJSEp2ZEdGMFpTZ3daR1ZuS1RzS0lDQWdJQ0FnSUNCOUNpQWdJQ0FnSUNBZ2RHOGdld29nSUNBZ0lDQWdJQ0FnZEhKaGJuTm1iM0p0T2lCeWIzUmhkR1VvTFRNMk1HUmxaeWs3Q2lBZ0lDQWdJQ0FnZlFvZ0lDQWdJQ0I5Q2lBZ0lDQWdJRUJyWlhsbWNtRnRaWE1nWTI5c2IzSnpJSHNLSUNBZ0lDQWdJQ0JtY205dElIc0tJQ0FnSUNBZ0lDQWdJSE4wY205clpUb2dJelF5T0RWbU5Ec0tJQ0FnSUNBZ0lDQjlDaUFnSUNBZ0lDQWdkRzhnZXdvZ0lDQWdJQ0FnSUNBZ2MzUnliMnRsT2lBak5ESTROV1kwT3dvZ0lDQWdJQ0FnSUgwS0lDQWdJQ0FnZlFvZ0lDQWdJQ0F1Y1hBdFkybHlZM1ZzWVhJdGJHOWhaR1Z5TFhCaGRHZ2dld29nSUNBZ0lDQWdJR0Z1YVcxaGRHbHZiaTFrZFhKaGRHbHZiam9nTVRNek0yMXpMQ0ExTXpNeWJYTXNJRFV6TXpKdGN6c2dMeW9nUVZKRFZFbE5SU3dnTkNwQlVrTlVTVTFGTENBMEtrRlNRMVJKVFVVZ0tpOEtJQ0FnSUNBZ0lDQmhibWx0WVhScGIyNHRabWxzYkMxdGIyUmxPaUJtYjNKM1lYSmtjenNLSUNBZ0lDQWdJQ0JoYm1sdFlYUnBiMjR0YVhSbGNtRjBhVzl1TFdOdmRXNTBPaUJwYm1acGJtbDBaU3dnYVc1bWFXNXBkR1VzSUdsdVptbHVhWFJsT3dvZ0lDQWdJQ0FnSUdGdWFXMWhkR2x2YmkxdVlXMWxPaUJtYVd4c2RXNW1hV3hzTENCeWIzUXNJR052Ykc5eWN6c0tJQ0FnSUNBZ0lDQmhibWx0WVhScGIyNHRjR3hoZVMxemRHRjBaVG9nY25WdWJtbHVaeXdnY25WdWJtbHVaeXdnY25WdWJtbHVaenNLSUNBZ0lDQWdJQ0JoYm1sdFlYUnBiMjR0ZEdsdGFXNW5MV1oxYm1OMGFXOXVPaUJqZFdKcFl5MWlaWHBwWlhJb01DNDBMQ0F3TGpBc0lEQXVNaXdnTVNrc0lITjBaWEJ6S0RRcExDQnNhVzVsWVhJN0NpQWdJQ0FnSUgwS0NpQWdQQzl6ZEhsc1pUNEtDaUFnUENFdExTQXlMakkxUFNCVFZGSlBTMFZYU1VSVVNDQXRMVDRLSUNBOElTMHRJRGdnUFNCU1FVUkpWVk1nS3lCVFZGSlBTMFZYU1VSVVNDOHlJQzB0UGdvZ0lEd2hMUzBnTmk0NE56VTlJRkpCUkVsVlV5QXRMVDRLSUNBOElTMHRJREV1TVRJMVBTQWdVMVJTVDB0RlYwbEVWRWd2TWlBdExUNEtJQ0E4WnlCamJHRnpjejBpY1hBdFkybHlZM1ZzWVhJdGJHOWhaR1Z5SWo0S0lDQWdJRHh3WVhSb0lHTnNZWE56UFNKeGNDMWphWEpqZFd4aGNpMXNiMkZrWlhJdGNHRjBhQ0lnWm1sc2JEMGlibTl1WlNJZ0NpQWdJQ0FnSUNBZ0lDQmtQU0pOSURnc01TNHhNalVnUVNBMkxqZzNOU3cyTGpnM05TQXdJREVnTVNBeExqRXlOU3c0SWlCemRISnZhMlV0ZDJsa2RHZzlJakl1TWpVaUNpQWdJQ0FnSUNBZ0lDQnpkSEp2YTJVdGJHbHVaV05oY0QwaWNtOTFibVFpUGp3dmNHRjBhRDRLSUNBOEwyYytDand2YzNablBnbz0pJykuY3NzKCdwYWRkaW5nJywgJzFweCA4cHgnKTsKCQkJLy9yZXR1cm4gdHJ1ZTsKCQl9LAoJCWR1bW15OiBmdW5jdGlvbiBlKHRleHQsIGNhbGxiYWNrKSB7CgkJCWNhbGxiYWNrKHRleHQpOwoJCQkvL3RleHQubWFwKGNhbGxiYWNrKTsKCQl9LAoJCWdldEJ5SUQ6IGZ1bmN0aW9uIGUoaWQpIHsKCQkJcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKCQl9LAoJCWdldEJ5Q2xhc3M6IGZ1bmN0aW9uIGUoY2xhc3NOYW1lKSB7CgkJCXJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7CgkJfSwKCQloYXNJbWFnZUV4bnRlc2lvbjogZnVuY3Rpb24gZShlbWFpbCkgewoJCQl0cnkgewoJCQkJcmV0dXJuICgvXC4oZ2lmfGpwZ3xqcGVnfHRpZmZ8cG5nKSQvaSkudGVzdChlbWFpbCkKCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZSk7CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0sCgkJcmVxdWVzdFByb21pc2U6IGZ1bmN0aW9uIGUodHlwZSwgdXJsLCBkYXRhLCBjYWxsYmFjaykgewoJCQkkLmFqYXgoewoJCQkJYXN5bmM6IHRydWUsCgkJCQljcm9zc0RvbWFpbjogdHJ1ZSwKCQkJCXR5cGU6IHR5cGUsCgkJCQl1cmw6IHVybCwKCQkJCWRhdGE6IGRhdGEsCgkJCQlzdWNjZXNzOiBjYWxsYmFjaywKCQkJfSkKCQl9LAoJCW1ha2VSZXF1ZXN0OiBmdW5jdGlvbiBlKHVybCwgZGF0YSwgY2FsbGJhY2spIHsKCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCQkJCSQuYWpheCh7CgkJCQkJYXN5bmM6IHRydWUsCgkJCQkJY3Jvc3NEb21haW46IHRydWUsCgkJCQkJdXJsOiB1cmwsCgkJCQkJdHlwZTogJ1BPU1QnLAoJCQkJCWRhdGE6IGRhdGEsCgkJCQkJc3VjY2VzczogY2FsbGJhY2sKCQkJCX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewoJCQkJCXJlc29sdmUocmVzb2x2ZSk7CgkJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkJcmVqZWN0KGVycm9yKTsKCQkJCX0pOwoJCQl9KTsKCQl9LAoJCXNoOiBmdW5jdGlvbigpIHsKCQkJdmFyIHBhZ2VOYW1lID0gQXBpLmdldEN1cnJlbnRQYWdlKCkuc2xpY2UoMSk7CgkJCSQuYWpheCh7CgkJCQlhc3luYzogdHJ1ZSwKCQkJCWNyb3NzRG9tYWluOiB0cnVlLAoJCQkJdXJsOiBBcGkuZ2V0QXBpVXJsKCkgKyAnL2hpdHMnLAoJCQkJdHlwZTogJ3B1dCcsCgkJCQlkYXRhOiB7cGFnZTogcGFnZU5hbWV9CgkJCX0pLnRoZW4oZnVuY3Rpb24gKGVycm9yLCByZXNwb25zZSwgYm9keSkgewoJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpOwoJCQl9KTsKCQl9Cgl9Owp9KCksCgovKioKICovCkFwcCA9IGZ1bmN0aW9uICgpIHsKCXZhciBjdXJyZW50LG5hbWUsdmVyc2lvbiA9ICcnOwoJZnVuY3Rpb24gYSgpIHsKCX0KCWZ1bmN0aW9uIGIoKSB7CgkJcmV0dXJuICEwCgl9CglmdW5jdGlvbiBjKCkgewoJCXJldHVybiBhKCksCgkJIWIoKQoJfQoJZnVuY3Rpb24gZChhLCBiKSB7CgkJdmFyIGMgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7CgkJYy5vcGVuKCdHRVQnLCBBcGkuZ2V0QmFzZVVybCgpICsgYSwgITApLAoJCWMub25sb2FkID0gZnVuY3Rpb24gKCkgewoJCQlpZiAoMjAwID09IGMuc3RhdHVzKSB7CgkJCQl2YXIgYSA9IFV0aWxzLnBhcnNlVXJsKGMucmVzcG9uc2VVUkwpOwoJCQkJaWYgKCdhamF4L2xvZ2luLnBocCcgIT0gYS5wYXRobmFtZSkgewoJCQkJCXZhciBkID0gYy5yZXNwb25zZVRleHQubWF0Y2goLzx0aXRsZS4qPiguKik8XC90aXRsZT4vKTsKCQkJCQlkICYmIGQubGVuZ3RoID4gMSAmJiAobG9jYWxTdG9yYWdlLmZ1bGxuYW1lID0gZFsxXS5zcGxpdCgnfCcpIFswXS50cmltKCksIGIoKSkKCQkJCX0KCQkJfQoJCX0sCgkJYy5zZW5kKCkKCX0KCXJldHVybiB7CgkJaW5pdDogYXN5bmMgZnVuY3Rpb24gZSgpIHsKCQkJbmFtZSA9ICJTdHVja1dhbllhaCI7CgkJCXZlcnNpb24gPSAidjEuMC4wIjsKCQkJY3VycmVudCA9IEFwcDsKCQkJLy8gdGhpcy5nZXRTZXNzaW9uKCk7CgkJCXRoaXMuaW5pdEZhY2Vib29rQXBpKCk7CgkJCUFwaS5jaGVja0xvZ2luU3RhdGUoKTsKCQkJdGhpcy5zZXREZWZhdWx0RGF0YSgpOwoJCQl0aGlzLmluaXRQYWdlRXZlbnRMaXN0ZW5lcigpOwoJCQl0aGlzLmluaXRDbGlja0V2ZW50TGlzdGVuZXIoKTsKCQl9LAoJCWdldFNlc3Npb246IGZ1bmN0aW9uKCkgewoJCQlpZiAoQXBpLmdldEN1cnJlbnRVc2VyKCkpIHsKCQkJCXZhciBzZXR0aW5ncyA9IHsKCQkJCQknYXN5bmMnOiB0cnVlLAoJCQkJCSdjcm9zc0RvbWFpbic6IHRydWUsCgkJCQkJJ3VybCc6IEFwaS5nZXRCYXNlVXJsKCkgKyAiL2ZvbyIsCgkJCQkJJ21ldGhvZCc6ICdQT1NUJywKCQkJCQknZGF0YSc6IHsKCQkJCQkJJ3Rva2VuJzogQXBpLmdldEFjY2Vzc1Rva2VuKCksCgkJCQkJCSdwcm9maWxlaWQnOiBBcGkuZ2V0Q3VycmVudFVzZXIoKQoJCQkJCX0KCQkJCX07CgkJCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CgkJCQkJJC5hamF4KHNldHRpbmdzKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJCQkvLyByZXNvbHZlKGxvY2F0aW9uLnJlbG9hZCgpKTsKCQkJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCQkJCQlyZWplY3QoZXJyb3IpOwoJCQkJCX0pCgkJCQl9KQoJCQl9CgkJfSwKCQlzZXREZWZhdWx0RGF0YTogZnVuY3Rpb24gZSgpIHsKCQkJLy8gb2ggbG9yZCwgcGxlYXNlIGJsZXNzIHNpc3RlciBuYW5jeSB3aXRoIHRoZSB3aXNkb20gb2YgZG8gbm90IGdldCBwZW9wbGUgbmVhciBoZWFydCBhdHRhY2tzCgkJCXJldHVybiBBcGkuX3NldFVzZXJEYXRhKCIiLCAiIiksIAoJCQkJJCgiW25hbWU9c2VuZGVyXSIpLnZhbChVdGlscy5yZWFkSXRlbUZyb21Mb2NhbFN0b3JhZ2UoImNfdXNlciIpKTsKCQl9LAoJCWluaXRGYWNlYm9va0FwaTogZnVuY3Rpb24gZSgpIHsKCQkJaWYgKCFpbml0aWFsaXplZCkgewoJCQkJdmFyIG9wdGlvbnMgPSB7CgkJCQkJYXBwSWQ6IEFwaS5fcHJvZHVjdGlvblsiRkFDRUJPT0tfQVBQX0lEIl0udG9TdHJpbmcoKSwKCQkJCQljb29raWU6IHRydWUsCgkJCQkJeGZibWw6IHRydWUsCgkJCQkJc3RhdHVzOiB0cnVlLAoJCQkJCXZlcnNpb246ICd2Ni4wJwoJCQkJfTsKCQkJCUZCLmluaXQob3B0aW9ucyk7CgkJCQlGQi5BcHBFdmVudHMubG9nUGFnZVZpZXcoKTsgICAKCQkJCWluaXRpYWxpemVkID0gdHJ1ZTsKCQkJCXJldHVybjsKCQkJfSBlbHNlIHsKCQkJCVV0aWxzLmxvZygiRkIgU0RLIGFscmVhZHkgaW5pdGlhbGl6ZWQiKTsKCQkJfQoJCX0sCgkJaW5pdENsaWNrRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gZSgpIHsKCQkJJCgnYm9keScpCgkJCS5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uIChlKSB7CgkJCQlpZiAoVXRpbHMuX3NlYXJjaChlLnRhcmdldC5ocmVmKSA9PT0gJy8uaHRtbCQvZ2knKSB7CgkJCQkJQXBwLnJlZ2lzdGVyUGFnZUhpdChVdGlscy5fZmFuY3koZS50YXJnZXQuaHJlZi50b1N0cmluZygpKSk7CgkJCQl9CgkJCX0pCgkJCS5vbignZm9jdXMnLCAnaW5wdXQnLCBmdW5jdGlvbiAoZSkgewoJCQkJaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDApIHsKCQkJCQkkKCdodG1sLGJvZHknKS5zY3JvbGxUb3AoJCh0aGlzKS5vZmZzZXQoKS50b3AgLSAxMTApCgkJCQl9CgkJCX0pCgkJCS5vbigna2V5dXAnLCAnZm9ybSB0ZXh0YXJlYScsIGZ1bmN0aW9uIChlKSB7CgkJCQl2YXIgbGVuID0gVXRpbHMuX2NsZWFuKCQodGhpcykudmFsKCkpLmxlbmd0aDsKCQkJCXZhciAkY291bnRlciA9ICQoJyNjb3VudGVyJyk7CgkJCQkkY291bnRlci5odG1sKCgxMjAgLSBsZW4pICsgJyBjaGFyYWN0ZXJzIHJlbWFpbmluZycpOwoJCQkJVXRpbHMudXBkYXRlS2V5U3Ryb2tlQ291bnQoKTsKCQkJfSkKCQkJLm9uKCdjaGFuZ2UnLCAnI3JhbmtpbmdfdHlwZV9maWVsZCcsIGZ1bmN0aW9uIChlKSB7CgkJCQl2YXIgcGFyYW1zID0gewoJCQkJCWZpZWxkOiAkKHRoaXMpLnZhbCgpLAoJCQkJCWdlbmRlcjogJCgnI3JhbmtpbmdfdHlwZV9nZW5kZXInKS52YWwoKQoJCQkJfTsKCQkJCUFwcC5yZW5kZXJSYW5rTGlzdChwYXJhbXMpOwoJCQl9KQoJCQkub24oJ2NoYW5nZScsICcjcmFua2luZ190eXBlX2dlbmRlcicsIGZ1bmN0aW9uIChlKSB7CgkJCQl2YXIgcGFyYW1zID0gewoJCQkJCWZpZWxkOiAkKCcjcmFua2luZ190eXBlX2ZpZWxkJykudmFsKCksCgkJCQkJZ2VuZGVyOiAkKHRoaXMpLnZhbCgpCgkJCQl9OwoJCQkJQXBwLnJlbmRlclJhbmtMaXN0KHBhcmFtcyk7CgkJCX0pCgkJCS5vbignc3VibWl0JywgJ2Zvcm0sIFt0eXBlPXN1Ym1pdF0nLCBmdW5jdGlvbiAoZSkgewoJCQkJaWYgKCQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCJkYXRhLWFjdGlvbiIpID09PSAic3VibWl0Rm9ybSIpIHsKCQkJCQllLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTsgLy8gTm8gbmVlZCB0byBkbyBhbnl0aGluZyBlbHNlLCBvbiBjbGljayBmb3IgLmJ1dHRvbiBhbHJlYWR5IHRha2VzIGNhcmUgb2YgdGhpbmdzCgkJCQkJQXBwLm9uU3VibWl0QnV0dG9uQ2xpY2soKTsKCQkJCQlVdGlscy5zdWJtaXRGb3JtKGUpOwoJCQkJfQoJCQl9KQoJCQkub24oJ2NsaWNrJywgJyNhZGR0YWJidXR0b24nLCBBcGkuYWRkdGFiLmJpbmQodGhpcykpCgkJCS5vbignY2xpY2snLCAnI2xvZ2luYnV0dG9uJywgQXBpLmxvZ2luLmJpbmQodGhpcykpCgkJCS5vbignY2xpY2snLCAnI2xvZ291dGJ1dHRvbicsIEFwaS5sb2dvdXQuYmluZCh0aGlzKSkKCQkJLm9uKCdjbGljaycsICcjU2hvd015TmFtZScsIEFwaS51c2VyRGV0YWlsc0Zyb21GYi5iaW5kKHRoaXMpKQoJCQkub24oJ2NsaWNrJywgJyNwb3N0VG9GYWNlYm9vaycsIGZ1bmN0aW9uIGMoKXtBcGkucG9zdFRvRmFjZWJvb2soKX0pCgoJCQkkKCcjbG9naW5idXR0b24sICNmZWVkYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZScpOwoJCX0sCgkJaW5pdFBhZ2VFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBlKCkgewoJCQlpZiAoaW5pdGlhbGl6ZWQpIHsKCQkJCUZCLkFwcEV2ZW50cy5sb2dQYWdlVmlldygpOwoJCQl9ICAKCQkJdmFyIGwgPSBjdXJyZW50X3BhZ2U7CgkJCWlmIChjdXJyZW50X3BhZ2UuaW5kZXhPZignLmh0bWwnKSA+IC0gMSkgewoJCQkJbCA9IFV0aWxzLl9zbGljZShjdXJyZW50X3BhZ2UpOwoJCQl9CgkJCXN3aXRjaCAobCkgewoJCQkJY2FzZSAnLyc6CgkJCQkJQXBwLnJlZ2lzdGVyUGFnZUhpdCgnaG9tZScpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnZnJpZW5kcyc6CgkJCQkJQXBwLnJlbmRlckZyaWVuZHNMaXN0KCk7CgkJCQkJQXBwLnJlZ2lzdGVyUGFnZUhpdCgnZnJpZW5kcycpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnZmxhbWVzJzoKCQkJCQlBcHAucmVnaXN0ZXJQYWdlSGl0KCdmbGFtZXMnKTsKCQkJCQlicmVhazsKCQkJCWNhc2UgJ2dhbWVzJzoKCQkJCQlBcHAucmVnaXN0ZXJQYWdlSGl0KCdnYW1lcycpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAncmFua2luZ3MnOgoJCQkJCUFwcC5yZW5kZXJSYW5rTGlzdCgpOwoJCQkJCUFwcC5yZWdpc3RlclBhZ2VIaXQoJ3JhbmtpbmdzJyk7CgkJCQkJYnJlYWs7CgkJCQljYXNlICdzdWJtaXQnOgoJCQkJCUFwcC5yZWdpc3RlclBhZ2VIaXQoJ3N1Ym1pdCcpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAncGVyYyc6CgkJCQkJQXBwLnJlZ2lzdGVyUGFnZUhpdCgncGVyZmVjdE1hdGNoJyk7CgkJCQkJYnJlYWs7CgkJCX0KCQl9LAoJCV9jbGlja0hhbmRsZXI6IGZ1bmN0aW9uKGUpIHsKCQkJdmFyIGkgPSAkKGUuY3VycmVudFRhcmdldCk7CgkJCSFlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIGkuYXR0cigiZGF0YS11aWQiKSAmJiB0aGlzLnRyaWdnZXIoImNsaWNrIiwgewoJCQkJaXRlbTogaQoJCQl9KTsKCQl9LAoJCW9uU3VibWl0QnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIGUoKSB7CgkJCSQoJyNrdmFsJykudmFsKGtleVN0cm9rZUNvdW50KTsKCQkJdmFyIHN0YXJ0ID0gMjAwOwoJCQl2YXIgYSA9IG5ldyBEYXRlKCkgLSBzdGFydDsKCQkJJCgnI2xvYWR0aW1lJykudmFsKGEpOwoJCQlyZXR1cm47CgkJfSwKCQlyZWdpc3RlclBhZ2VIaXQ6IGZ1bmN0aW9uIGUocGFnZU5hbWUpIHsKCQkJJC5hamF4KHsKCQkJCWFzeW5jOiB0cnVlLAoJCQkJY3Jvc3NEb21haW46IHRydWUsCgkJCQl1cmw6IEFwaS5nZXRBcGlVcmwoKSArICcvaGl0cycsCgkJCQl0eXBlOiAnUFVUJywKCQkJCWRhdGE6IHtwYWdlOiBwYWdlTmFtZX0KCQkJfSkKCQl9LAoJCXJlbmRlclR3b1Bob3RvczogZnVuY3Rpb24gZSgpIHsKCQkJQXBpLmdldEltYWdlcyh7CgkJCQlkYXRhOiB7CgkJCQkJZ2VuZGVyOiAnJywKCQkJCQlhZ2U6ICcxMy0yMScsCgkJCQkJbGltaXQ6IDIsCgkJCQl9CgkJCX0sIGZ1bmN0aW9uIChwaG90b3MpIHsKCQkJCSQuZWFjaChwaG90b3MsIGZ1bmN0aW9uIChpLCBwaG90bykgewoJCQkJCSQoJyNwaG90b3MgW25hbWU9cHJvZmlsZWlkXScpLmVxKGkpLmF0dHIoJ3ZhbHVlJywgcGhvdG8udXNlcl9pZCk7CgkJCQkJJCgnI3Bob3RvcyBpbnB1dDppbWFnZScpLmVxKGkpLmF0dHIoJ3NyYycsIHBob3RvLmltYWdlX3VybCk7CgkJCQkJJCgnI3JhdGluZ3MgLnJhdGluZ3MnKS5lcShpKS5odG1sKHBob3RvLnJhdGluZ3MpOwoJCQkJCSQoJyN3aW5zIC53aW5pbmdzJykuZXEoaSkuaHRtbChwaG90by53aW5zKTsKCQkJCQkkKCcjd2lucyAubG9zaW5ncycpLmVxKGkpLmh0bWwocGhvdG8ubG9zc2VzKTsKCQkJCQkkKCcjc2NvcmVzIC5zY29yaW5ncycpLmVxKGkpLmh0bWwocGhvdG8uc2NvcmVzKTsKCQkJCQkkKCcjZXhwZWN0YXRpb25zIC5leHBlY3RhdGlvbnMnKS5lcShpKS5odG1sKHBob3RvLmV4cGVjdGF0aW9ucyk7CgkJCQl9KTsKCQkJfSk7CgkJfSwKCQlyZW5kZXJJbWFnZXM6IGZ1bmN0aW9uIGUoKSB7CgkJCXRyeSB7CgkJCQlBcHAuZ2V0SW1hZ2VzKCk7CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCWNvbnNvbGUubG9nKGUpOwoJCQl9CgkJfSwKCQlnZXRJbWFnZXM6IGZ1bmN0aW9uIGUoKSB7CgkJCSQuYWpheCh7CgkJCQl1cmw6IEFwaS5nZXRBcGlVcmwoKSArICcvcGhvdG9zJywKCQkJCXR5cGU6ICdHRVQnLAoJCQkJZGF0YVR5cGU6ICdqc29uJywKCQkJCWRhdGE6IHsKCQkJCQlnZW5kZXI6IFV0aWxzLmdldFByZWZlcnJlZEdlbmRlcigpCgkJCQl9CgkJCX0pLmRvbmUoZnVuY3Rpb24gKHBob3RvKSB7CgkJCQlBcHAuYXBwZW5kSW1hZ2VzKHBob3RvKTsKCQkJfSkuZmFpbChmdW5jdGlvbiAoZXJyKSB7CgkJCQljb25zb2xlLmxvZyhlcnIpOwoJCQl9KTsKCQl9LAoJCWFwcGVuZEltYWdlczogZnVuY3Rpb24gZShwaG90bykgewoJCQlpZiAoZGF0YS5kYXRhLmxlbmd0aCA8IDIpIHsKCQkJCSQoJyNtYWluLWRpc3BsYXknKS5odG1sKCc8cD5UaGVyZSBhcmVuXCd0IGVub3VnaCBwbGF5ZXJzIG9mIHRoaXMgZ2VuZGVyIGN1cnJlbnRseS4gWW91IGNvdWxkIGhlbHAgPGEgaHJlZj1cJyNzdWJtaXRcJz5jaGFuZ2UgdGhhdDwvYT4uPC9wPicpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCXZhciAkZGlzcGxheSA9ICQoJyNtYWluLWRpc3BsYXknKTsKCQkJJGRpc3BsYXkuaGlkZSgpOwoJCQkvLyBQbGF5ZXIgMQoJCQl2YXIgaWQgPSBkYXRhLmRhdGFbMF0uaWQ7CgkJCSQoJyNwbGF5ZXItb25lJykuYXR0cignc3JjJywgQXBpLmdldEFwaVVybCgpICsgJy9waG90by5waHA/aWQ9JyArIGlkKS5hdHRyKCdkYXRhLWlkJywgaWQpOwoJCQkvLyBQbGF5ZXIgMgoJCQlpZCA9IGRhdGEuZGF0YVsxXS5pZDsKCQkJJCgnI3BsYXllci10d28nKS5hdHRyKCdzcmMnLCBBcGkuZ2V0QXBpVXJsKCkgKyAnL3Bob3RvLnBocD9pZD0nICsgaWQpLmF0dHIoJ2RhdGEtaWQnLCBpZCk7CgkJCSRkaXNwbGF5LmZhZGVJbig2MDApOwoJCX0sCgkJcmVuZGVyRnJpZW5kc0xpc3Q6IGZ1bmN0aW9uIGUoKSB7CgkJCXRyeSB7CgkJCQlBcHAuZ2V0RnJpZW5kc0xpc3QoKTsKCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZSk7CgkJCX0KCQl9LAoJCWdldEZyaWVuZHNMaXN0OiBmdW5jdGlvbiBlKCkgewoJCQl0cnkgewoJCQkJaWYgKCQoJyNwaG90b3MnKS5pcygnOmVtcHR5JykpIHsKCQkJCQkkLmFqYXgoewoJCQkJCQl1cmw6IEFwaS5nZXRBcGlVcmwoKSArICcvcGhvdG9zL21lL2ZyaWVuZHMnLAoJCQkJCQl0eXBlOiAnR0VUJywKCQkJCQkJZGF0YToge30sCgkJCQkJCWRhdGFUeXBlOiAnanNvbicsCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpCgkJCQkJCQlBcHAuYXBwZW5kRnJpZW5kc0xpc3QocmVzcG9uc2UpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCXRocm93IG5ldyBFcnJvcihlKTsKCQkJfQoJCX0sCgkJYXBwZW5kRnJpZW5kc0xpc3Q6IGZ1bmN0aW9uIGUocmVzcG9uc2UpIHsKCQkJLyp0cnkgewoJCQkJaWYgKHR5cGVvZiByZXNwb25zZSAhPSAidW5kZWZpbmVkIikgewoJCQkJCWlmICh0eXBlb2YgcmVzcG9uc2UuZnJpZW5kc2xpc3QgIT0gInVuZGVmaW5lZCIpIHsKCQkJCQkJJCgnI3Bob3RvcycpLmVtcHR5KCk7CgkJCQkJCXZhciBmcmllbmRzX2xpc3QgPSByZXNwb25zZS5mcmllbmRzbGlzdDsKCQkJCQkJT2JqZWN0LmtleXMoZnJpZW5kc19saXN0KS5mb3JFYWNoKGZ1bmN0aW9uKHNpdGVOYW1lKSB7CgkJCQkJCQl2YXIgc2l0ZURldGVjdGVkQXBwcyA9ICh0eXBlb2YgZnJpZW5kc19saXN0W3NpdGVOYW1lXSA9PT0gIm9iamVjdCIpID8gZnJpZW5kc19saXN0W3NpdGVOYW1lXSA6IEpTT04ucGFyc2UoZm9sbG93aW5nX3NpdGVzW3NpdGVOYW1lXSk7CgkJCQkJCQl0aGlzLmFwcGVuZEFwcERldGFpbHMoc2l0ZURldGVjdGVkQXBwcywgc2l0ZU5hbWUsIHJlc3BvbnNlLmRheXMpOwoJCQkJCQl9KTsKCQkJCQkJdGhpcy5zaG93Rm9sbG93aW5nU2l0ZXMoKTsKCQkJCQl9CgkJCQl9CgkJCX0gY2F0Y2goZSkgewoJCQkJY29uc29sZS5sb2coZSk7CgkJCX0KCQkJdHJ5IHsKCQkJCWlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICd1bmRlZmluZWQnKSB7CgkJCQkJaWYgKHR5cGVvZiByZXNwb25zZS5mcmllbmRzbGlzdCAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkJCQkJJCgnI3Bob3RvcycpLmVtcHR5KCk7CgkJCQkJCXZhciBmcmllbmRzX2xpc3QgPSByZXNwb25zZS5mcmllbmRzbGlzdDsKCQkJCQkJT2JqZWN0LmtleXMoZnJpZW5kc19saXN0KS5mb3JFYWNoKGZ1bmN0aW9uKHNpdGVOYW1lKSB7CgkJCQkJCX0pOwoJCQkJCX0KCQkJCX0KCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZSk7CgkJCX0qLwoJCQl2YXIgb3V0cHV0ID0gJyc7CgkJCW91dHB1dCArPSAnPHRyPic7CgkJCW91dHB1dCArPSAnPHRkIGNsYXNzPSJwaG90b3MiIHN0eWxlPSJ3aWR0aDogOTAycHg7Ij4nOwoJCQkkLmVhY2gocmVzcG9uc2UsIGZ1bmN0aW9uKGksIGl0ZW0pIHsKCQkJCW91dHB1dCArPSAnPGEgaHJlZj0iaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tJyArIGl0ZW0ucHJvZmlsZVVybCArICciIGRhdGEtcHJvZmlsZWlkPSInICsgaXRlbS5mYWNlYm9va0hhbmRsZS5pZCArICciPic7CgkJCQlvdXRwdXQgKz0gJzxpbWcgY2xhc3M9InBob3RvIiBzcmM9IicgKyBpdGVtLnBpY3R1cmUgKyAnIiBzdHlsZT0id2lkdGg6NzBweCFpbXBvcnRhbnQiPic7CgkJCQkvL291dHB1dCArPSAnPGltZyBjbGFzcz1cInBob3RvXCIgc3JjPVwiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGl0ZW0uZmFjZWJvb2tIYW5kbGUuaWQgKyAnL3BpY3R1cmU/dHlwZT1zbWFsbFwiPic7IC8vaHR0cHM6Ly9zY29udGVudC1zeWQyLTEueHguZmJjZG4ubmV0L3YvdDEuMC0xL3AzMngzMgoJCQkJb3V0cHV0ICs9ICc8L2E+JzsKCQkJfSk7CgkJCW91dHB1dCArPSAnPC90ZD4nOwoJCQlvdXRwdXQgKz0gJzwvdHI+JzsKCQkJJCgnI3Bob3RvcycpLmh0bWwob3V0cHV0KTsKCQl9LAoJCXJlbmRlclJhbmtMaXN0OiBmdW5jdGlvbiBlKCkgewoJCQlBcHAuZ2V0UmFua0xpc3QoKTsKCQl9LAoJCWdldFJhbmtMaXN0OiBmdW5jdGlvbiBlKHJhbmtpbmdGaWVsZCkgewoJCQkvL2VuY29kZVVSSUNvbXBvbmVudAoJCQkvKnRyeSB7CgkJCQlpZiAoJCgnI3JhbmtpbmdzJykuaXMoJzplbXB0eScpKSB7CgkJCQkJJC5hamF4KHsKCQkJCQkJdXJsOiBBcGkuZ2V0QXBpVXJsKCkgKyAiL3Bob3Rvcy90b3AiLAoJCQkJCQlnbG9iYWw6IGZhbHNlLAoJCQkJCQl0eXBlOiAiUE9TVCIsCgkJCQkJCWRhdGE6IHBvc3RWYXJCdWlsZGVyLAoJCQkJCQlkYXRhVHlwZTogImpzb24iLAoJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXBseV9zZXJ2ZXIsIHRleHRTdGF0dXMsIGpxWEhSKXsKCQkJCQkJCUFwcC5hcHBlbmRSYW5rTGlzdChyZXBseV9zZXJ2ZXIpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCXRocm93IG5ldyBFcnJvcihlKTsKCQkJfSovCgkJCXRyeSB7CgkJCQkvL2lmICgkKCcjcmFua2luZ3MnKS5pcygnOmVtcHR5JykpIHsKCQkJCSQuYWpheCh7CgkJCQkJdXJsOiBBcGkuZ2V0QXBpVXJsKCkgKyAnL3Bob3Rvcy90b3AnLAoJCQkJCWdsb2JhbDogZmFsc2UsCgkJCQkJdHlwZTogJ0dFVCcsCgkJCQkJZGF0YTogcmFua2luZ0ZpZWxkLAoJCQkJCS8vZGF0YTogeyJnZW5kZXIiOiB9LAoJCQkJCWRhdGFUeXBlOiAnanNvbicsCgkJCQkJc3VjY2VzczogZnVuY3Rpb24gKHJlcGx5X3NlcnZlciwgdGV4dFN0YXR1cywganFYSFIpIHsKCQkJCQkJaWYgKHRleHRTdGF0dXMpIHt9CgkJCQkJCUFwcC5hcHBlbmRSYW5rTGlzdChyZXBseV9zZXJ2ZXIpOwoJCQkJCX0KCQkJCX0pOwoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlKTsKCQkJfQoJCX0sCgkJYXBwZW5kUmFua0xpc3Q6IGZ1bmN0aW9uIGUocmVzcG9uc2UpIHsKCQkJdHJ5IHsKCQkJCXZhciBvdXRwdXQgPSAkKCcnKTsKCQkJCS8vdmFyIGltZ0VsID0gJCgnPGltZyBjbGFzcz1cJ3Bob3RvXCcgc3JjPVwnL3Bob3Rvcy8nICsgaXRlbS5pbWFnZVVybCArICdcJyBkYXRhLXByb2ZpbGVpZD1cJycgKyBpdGVtLmltYWdlSWQgKyAnIiB3aWR0aD1cJzE4MFwnPiAnKTsKCQkJCXZhciByYW5rID0gMTsKCQkJCSQuZWFjaChyZXNwb25zZSwgZnVuY3Rpb24gKGksIGl0ZW0pIHsKCQkJCQlvdXRwdXQgKz0gJzx0ciBhbGlnbj0iY2VudGVyIj48dGQ+JzsKCQkJCQlvdXRwdXQgKz0gcmFuaysrOwoJCQkJCW91dHB1dCArPSAnPC90ZD48dGQ+PC90ZD48dGQ+PGEgaHJlZj0iaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tJyArIGl0ZW0ucHJvZmlsZVVybCArICciPic7CgkJCQkJb3V0cHV0ICs9ICc8aW1nIGNsYXNzPVwncGhvdG9cJyBzcmM9XCcnICsgaXRlbS5waWN0dXJlICsgJ1wnIGRhdGEtcHJvZmlsZWlkPSInICsgaXRlbS5pbWFnZUlkICsgJyIgd2lkdGg9XCcxODBcJz4nOwoJCQkJCW91dHB1dCArPSAnPC9hPjwvdGQ+PHRkPjwvdGQ+PHRkPic7CgkJCQkJb3V0cHV0ICs9IGl0ZW0ucmF0aW5nczsKCQkJCQlvdXRwdXQgKz0gJzwvdGQ+PHRkPjwvdGQ+PC90cj4nOwoJCQkJfSk7CgkJCQkkKCcjcmFua2luZ3MnKS5hcHBlbmQob3V0cHV0KTsKCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZSk7CgkJCX0KCQl9LAoJCXNob3dfdG9wX3JhbmtlZF9waG90bzogZnVuY3Rpb24gZSgpIHsKCQkJdmFyIHBvc3RWYXJCdWlsZGVyID0gYGxpbWl0PSR7MX1gOwoJCQl0cnkgewoJCQkJJC5hamF4KHsKCQkJCQl1cmw6IEFwaS5nZXRBcGlVcmwoKSArICcvcGhvdG9zL2hvdHRlc3QnLAoJCQkJCWdsb2JhbDogZmFsc2UsCgkJCQkJdHlwZTogJ0dFVCcsCgkJCQkJZGF0YTogcG9zdFZhckJ1aWxkZXIsCgkJCQkJZGF0YVR5cGU6ICdqc29uJywKCQkJCQliZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7CgkJCQkJCWlmKEFwaS5pc0xvZ2dlZEluKCkpewoJCQkJCQkJcmV0dXJuOwoJCQkJCQl9OwoJCQkJCX0sCgkJCQkJc3VjY2VzczogZnVuY3Rpb24gKGpzb25fZGF0YSwgc3RhdHVzVGV4dCwganFIWFIpIHsKCQkJCQkJdmFyIGNvbnRhaW5lckVsID0gJCgnPGRpdiBjbGFzcz0iY29udGFpbmVyIj4nICsKCQkJCQkJJzxkaXYgY2xhc3M9ImltZy1kaXYiPicgKwoJCQkJCQknPGltZyBzdHlsZT0iYm9yZGVyOjBweDsiIHNyYz0iJyArIGpzb25fZGF0YS5waWN0dXJlICsgJyI+JyArCgkJCQkJCSc8L2Rpdj4nICsgJzxkaXY+JyArIGpzb25fZGF0YS5mdWxsTmFtZSArICc8L2Rpdj4nICsKCQkJCQkJJzxkaXYgY2xhc3M9Im1zZyI+RGF0IHdhbiB5YWggZW0gc3R1Y2sgd2FuIGVoITwvZGl2PicgKwoJCQkJCQknPGlucHV0IHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ1dHRvbiIgb25jbGljaz0iamF2YXNjcmlwdDpsb2NhdGlvbi5yZWxvYWQoKSIgdmFsdWU9ImNvbnRpbnVlIj4nICsKCQkJCQkJJzwvZGl2PicpOwoJCQkJCQkkKCcuY3VycmVudC1hcHAtaW5mbycpLmFwcGVuZCgkKGNvbnRhaW5lckVsKSk7CgkJCQkJfSwKCQkJCQllcnJvcjogZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQkJCQljb25zb2xlLmVycm9yKCdFcnJvciBpbiBDMkRNOiAnICsgZXJyb3JUaHJvd24pOwoJCQkJCQljb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOiAnICsgZXJyb3JUaHJvd24uZXJyb3IpOwoJCQkJCX0KCQkJCX0pCgkJCX0gY2F0Y2ggKGUpIHsKCQkJCXRocm93IG5ldyBFcnJvcihlKTsKCQkJfQoJCX0sCgkJc2hvd19zaGFyZV9wb3N0X2NhcmQ6IGZ1bmN0aW9uIGUoKSB7CgkJCXRyeSB7CgkJCQkkLmFqYXgoewoJCQkJCXVybDogYCR7IEFwaS5nZXRBcGlVcmwoKSB9L3Bob3Rvcy90b3Avc2hhcmVgLAoJCQkJCWdsb2JhbDogZmFsc2UsCgkJCQkJdHlwZTogJ0dFVCcsCgkJCQkJLy9kYXRhOiBwb3N0VmFyQnVpbGRlciwKCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCWJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHsKCQkJCQkJaWYgKEFwaS5pc0xvZ2dlZEluKCkpIHsKCQkJCQkJCXJldHVybjsKCQkJCQkJfTsKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uX2RhdGEsIHN0YXR1c1RleHQsIGpxSFhSKSB7CgkJCQkJCXZhciBjb250YWluZXJFbCA9ICQoJzxkaXYgY2xhc3M9ImNvbnRhaW5lciI+JyArCgkJCQkJCSc8ZGl2IGNsYXNzPSJpbWctZGl2Ij4nICsKCQkJCQkJJzxpbWcgc3R5bGU9ImJvcmRlcjowcHg7IiBzcmM9IicgKyBqc29uX2RhdGFbMF0ucGljdHVyZSArICciPicgKwoJCQkJCQknPC9kaXY+JyArICc8ZGl2PicgKyBqc29uX2RhdGFbMF0uZnVsbE5hbWUgKyAnPC9kaXY+JyArCgkJCQkJCSc8ZGl2IGNsYXNzPSJtc2ciPkRhdCB3YW4geWFoIGVtIHN0dWNrIHdhbiBlaCE8L2Rpdj4nICsKCQkJCQkJJzxpbnB1dCB0eXBlPSJidXR0b24iIGNsYXNzPSJidXR0b24iIG9uY2xpY2s9ImphdmFzY3JpcHQ6bG9jYXRpb24ucmVsb2FkKCkiIHZhbHVlPSJjb250aW51ZSI+JyArCgkJCQkJCSc8L2Rpdj4nKTsKCQkJCQkJJCgnLmN1cnJlbnQtYXBwLWluZm8nKS5hcHBlbmQoJChjb250YWluZXJFbCkpOwoJCQkJCQl2YXIgY29udGFpbmVyRWwgPSAkKCc8ZGl2IGNsYXNzPSJjb250YWluZXIgY3VycmVudC1hcHAtaW5mbyBhY3RpdmUiPjwvZGl2PicpOwoJCQkJCQl2YXIgZGl2RWwgPSAkKCc8ZGl2IGNsYXNzPSJpbWctZGl2Ij48L2Rpdj4nKTsKCQkJCQkJdmFyIGltZ0VsID0gJCgnPGltZyBzcmM9Ii9pbWFnZXMvMi5wbmciIHN0eWxlPSJib3JkZXI6MHB4OyI+Jyk7CgkJCQkJCXZhciBtc2dFbCA9ICQoJzxkaXYgY2xhc3M9Im1zZyI+PC9kaXY+Jyk7CgkJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgbXNnQXJyLmxlbmd0aDsgaSsrKSB7CgkJCQkJCQkkKGNvbnRhaW5lckVsKS5hcHBlbmQoJChkaXZFbCkuYXBwZW5kKCQoaW1nRWwpLmF0dHIoJ3NyYycsICcvaW1hZ2VzLycgKyBtc2dBcnJbaV0uaWNvbikKCQkJCQkJCSksICQobXNnRWwpLmFwcGVuZChtc2dBcnJbaV0ubWVzc2FnZSkKCQkJCQkJCSk7CgkJCQkJCX0gLy8kKCcuY3VycmVudC1hcHAtaW5mbycpLmFwcGVuZCgkKGNvbnRhaW5lckVsKSk7CgkJCgkJCQkJfQoJCQkJfSk7CgkJCX0gY2F0Y2ggKGUpIHsKCQkJfQoJCX0sCgkJc2hvd19wb3N0X2NhcmQ6IGZ1bmN0aW9uIGUoKSB7CgkJCXRyeSB7CgkJCQkkLmFqYXgoewoJCQkJCXVybDogYCR7IEFwaS5nZXRBcGlVcmwoKSB9L3Bob3Rvcy90b3Avc2hhcmVgLAoJCQkJCWdsb2JhbDogZmFsc2UsCgkJCQkJdHlwZTogJ0dFVCcsCgkJCQkJLy9kYXRhOiBwb3N0VmFyQnVpbGRlciwKCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCWJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHsKCQkJCQkJaWYgKEFwaS5pc0xvZ2dlZEluKCkpIHsKCQkJCQkJCXJldHVybjsKCQkJCQkJfTsKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uX2RhdGEsIHN0YXR1c1RleHQsIGpxSFhSKSB7CgkJCQkJCXZhciBjb250ZW50ID0gWwoJCQkJCQkJewoJCQkJCQkJCW1lc3NhZ2U6ICcnLAoJCQkJCQkJCWljb246ICcnLAoJCQkJCQkJCWJ1dHRvbl90ZXh0OiAncG9zdCcKCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJbWVzc2FnZTogJ0RhdCB3YW4geWFoIGVtIHN0dWNrIHdhbiBlaCEnLAoJCQkJCQkJCWljb246ICcnLAoJCQkJCQkJCWJ1dHRvbl90ZXh0OiAnY29udGludWUnCgkJCQkJCQl9CgkJCQkJCV07CgkJCQkJCXZhciByYW5kb21Db250ZW50ID0gY29udGVudFtNYXRoLnJhbmRvbSAqIGNvbnRlbnQubGVuZ3RoXTsKCQkJCQkJdmFyIGNvbnRhaW5lckVsID0gJCgnPGRpdiBjbGFzcz0iY29udGFpbmVyIj4nICsKCQkJCQkJJzxkaXYgY2xhc3M9ImltZy1kaXYiPicgKwoJCQkJCQknPGltZyBzdHlsZT0iYm9yZGVyOjBweDsiIHNyYz0iJyArIGpzb25fZGF0YVswXS5waWN0dXJlICsgJyI+JyArCgkJCQkJCSc8L2Rpdj4nICsgJzxkaXY+JyArIGpzb25fZGF0YVswXS5mdWxsTmFtZSArICc8L2Rpdj4nICsKCQkJCQkJJzxkaXYgY2xhc3M9Im1zZyI+JyArIHJhbmRvbUNvbnRlbnQubWVzc2FnZSArICc8L2Rpdj4nICsKCQkJCQkJJzxidXR0b24gbmFtZT0icG9zdF90b19mYWNlYm9vayIgaWQ9InBvc3RUb0ZhY2Vib29rIiBjbGFzcz0iYnV0dG9uIj5Qb3N0IHRvIEZhY2Vib29rPC9idXR0b24+JyArCgkJCQkJCSc8L2Rpdj4nKTsKCQkJCQkJJCgnLmN1cnJlbnQtYXBwLWluZm8nKS5hcHBlbmQoJChjb250YWluZXJFbCkpOwoJCQkJCX0sCgkJCQkJZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJCQkJY29uc29sZS5lcnJvcignRXJyb3IgaW4gQzJETTogJyArIGVycm9yVGhyb3duKTsKCQkJCQkJY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczogJyArIGVycm9yVGhyb3duLmVycm9yKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSBjYXRjaCAoZSkgewoJCQkJdGhyb3cgbmV3IEVycm9yKGUpOwoJCQl9CgkJfQoJfQp9KCk7CmZ1bmN0aW9uIGFqYXhSZXF1ZXN0KGRhdGEsIHVybCwgY2FsbGJhY2spIHsKCXZhciBkYXRhID0gSlNPTi5zdHJpbmdpZnkoewoJCSdzZXR0aW5nX3R5cGUnOiAnY2FsbF90b19hY3Rpb25zJywKCQkndGhyZWFkX3N0YXRlJzogJ25ld190aHJlYWQnLAoJCSdjYWxsX3RvX2FjdGlvbnMnOiBbCgkJCXsKCQkJCSdwYXlsb2FkJzogJ0dFVF9TVEFSVEVEJwoJCQl9CgkJXQoJfSk7Cgl4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7Cgl4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKCXhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CgkvL3hoci5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKCkgewoJCWlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB0aGlzLnN0YXR1cyA9PT0gMjAwIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkgewoJCQljYWxsYmFjayh4aHIucmVzcG9uc2VUZXh0KTsKCQl9Cgl9Ly8pOwoJeGhyLm9wZW4oJ1BPU1QnLCB1cmwpOwoJeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7Cgl4aHIuc2VuZChkYXRhKTsKfTsKZnVuY3Rpb24gUmVxdWVzdEdyYXBoQXBpKCkgewoJdmFyIHNldHRpbmdzID0gewoJCSdhc3luYyc6IHRydWUsCgkJJ2Nyb3NzRG9tYWluJzogdHJ1ZSwKCQkndXJsJzogJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjYvbWUvdGhyZWFkX3NldHRpbmdzP2FjY2Vzc190b2tlbj1QQUdFX0FDQ0VTU19UT0tFTicsCgkJJ21ldGhvZCc6ICdQT1NUJywKCQknaGVhZGVycyc6IHsKCQkJJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwoJCX0sCgkJJ3Byb2Nlc3NEYXRhJzogZmFsc2UsCgkJJ2RhdGEnOiAne1xuXHQic2V0dGluZ190eXBlIjogImNhbGxfdG9fYWN0aW9ucyIsXG5cdCJ0aHJlYWRfc3RhdGUiOiAibmV3X3RocmVhZCIsXG5cdCJjYWxsX3RvX2FjdGlvbnMiOiBbXG5cdFx0e1xuXHRcdFx0InBheWxvYWQiOiAiR0VUX1NUQVJURUQiXG5cdFx0fVxuXHRdXG59JwoJfTsKCSQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQljb25zb2xlLmxvZyhyZXNwb25zZSk7Cgl9KTsKfTsKZnVuY3Rpb24gY2hhbmdlX215c2VsZWN0KCkgewoJdmFyIG9iaixwYXJhbSxteU9iaix0eHQgPSAnJyx4OwoJb2JqID0gewoJCSdmaWVsZCc6ICQoJy5yYW5raW5nX3R5cGVfZmllbGQnKSwKCQknZ2VuZGVyJzogJCgnLnJhbmtpbmdfdHlwZV9nZW5kZXInKSwKCQknbGltaXQnOiAxMAoJfTsKCXBhcmFtID0gSlNPTi5zdHJpbmdpZnkob2JqKTsKCXhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKCQlpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0ICYmIHRoaXMuc3RhdHVzID09PSAyMDApIHsKCQkJbXlPYmogPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKCQkJdHh0ICs9ICc8dGFibGUgYm9yZGVyPVwnMVwnPic7CgkJCWZvciAoeCBpbiBteU9iaikgewoJCQkJdHh0ICs9ICc8dHI+PHRkPicgKyBteU9ialt4XS5uYW1lICsgJzwvdGQ+PC90cj4nOwoJCQl9CgkJCXR4dCArPSAnPC90YWJsZT4nOwoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFua2luZ3MnKS5pbm5lckhUTUwgPSB0eHQ7CgkJfQoJfTsKCXhoci5vcGVuKCdQT1NUJywgQXBpLmdldEFwaVVybCgpICsgJy9waG90b3MvdG9wJywgdHJ1ZSk7Cgl4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOwoJeGhyLnNlbmQoJ3g9JyArIHBhcmFtKTsKfTsKZnVuY3Rpb24gY2hhbmdlX215c2VsZWN0MSgpIHsKCXZhciBvYmosIHBhcmFtOwoJb2JqID0gewoJCWFzeW5jOiB0cnVlLAoJCW1ldGhvZDogJ1BPU1QnLAoJCXVybDogQXBpLmdldEFwaVVybCgpICsgJy9waG90b3MvdG9wJywKCQloZWFkZXJzOiB7J2NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSwKCQlkYXRhOiB7CgkJCSdmaWVsZCc6ICQoJy5yYW5raW5nX3R5cGVfZmllbGQnKSwKCQkJJ2dlbmRlcic6ICQoJy5yYW5raW5nX3R5cGVfZ2VuZGVyJykKCQl9Cgl9OwoJcGFyYW0gPSBKU09OLnN0cmluZ2lmeShvYmopOwoJYWpheFJlcXVlc3QocGFyYW0sIGZ1bmN0aW9uICgpIHsKCQl2YXIgbXlPYmosIHR4dCwgeDsKCQlteU9iaiA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpOwoJCXR4dCArPSAnPHRhYmxlIGJvcmRlcj1cJzFcJz4nOwoJCWZvciAoeCBpbiBteU9iaikgewoJCQl0eHQgKz0gJzx0cj48dGQ+JyArIG15T2JqW3hdLm5hbWUgKyAnPC90ZD48L3RyPic7CgkJfQoJCXR4dCArPSAnPC90YWJsZT4nOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vJykuaW5uZXJIVE1MID0gdHh0OwoJfSk7Cn07CnZhciBpc0JpZ0Vub3VnaCA9IGZ1bmN0aW9uIChhZ2UpIHsKCXZhciBtaW4gPSAxMywKCW1heCA9IDIxOwoJaWYgKGFnZSA+PSBtaW4gJiYgYWdlIDw9IG1heCkgewoJCXJldHVybiB0cnVlOwoJfQoJcmV0dXJuIGZhbHNlOwp9Owp2YXIgY3JlYXRlRGl2ID0gZnVuY3Rpb24gKGlkLCBjbGFzc05hbWUsIGNoaWxkKSB7Cgl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CglkaXYuaWQgPSBpZDsKCWRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7CglkaXYuYXBwZW5kKGNoaWxkKTsKCXJldHVybiBkaXY7Cn07CnZhciBjcmVhdGVJbWFnZSA9IGZ1bmN0aW9uIChpZCwgY2xhc3NOYW1lLCBzcmMsIHdpZHRoLCBoZWlnaHQpIHsKCXZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKCWltZy5pZCA9IGlkOwoJaW1nLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKCWltZy5zcmMgPSAnL3Bob3Rvcy8nICsgc3JjLnNsaWNlKDEsIC0gNCkgKyAnLmpwZyc7CglpbWcud2lkdGggPSB0eXBlb2Ygd2lkdGggPT0gbnVsbCA/ICcnIDogd2lkdGg7CglpbWcuaGVpZ2h0ID0gdHlwZW9mIGhlaWdodCA9PSBudWxsID8gJycgOiBoZWlnaHQ7CglyZXR1cm4gaW1nOwp9OwpmdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIHsKCXJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOwp9OwpmdW5jdGlvbiByYW5rKCkgewoJdmFyIGxpc3QsaSxzd2l0Y2hpbmcsYixzaG91bGRTd2l0Y2gscmFua2luZyA9IDA7CglsaXN0ID0gJCgnI3JhbmtpbmdzJyk7Cglzd2l0Y2hpbmcgPSB0cnVlOwoJd2hpbGUgKHN3aXRjaGluZykgewoJCXN3aXRjaGluZyA9IGZhbHNlOwoJCWIgPSBsaXN0LmZpbmQoJ3RyJyk7CgkJZm9yIChpID0gMDsgaSA8IChiLmxlbmd0aCAtIDEpOyBpKyspIHsKCQkJc2hvdWxkU3dpdGNoID0gZmFsc2U7CgkJCWlmIChiW2ldLmNoaWxkTm9kZXNbMV0uaW5uZXJUZXh0ID4gYltpICsgMV0uY2hpbGROb2Rlc1sxXS5pbm5lclRleHQpIHsKCQkJCXNob3VsZFN3aXRjaCA9IHRydWU7CgkJCQlicmVhazsKCQkJfQoJCX0KCQlpZiAoc2hvdWxkU3dpdGNoKSB7CgkJCWJbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYltpICsgMV0sIGJbaV0pOwoJCQkvLyBiW2ldLmNoaWxkTm9kZXNbMl0uaW5uZXJUZXh0ID0gcmFua2luZysrOwoJCQlzd2l0Y2hpbmcgPSB0cnVlOwoJCX0KCX0KfTsKZnVuY3Rpb24gc3R1Y2t3YW5pZnkobWluLCBtYXgpIHsKCXZhciBhID0gbmV3IEFycmF5KCksaSxuID0gdGhpcyxtYXg7Cglmb3IgKGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykgewoJCW1heCA9IGFbMF07CgkJZm9yIChpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGFbaV0gPiBtYXgpIHsKCQkJCW1heCA9IGFbaV07CgkJCX0KCQl9Cgl9Cgljb25zb2xlLmxvZyhtYXgpOwp9OwpmdW5jdGlvbiBzb3J0TGlzdCgpIHsKCXZhciBsaXN0LGksc3dpdGNoaW5nLGIsc2hvdWxkU3dpdGNoOwoJbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5raW5ncycpOwoJc3dpdGNoaW5nID0gdHJ1ZTsKCS8vIE1ha2UgYSBsb29wIHRoYXQgd2lsbCBjb250aW51ZSB1bnRpbCBubyBzd2l0Y2hpbmcgaGFzIGJlZW4gZG9uZToKCXdoaWxlIChzd2l0Y2hpbmcpIHsKCQkvLyBTdGFydCBieSBzYXlpbmc6IG5vIHN3aXRjaGluZyBpcyBkb25lOgoJCXN3aXRjaGluZyA9IGZhbHNlOwoJCWIgPSBsaXN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0cicpOwoJCS8vIExvb3AgdGhyb3VnaCBhbGwgbGlzdCBpdGVtczoKCQlmb3IgKGkgPSAwOyBpIDwgKGIubGVuZ3RoIC0gMSk7IGkrKykgewoJCQkvLyBTdGFydCBieSBzYXlpbmcgdGhlcmUgc2hvdWxkIGJlIG5vIHN3aXRjaGluZzoKCQkJc2hvdWxkU3dpdGNoID0gZmFsc2U7CgkJCS8qIENoZWNrIGlmIHRoZSBuZXh0IGl0ZW0gc2hvdWxkIHN3aXRjaCBwbGFjZSB3aXRoIHRoZSBjdXJyZW50IGl0ZW06ICovCgkJCWlmIChiW2ldLmlubmVySFRNTC50b0xvd2VyQ2FzZSgpID4gYltpICsgMV0uaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkpIHsKCQkJCS8qIElmIG5leHQgaXRlbSBpcyBhbHBoYWJldGljYWxseSBsb3dlciB0aGFuIGN1cnJlbnQgaXRlbSwKCQkJCQkJbWFyayBhcyBhIHN3aXRjaCBhbmQgYnJlYWsgdGhlIGxvb3A6ICovCgkJCQlzaG91bGRTd2l0Y2ggPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJaWYgKHNob3VsZFN3aXRjaCkgewoJCQkvKiBJZiBhIHN3aXRjaCBoYXMgYmVlbiBtYXJrZWQsIG1ha2UgdGhlIHN3aXRjaCBhbmQgbWFyayB0aGUgc3dpdGNoIGFzIGRvbmU6ICovCgkJCWJbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYltpICsgMV0sIGJbaV0pOwoJCQlzd2l0Y2hpbmcgPSB0cnVlOwoJCX0KCX0KfTsKZnVuY3Rpb24gc29ydExpc3REaXIoKSB7Cgl2YXIgbGlzdCxpLHN3aXRjaGluZyxiLHNob3VsZFN3aXRjaCxkaXIsc3dpdGNoY291bnQgPSAwOwoJbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZDAxJyk7Cglzd2l0Y2hpbmcgPSB0cnVlOwoJLy8gU2V0IHRoZSBzb3J0aW5nIGRpcmVjdGlvbiB0byBhc2NlbmRpbmc6CglkaXIgPSAnYXNjJzsKCS8vIE1ha2UgYSBsb29wIHRoYXQgd2lsbCBjb250aW51ZSB1bnRpbCBubyBzd2l0Y2hpbmcgaGFzIGJlZW4gZG9uZToKCXdoaWxlIChzd2l0Y2hpbmcpIHsKCQkvLyBTdGFydCBieSBzYXlpbmc6IG5vIHN3aXRjaGluZyBpcyBkb25lOgoJCXN3aXRjaGluZyA9IGZhbHNlOwoJCWIgPSBsaXN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdMSScpOwoJCS8vIExvb3AgdGhyb3VnaCBhbGwgbGlzdC1pdGVtczoKCQlmb3IgKGkgPSAwOyBpIDwgKGIubGVuZ3RoIC0gMSk7IGkrKykgewoJCQkvLyBTdGFydCBieSBzYXlpbmcgdGhlcmUgc2hvdWxkIGJlIG5vIHN3aXRjaGluZzoKCQkJc2hvdWxkU3dpdGNoID0gZmFsc2U7CgkJCS8qIENoZWNrIGlmIHRoZSBuZXh0IGl0ZW0gc2hvdWxkIHN3aXRjaCBwbGFjZSB3aXRoIHRoZSBjdXJyZW50IGl0ZW0sCgkJCQliYXNlZCBvbiB0aGUgc29ydGluZyBkaXJlY3Rpb24gZShhc2Mgb3IgZGVzYyk6ICovCgkJCWlmIChkaXIgPT0gJ2FzYycpIHsKCQkJCWlmIChiW2ldLmlubmVySFRNTC50b0xvd2VyQ2FzZSgpID4gYltpICsgMV0uaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkpIHsKCQkJCQkvKiBJZiBuZXh0IGl0ZW0gaXMgYWxwaGFiZXRpY2FsbHkgbG93ZXIgdGhhbiBjdXJyZW50IGl0ZW0sCgkJCQkJCW1hcmsgYXMgYSBzd2l0Y2ggYW5kIGJyZWFrIHRoZSBsb29wOiAqLwoJCQkJCXNob3VsZFN3aXRjaCA9IHRydWU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0gZWxzZSBpZiAoZGlyID09ICdkZXNjJykgewoJCQkJaWYgKGJbaV0uaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkgPCBiW2kgKyAxXS5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSkgewoJCQkJCS8qIElmIG5leHQgaXRlbSBpcyBhbHBoYWJldGljYWxseSBoaWdoZXIgdGhhbiBjdXJyZW50IGl0ZW0sCgkJCQkJCW1hcmsgYXMgYSBzd2l0Y2ggYW5kIGJyZWFrIHRoZSBsb29wOiAqLwoJCQkJCXNob3VsZFN3aXRjaCA9IHRydWU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9CgkJaWYgKHNob3VsZFN3aXRjaCkgewoJCQkvKiBJZiBhIHN3aXRjaCBoYXMgYmVlbiBtYXJrZWQsIG1ha2UgdGhlIHN3aXRjaAoJCQkJYW5kIG1hcmsgdGhhdCBhIHN3aXRjaCBoYXMgYmVlbiBkb25lOiAqLwoJCQliW2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJbaSArIDFdLCBiW2ldKTsKCQkJc3dpdGNoaW5nID0gdHJ1ZTsKCQkJLy8gRWFjaCB0aW1lIGEgc3dpdGNoIGlzIGRvbmUsIGluY3JlYXNlIHN3aXRjaGNvdW50IGJ5IDE6CgkJCXN3aXRjaGNvdW50Kys7CgkJfSBlbHNlIHsKCQkJLyogSWYgbm8gc3dpdGNoaW5nIGhhcyBiZWVuIGRvbmUgQU5EIHRoZSBkaXJlY3Rpb24gaXMgImFzYyIsCgkJCQlzZXQgdGhlIGRpcmVjdGlvbiB0byAiZGVzYyIgYW5kIHJ1biB0aGUgd2hpbGUgbG9vcCBhZ2Fpbi4gKi8KCQkJaWYgKHN3aXRjaGNvdW50ID09IDAgJiYgZGlyID09ICdhc2MnKSB7CgkJCQlkaXIgPSAnZGVzYyc7CgkJCQlzd2l0Y2hpbmcgPSB0cnVlOwoJCQl9CgkJfQoJfQp9OwpmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7Cgl2YXIgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoLHRlbXBvcmFyeVZhbHVlLHJhbmRvbUluZGV4OwoJLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGUuLi4KCXdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHsKCQkvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi4KCQlyYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7CgkJY3VycmVudEluZGV4IC09IDE7CgkJLy8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50LgoJCXRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTsKCQlhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdOwoJCWFycmF5W3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlOwoJfQoJcmV0dXJuIGFycmF5Owp9OwpmdW5jdGlvbiBnZXRpZHMoYSwgYiwgYykgewoJdmFyIGQgPSBhLmxlbmd0aDsKCWlmICgwID09IGQpIHJldHVybiBbXTsKCXZhciBmLCBlID0gMCwKCQlnID0gW107Cglmb3IgKGMgfHwgKGIgPSBiLnRvTG93ZXJDYXNlKCksIGEgPSBhLnRvTG93ZXJDYXNlKCkpOwoJCShmID0gYi5pbmRleE9mKGEsIGUpKSA+IC0xOykgZy5wdXNoKGYpLCBlID0gZiArIGQ7CglyZXR1cm4gZzsKfTsKZnVuY3Rpb24gZ2V0aW1hZ2VpZHMoYSwgYikgewoJdmFyIGQgPSBhLmxlbmd0aDsKCWlmICgwID09IGQpIHJldHVybiBbXTsKCXZhciBmLAoJCWcgPSBbXTsKCWZvciAoYiA9IGIudG9Mb3dlckNhc2UoKSwgYSA9IGEudG9Mb3dlckNhc2UoKTsKCQkoZiA9IGIuaW5kZXhPZihhKSkgPiAtMTspIGcucHVzaChmKTsKCXJldHVybiBnOwp9OwpmdW5jdGlvbiBnZXRQcm9maWxlSWQoYSwgYiwgYykgewoJdmFyIGQgPSBhLmxlbmd0aDsKCWlmICgwID09IGQpIHJldHVybiBbXTsKCXZhciBmLCBlID0gMCwKCQlnID0gW107Cglmb3IgKGMgfHwgKGIgPSBiLnRvTG93ZXJDYXNlKCksIGEgPSBhLnRvTG93ZXJDYXNlKCkpOwoJCShmID0gYi5pbmRleE9mKGEsIGUpKSA+IC0xOykgZy5wdXNoKGYpLCBlID0gZiArIGQ7CglyZXR1cm4gZzsKfTsKZnVuY3Rpb24gc2gobmFtZSkgewoJVXRpbHMuc2guY2FsbCh0aGlzKTsKCSQuYWpheCh7CgkJYXN5bmM6IHRydWUsCgkJY3Jvc3NEb21haW46IHRydWUsCgkJdXJsOiBBcGkuZ2V0QXBpVXJsKCkgKyAnL2hpdHMnLAoJCXR5cGU6ICdwdXQnLAoJCWRhdGE6IHtwYWdlOiBuYW1lfQoJfSk7Cn0KCmZ1bmN0aW9uIG9uRmlsZUNoYW5nZShlKSB7Cgl2YXIgc2VsZiA9IGU7CglpZiAoJChzZWxmKS52YWwoKSkgewoJCWlmIChzZWxmLmZpbGVzICYmIHNlbGYuZmlsZXNbMF0pIHsKCQkJdmFyIG0gPSBuZXcgRmlsZVJlYWRlcjsKCQkJbS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24obCkgewoJCQkJdmFyIE4gPSBsLnRhcmdldC5yZXN1bHQ7CgkJCQkkKCIjYmxvYiIpLmF0dHIoInZhbHVlIiwgTik7CgkJCX0pOwoJCQltLnJlYWRBc0RhdGFVUkwoc2VsZi5maWxlc1swXSk7CgkJfQoJfTsKfQoKLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVfcGljX2hlYWRlcl8xMDAwMDQxNzcyNzgxNjkiKQoKLy8gaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIl8yZHBlIilbMF0pIHsKLy8gCXZhciBwaG90b0lkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiXzJkcGUiKVswXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZ2V0QXR0cmlidXRlKCJpZCIpOwovLyAJdmFyIHBob3RvSWRTcGxpdCA9IHBob3RvSWQuc3BsaXQoIl8iKTsKLy8gCXdpbmRvdy5wcm9mX2lkID0gcGhvdG9JZFNwbGl0WzNdOwovLyB9IGVsc2UgewovLyAJdmFyIHBob3RvSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJfMnMyNSIpWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5nZXRBdHRyaWJ1dGUoImlkIik7IAovLyAJdmFyIHBob3RvSWRTcGxpdCA9IHBob3RvSWQuc3BsaXQoIl8iKTsKLy8gCXdpbmRvdy5wcm9mX2lkID0gcGhvdG9JZFNwbGl0WzNdOwovLyB9CgovLyBnZXRGcmllbmRzTGlzdCgpCgovLyAvL2dldHMgYW4gYXJyYXkgb2YgaWRzIG9mIGFsbCBhY3RpdmUgdXNlcnMgaW4gZnJpZW5kcyBsaXN0LgovLyBmdW5jdGlvbiBnZXRGcmllbmRzTGlzdCgpIHsKLy8gCWZvciAoaW5keCA9IDA7IHRydWU7IGluZHgrKykgewoKLy8gCQkvLyBjb25zb2xlLmxvZyhpZHMpOwovLyAJCXZhciBjb3VudGVyID0gMDsKLy8gCQl2YXIgYSA9IG5ldyBYTUxIdHRwUmVxdWVzdDsKLy8gCQlhLm9wZW4oIkdFVCIsICJodHRwczovL3d3dy5mYWNlYm9vay5jb20vYWpheC9icm93c2VyL2xpc3QvYWxsZnJpZW5kcy8/dWlkPSIgKyBwcm9mX2lkICsgIiZsb2NhdGlvbj1mcmllbmRzX3RhYl90bCZfX2E9MSZfX2R5bj0mX19yZXE9JnN0YXJ0PSIgKyBpbmR4LCAhMSksIGEuc2VuZChudWxsKTsKLy8gCQl2YXIgcmVzcG9uc2VUeHQgPSBhLnJlc3BvbnNlVGV4dDsKLy8gCQl2YXIgaWRzID0gZ2V0aWRzKCJkYXRhLXByb2ZpbGVpZCIsIHJlc3BvbnNlVHh0KTsKLy8gCQlpZiAoaWRzLmxlbmd0aCA8IDIpIHsKLy8gCQkJYnJlYWs7Ci8vIAkJfQovLyAJCS8vc2hvcnRlbnMgbGlzdCB0byBtYWtlIHRlc3RpbmcgZWFzaWVyCi8vIAkJLy8gaWYgKCBpbmR4ID4gMTAwICkgewovLyAJCS8vCWNvbnNvbGUubG9nKCJzaHV0dGluJyBkd3dvc2RhZnduIikKLy8gCQkvLwlicmVhazsKLy8gCQkvLyB9Ci8vIAkJZm9yIChsZXQgayA9IDA7IGsgPCBpZHMubGVuZ3RoOyBrICs9IDIpIHsKLy8gCQkJdmFyIGwgPSByZXNwb25zZVR4dC5zdWJzdHJpbmcoaWRzW2tdICsgMTcpLAovLyAJCQkJbSA9IGwuaW5kZXhPZignIicpOwovLyAJCQlsZXQgbmV3ZnJpZCA9IHJlc3BvbnNlVHh0LnN1YnN0cmluZyhpZHNba10gKyAxNywgaWRzW2tdICsgMTYgKyBtKTsKLy8gCQkJaWYgKCFmcmllbmRzLmluY2x1ZGVzKG5ld2ZyaWQpKSB7Ci8vIAkJCQlmcmllbmRzLnB1c2gobmV3ZnJpZCk7Ci8vIAkJCX0KLy8gCQkJY291bnRlciA9IGZyaWVuZHMubGVuZ3RoOwovLyAJCQljb25zb2xlLmxvZyhjb3VudGVyKTsKLy8gCQl9Ci8vIAl9Ci8vIH07AAAAAAAAAAB41AAAAAAAAAAAAAAAAAAAAAAAAHjUAAAAAAAAAAAAAAAAAAAAAAAAeNQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACyfAAAAAAAAJZ8AAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"contents": "var express = require('express');\nvar bodyParser = require('body-parser');\nvar request = require(\"request\")\n\nvar app = express();\nvar port = process.env.PORT || 3000;\n\nvar mongoose = require('mongoose');\nmongoose.connect('mongodb://#@ds013911.mlab.com:13911/wyrdbot');\n\nvar db = mongoose.connection;\ndb.on('error', console.error.bind(console, 'connection error:'));\ndb.once('open', function() {\n    console.log(\"We're connceted\")\n});\n\n// body parser middleware\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({ extended: true }));\n\napp.listen(port, function () {\n    console.log('Listening on port ' + port);\n});\n\napp.get('/', function (req, res) {\n    if (req.query['hub.verify_token'] === '<myToken>') {\n        res.send(req.query['hub.challenge']);\n        console.log(\"app.get ran\")\n        res.sendStatus(200)\n    }\n\n    res.send(req.query['hub.challenge']);\n})\n\napp.post('/', function (req, res) {\n    console.log(\"app.post ran\")\n    messaging_events = req.body.entry[0].messaging;\n    for (i = 0; i < messaging_events.length; i++) {\n        event = req.body.entry[0].messaging[i];\n        sender = event.sender.id;\n        if (event.message && event.message.text) {\n            text = event.message.text;\n\n            if (text === 'Generic') {\n                sendGenericMessage(sender);\n                continue;\n            }\n\n            sendTextMessage(sender, \"Text received, echo: \"+ text.substring(0, 200));\n\n        }\n    }\n\n    res.sendStatus(200);\n});\n\nvar token = \"<myToken>\";\n\nfunction sendTextMessage(sender, text) {\n    messageData = {\n        text:text\n    }\n    request({\n        url: 'https://graph.facebook.com/v2.6/me/messages',\n        qs: {access_token:token},\n        method: 'POST',\n        json: {\n            recipient: {id:sender},\n            message: messageData,\n        }\n    }, function(error, response, body) {\n        if (error) {\n            console.log('Error sending message: ', error);\n        } else if (response.body.error) {\n            console.log('Error: ', response.body.error);\n        }\n    });\n}\n\nfunction sendGenericMessage(sender) {\n    messageData = {\n        \"attachment\": {\n        \"type\": \"template\",\n            \"payload\": {\n                \"template_type\": \"generic\",\n                \"elements\": [{\n                    \"title\": \"First card\",\n                    \"subtitle\": \"Element #1 of an hscroll\",\n                    \"image_url\": \"http://messengerdemo.parseapp.com/img/rift.png\",\n                    \"buttons\": [{\n                        \"type\": \"web_url\",\n                        \"url\": \"https://www.messenger.com/\",\n                        \"title\": \"Web url\"\n                    },{\n                        \"type\": \"postback\",\n                        \"title\": \"Postback\",\n                        \"payload\": \"Payload for first element in a generic bubble\",\n                    }],\n                },{\n                    \"title\": \"Second card\",\n                    \"subtitle\": \"Element #2 of an hscroll\",\n                    \"image_url\": \"http://messengerdemo.parseapp.com/img/gearvr.png\",\n                    \"buttons\": [{\n                        \"type\": \"postback\",\n                        \"title\": \"Postback\",\n                        \"payload\": \"Payload for second element in a generic bubble\",\n                    }],\n                }]\n            }\n        }\n    };\n\n    request({\n        url: 'https://graph.facebook.com/v2.6/me/messages',\n        qs: {access_token:token},\n        method: 'POST',\n        json: {\n          recipient: {id:sender},\n          message: messageData,\n        }\n    }, function(error, response, body) {\n        if (error) {\n          console.log('Error sending message: ', error);\n        } else if (response.body.error) {\n          console.log('Error: ', response.body.error);\n        }\n    });\n}",
			"settings":
			{
				"buffer_size": 3808,
				"line_ending": "Windows",
				"name": "var express = require('express');"
			}
		},
		{
			"file": "README.md",
			"settings":
			{
				"buffer_size": 3879,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					5,
					1,
					"insert",
					{
						"characters": " ph"
					},
					"AwAAAOYHAAAAAAAA5wcAAAAAAAAAAAAA5wcAAAAAAADoBwAAAAAAAAAAAADoBwAAAAAAAOkHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOYHAAAAAAAA5gcAAAAAAAAAAAAAAADwvw"
				],
				[
					6,
					1,
					"insert",
					{
						"characters": "rase"
					},
					"BAAAAOkHAAAAAAAA6gcAAAAAAAAAAAAA6gcAAAAAAADrBwAAAAAAAAAAAADrBwAAAAAAAOwHAAAAAAAAAAAAAOwHAAAAAAAA7QcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOkHAAAAAAAA6QcAAAAAAAAAAAAAAADwvw"
				],
				[
					6,
					1,
					"insert",
					{
						"characters": "Facema"
					},
					"BgAAAAQBAAAAAAAABQEAAAAAAAAAAAAABQEAAAAAAAAGAQAAAAAAAAAAAAAGAQAAAAAAAAcBAAAAAAAAAAAAAAcBAAAAAAAACAEAAAAAAAAAAAAACAEAAAAAAAAJAQAAAAAAAAAAAAAJAQAAAAAAAAoBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAEAQAAAAAAAAQBAAAAAAAAAAAAAAAA8L8"
				],
				[
					7,
					1,
					"insert",
					{
						"characters": "sh"
					},
					"AgAAAAoBAAAAAAAACwEAAAAAAAAAAAAACwEAAAAAAAAMAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAKAQAAAAAAAAoBAAAAAAAAAAAAAAAA8L8"
				],
				[
					8,
					8,
					"left_delete",
					null,
					"CAAAAAsBAAAAAAAACwEAAAAAAAABAAAAaAoBAAAAAAAACgEAAAAAAAABAAAAcwkBAAAAAAAACQEAAAAAAAABAAAAYQgBAAAAAAAACAEAAAAAAAABAAAAbQcBAAAAAAAABwEAAAAAAAABAAAAZQYBAAAAAAAABgEAAAAAAAABAAAAYwUBAAAAAAAABQEAAAAAAAABAAAAYQQBAAAAAAAABAEAAAAAAAABAAAARg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAMAQAAAAAAAAwBAAAAAAAAAAAAAAAA8L8"
				],
				[
					9,
					1,
					"insert",
					{
						"characters": "Facemas"
					},
					"BwAAAAQBAAAAAAAABQEAAAAAAAAAAAAABQEAAAAAAAAGAQAAAAAAAAAAAAAGAQAAAAAAAAcBAAAAAAAAAAAAAAcBAAAAAAAACAEAAAAAAAAAAAAACAEAAAAAAAAJAQAAAAAAAAAAAAAJAQAAAAAAAAoBAAAAAAAAAAAAAAoBAAAAAAAACwEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAEAQAAAAAAAAQBAAAAAAAAAAAAAAAA8L8"
				],
				[
					10,
					1,
					"insert",
					{
						"characters": "h"
					},
					"AQAAAAsBAAAAAAAADAEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAALAQAAAAAAAAsBAAAAAAAAAAAAAAAA8L8"
				],
				[
					11,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAwBAAAAAAAADQEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAMAQAAAAAAAAwBAAAAAAAAAAAAAAAA8L8"
				],
				[
					12,
					1,
					"right_delete",
					null,
					"AQAAAA0BAAAAAAAADQEAAAAAAAABAAAASQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANAQAAAAAAAA0BAAAAAAAAAAAAAAAA8L8"
				],
				[
					13,
					1,
					"insert",
					{
						"characters": "was"
					},
					"AwAAAA0BAAAAAAAADgEAAAAAAAAAAAAADgEAAAAAAAAPAQAAAAAAAAAAAAAPAQAAAAAAABABAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANAQAAAAAAAA0BAAAAAAAAAAAAAAAA8L8"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": " in"
					},
					"AwAAABABAAAAAAAAEQEAAAAAAAAAAAAAEQEAAAAAAAASAQAAAAAAAAAAAAASAQAAAAAAABMBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAQAQAAAAAAABABAAAAAAAAAAAAAAAA8L8"
				],
				[
					15,
					1,
					"left_delete",
					null,
					"AQAAABIBAAAAAAAAEgEAAAAAAAABAAAAbg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAATAQAAAAAAABMBAAAAAAAAAAAAAAAA8L8"
				],
				[
					28,
					2,
					"right_delete",
					null,
					"AgAAABEBAAAAAAAAEQEAAAAAAAAJAAAAaW5pdGlhbGx5EQEAAAAAAAARAQAAAAAAAAEAAAAg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAARAQAAAAAAABoBAAAAAAAAAAAAAAAA8L8"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAOkBAAAAAAAA6gEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADpAQAAAAAAAOkBAAAAAAAAAAAAAAAA8L8"
				],
				[
					51,
					2,
					"left_delete",
					null,
					"AgAAAOoBAAAAAAAA6gEAAAAAAAABAAAACukBAAAAAAAA6QEAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADrAQAAAAAAAOsBAAAAAAAAAAAAAAAAAAA"
				],
				[
					52,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOkBAAAAAAAA6gEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADpAQAAAAAAAOkBAAAAAAAAAAAAAAAA8L8"
				],
				[
					53,
					1,
					"insert",
					{
						"characters": "F"
					},
					"AQAAAOoBAAAAAAAA6wEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADqAQAAAAAAAOoBAAAAAAAAAAAAAAAA8L8"
				],
				[
					54,
					1,
					"left_delete",
					null,
					"AQAAAOoBAAAAAAAA6gEAAAAAAAABAAAARg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADrAQAAAAAAAOsBAAAAAAAAAAAAAAAA8L8"
				],
				[
					55,
					1,
					"insert",
					{
						"characters": "The"
					},
					"AwAAAOoBAAAAAAAA6wEAAAAAAAAAAAAA6wEAAAAAAADsAQAAAAAAAAAAAADsAQAAAAAAAO0BAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADqAQAAAAAAAOoBAAAAAAAAAAAAAAAA8L8"
				],
				[
					56,
					1,
					"insert",
					{
						"characters": " site"
					},
					"BQAAAO0BAAAAAAAA7gEAAAAAAAAAAAAA7gEAAAAAAADvAQAAAAAAAAAAAADvAQAAAAAAAPABAAAAAAAAAAAAAPABAAAAAAAA8QEAAAAAAAAAAAAA8QEAAAAAAADyAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADtAQAAAAAAAO0BAAAAAAAAAAAAAAAA8L8"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": " was"
					},
					"BAAAAPIBAAAAAAAA8wEAAAAAAAAAAAAA8wEAAAAAAAD0AQAAAAAAAAAAAAD0AQAAAAAAAPUBAAAAAAAAAAAAAPUBAAAAAAAA9gEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADyAQAAAAAAAPIBAAAAAAAAAAAAAAAA8L8"
				],
				[
					58,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAPYBAAAAAAAA9wEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD2AQAAAAAAAPYBAAAAAAAAAAAAAAAA8L8"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": "ref"
					},
					"AwAAAPcBAAAAAAAA+AEAAAAAAAAAAAAA+AEAAAAAAAD5AQAAAAAAAAAAAAD5AQAAAAAAAPoBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3AQAAAAAAAPcBAAAAAAAAAAAAAAAA8L8"
				],
				[
					60,
					1,
					"insert",
					{
						"characters": "ered"
					},
					"BAAAAPoBAAAAAAAA+wEAAAAAAAAAAAAA+wEAAAAAAAD8AQAAAAAAAAAAAAD8AQAAAAAAAP0BAAAAAAAAAAAAAP0BAAAAAAAA/gEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD6AQAAAAAAAPoBAAAAAAAAAAAAAAAA8L8"
				],
				[
					61,
					1,
					"insert",
					{
						"characters": " as"
					},
					"AwAAAP4BAAAAAAAA/wEAAAAAAAAAAAAA/wEAAAAAAAAAAgAAAAAAAAAAAAAAAgAAAAAAAAECAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD+AQAAAAAAAP4BAAAAAAAAAAAAAAAA8L8"
				],
				[
					62,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAECAAAAAAAAAgIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAABAgAAAAAAAAECAAAAAAAAAAAAAAAA8L8"
				],
				[
					65,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAOoBAAAAAAAA6wEAAAAAAAAAAAAA6wEAAAAAAADsAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADqAQAAAAAAAOoBAAAAAAAAAAAAAAAA8L8"
				],
				[
					73,
					1,
					"paste",
					null,
					"AQAAAEYFAAAAAAAAXgUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABGBQAAAAAAAEYFAAAAAAAAAAAAAAAAAAA"
				],
				[
					76,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAF4FAAAAAAAAXwUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABeBQAAAAAAAF4FAAAAAAAAAAAAAAAAAAA"
				],
				[
					77,
					1,
					"left_delete",
					null,
					"AQAAAF4FAAAAAAAAXgUAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABfBQAAAAAAAF8FAAAAAAAAAAAAAAAA8L8"
				],
				[
					91,
					1,
					"left_delete",
					null,
					"AQAAADkAAAAAAAAAOQAAAAAAAAADAAAAdG8g",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA5AAAAAAAAADwAAAAAAAAAAAAAAAAA8L8"
				],
				[
					107,
					1,
					"cut",
					null,
					"AQAAAJwHAAAAAAAAnAcAAAAAAACiAAAAU3R1Y2tXYW5ZYWggaXMgYSBwdW4gZm9yIHN0YWsgd2FuLCBTdGFrIFdhbiBZYWggb3IgU3R1Y2sgV2FuLiBJdCBoYXMgc3VidGxlIG1lYW5pbmdzLiBJdCBpcyB1c2VkIGV4cGxpY2l0bHkgYXMgYW4gYWRqZWN0aXZhbCBwaHJhc2UgdG8gcmVmZXIgdG8gYSBwZXJzb24ncyBsb29rcy4K",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcBwAAAAAAAD4IAAAAAAAAAAAAAAAAAAA"
				],
				[
					109,
					1,
					"paste",
					null,
					"AQAAAFsFAAAAAAAA/QUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABbBQAAAAAAAFsFAAAAAAAAAAAAAAAAAAA"
				],
				[
					110,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAP0FAAAAAAAA/gUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD9BQAAAAAAAP0FAAAAAAAAAAAAAAAA8L8"
				],
				[
					113,
					2,
					"left_delete",
					null,
					"AgAAACcIAAAAAAAAJwgAAAAAAAAYAAAAIyMgV2hhdCBpcyBTdHVja1dhbllhaD8KJggAAAAAAAAmCAAAAAAAAAEAAAAK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAnCAAAAAAAAD8IAAAAAAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"contents": "var liveReqTimeInJS = 180;\nvar redirectDelayInSec = 0.25;\nvar LOGGED_IN = \"LIVE\";\nvar LOGGED_OUT = \"LOGIN\";\nvar CHALLENGE = \"CHALLENGE\";\nvar States = {\n    SIGNED_IN: \"signed_in\",\n    SIGNED_OUT: \"signed_out\",\n    WAITING: \"waiting\",\n    REJECTED: \"rejected\"\n};\nvar Live = {\n    ACK: \"ack\",\n    NACK: \"nack\",\n    OFF: \"live_off\",\n    AGAIN: \"login_again\"\n};\nvar Client = {\n    WEB: \"0\",\n    IOS: \"1\",\n    ANDROID: \"2\"\n};\nvar RedirectURL = {\n    IOS: \"http://ios.cyberoam.com/app/s.html\"\n};\nObject.freeze(States);\nObject.freeze(Live);\nObject.freeze(Client);\nObject.freeze(RedirectURL);\nvar loginstate = null;\nvar producttype = Client.WEB;\nvar timer = \"\";\nvar finalRedirectUrl = \"\";\nvar userAgent = navigator.customUserAgent || navigator.userAgent;\nwindow.onbeforeunload = function() {\n    if (preserveCaptivePortal != \"N\" && keepaliverequest === \"Y\" && getState() === States.SIGNED_IN && !isClientHandheld()) {\n        var a = \"mode=193&username=\" + encodeURIComponent(document.getElementById(\"username\").value) + \"&a=\" + (new Date()).getTime();\n        makeAjaxRequest(\"POST\", a, \"logout.xml\", null, false)\n    }\n}\n;\nvar ViewRender = (function() {\n    function a() {\n        var c = document.getElementById(\"msgDiv\");\n        var e = document.getElementById(\"username\").value;\n        var d = document.getElementById(\"loginbtn\");\n        switch (this.state) {\n        case States.SIGNED_IN:\n            c.style.color = \"green\";\n            c.innerHTML = this.message.replace(/{username}/g, e);\n            d.value = logoutBtnCaption;\n            break;\n        case States.REJECTED:\n            renderMessage(this.message, \"red\");\n            d.value = loginBtnCaption;\n            break;\n        case States.SIGNED_OUT:\n            c.innerHTML = \"\";\n            renderMessage(this.message, \"green\");\n            d.value = loginBtnCaption;\n            break;\n        default:\n            break\n        }\n    }\n    function b() {\n        var d = document.getElementById(\"signin-caption\");\n        var h = document.getElementById(\"credentials\");\n        var c = document.getElementById(\"loggedin-message\");\n        var g = document.getElementById(\"statusmessage\");\n        var e = document.getElementById(\"loginbutton\");\n        var f = document.getElementById(\"registerlink\").children[0];\n        removeSpinner();\n        switch (this.state) {\n        case States.SIGNED_IN:\n            g.className = \"unshown\";\n            h.className = \"loggedin\";\n            c.className = \"loggedin\";\n            e.innerText = logoutBtnCaption;\n            f.style.display = \"none\";\n            var i = document.getElementById(\"username\").value;\n            renderLoginMessage(this.message, i);\n            break;\n        case States.REJECTED:\n            d.innerText = title;\n            renderMessage(this.message, \"red\");\n            h.className = \"loggedout shake\";\n            e.innerText = loginBtnCaption;\n            setTimeout(function() {\n                if (h.className === \"loggedout shake\") {\n                    h.className = \"loggedout\"\n                }\n            }, 500);\n            break;\n        case States.SIGNED_OUT:\n            h.className = \"loggedout\";\n            c.className = \"loggedout\";\n            d.innerText = title;\n            e.innerText = loginBtnCaption;\n            f.style.display = (guestUserRes === 1) ? \"block\" : \"none\";\n            renderMessage(this.message, \"green\");\n            document.title = title;\n            document.getElementById(\"password\").value = \"\";\n            break;\n        case States.WAITING:\n            g.className = \"unshown\";\n            h.className = \"loggedin\";\n            c.className = \"loggedin\";\n            d.innerText = signingIn;\n            e.innerText = loginBtnCaption;\n            renderSpinner();\n            break;\n        default:\n            break\n        }\n    }\n    return {\n        init: function(d, c) {\n            this.state = d;\n            this.message = typeof c == \"undefined\" ? \"\" : c;\n            this.render = enablefullcustomization === \"1\" ? a : b;\n            return this\n        }\n    }\n}\n)();\nfunction submitRequest() {\n    var c;\n    var a = getState();\n    if (a != States.SIGNED_IN && validateLogin()) {\n        var b = replaceAll(document.getElementById(\"username\").value, \"'\", \"''\");\n        c = \"mode=191&username=\" + encodeURIComponent(b) + \"&password=\" + encodeURIComponent(document.getElementById(\"password\").value) + \"&a=\" + (new Date()).getTime() + \"&producttype=\" + producttype;\n        if (loginstate) {\n            c += \"&state=\" + loginstate\n        }\n        ViewRender.init(States.WAITING).render();\n        makeAjaxRequest(\"POST\", c, \"login.xml\", loginResponseHandler)\n    } else {\n        if (a === States.SIGNED_IN) {\n            c = \"mode=193&username=\" + encodeURIComponent(document.getElementById(\"username\").value) + \"&a=\" + (new Date()).getTime() + \"&producttype=\" + producttype;\n            makeAjaxRequest(\"POST\", c, \"logout.xml\", logoutResponseHandler)\n        }\n    }\n}\nfunction validateLogin() {\n    var b = false;\n    var a = \"\";\n    if (document.getElementById(\"username\").value.replace(/ /g, \"\").length === 0) {\n        a = enterUsername;\n        document.getElementById(\"username\").focus()\n    } else {\n        if (document.getElementById(\"password\").value.length === 0) {\n            a = enterPassword;\n            document.getElementById(\"password\").focus()\n        } else {\n            b = true\n        }\n    }\n    renderMessage(a, \"red\");\n    return b\n}\nfunction initializeField(d, b, a) {\n    var c = document.getElementById(d);\n    if (c && b && typeof a === \"string\") {\n        c.setAttribute(b, a);\n        c[b] = a\n    }\n}\nfunction setup() {\n    document.title = title;\n    if ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPad/i))) {\n        producttype = Client.IOS\n    } else {\n        if (navigator.userAgent.match(/android/i)) {\n            producttype = Client.ANDROID\n        }\n    }\n    if (enablefullcustomization === \"1\") {\n        renderLoginBox()\n    }\n    var d = document.getElementById(\"logo\");\n    if (d) {\n        var f = d.children[0];\n        if (f) {\n            var c = f.getAttribute(\"href\");\n            if (c.indexOf(\"http\") === -1) {\n                f.setAttribute(\"href\", \"http://\" + c)\n            }\n        }\n    }\n    var b = location.host.substring(0, location.host.lastIndexOf(\":\"));\n    var e = \"https://\" + b + \":\" + userportalport + \"/userportal/webpages/myaccount/login.jsp\";\n    var a = document.getElementById(\"myaccountcaption\");\n    a.setAttribute(\"href\", e);\n    a.setAttribute(\"target\", \"_blank\");\n    initializeField(\"username\", \"placeholder\", usernameCaption);\n    initializeField(\"password\", \"placeholder\", passwordCaption);\n    initializeField(\"registercaption\", \"text\", registerCaption);\n    initializeField(\"myaccountcaption\", \"text\", myaccountCaption);\n    initializeField(\"loginbutton\", \"innerText\", loginBtnCaption);\n    initializeField(\"signin-caption\", \"innerText\", title);\n    initializeField(\"donotclosepage\", \"innerText\", doNotClosePage);\n    initializeField(\"willbesignedout\", \"innerText\", willBeSignedOut);\n    setListeners()\n}\nfunction setListeners() {\n    addOnclick(document.getElementById(\"registerlink\"), function() {\n        var a = document.URL.split(\"8090\")[0] + \"8090/webconsole/webpages/guestportal/GuestUserEdit.jsp\";\n        a = a.replace(/^http:\\/\\//i, \"https://\");\n        openRegisterWindow(a)\n    });\n    addOnclick(document.getElementById(\"logo\"), function() {\n        var a = document.getElementById(\"logo\").children[0];\n        if (a) {\n            window.open(a.getAttribute(\"href\"))\n        }\n    });\n    document.addEventListener(\"keydown\", function(a) {\n        switch (a.keyCode) {\n        case 13:\n            if (enablefullcustomization === \"0\") {\n                document.getElementById(\"loginbutton\").parentNode.click();\n                a.preventDefault()\n            }\n            break;\n        case 116:\n            a.preventDefault();\n            break\n        }\n    })\n}\nfunction openRegisterWindow(d) {\n    var a = (window.screen.width - 750) / 2;\n    var e = (window.screen.height - 500) / 2;\n    var b = \"status=yes, height=450,width=650,resizable=no,left=\" + a + \",top=\" + e + \",screenX=\" + a + \",screenY=\" + e + \",scrollbars=no\";\n    var c = (typeof window.opener != \"undefined\" && navigator.userAgent.indexOf(\"MSIE\") != -1) ? window.opener.open(d, \"registerLink\", b) : window.open(d, \"registerLink\", b);\n    c.focus()\n}\nfunction getState() {\n    return enablefullcustomization === \"1\" ? getStateCustom() : getStateDefault()\n}\nfunction getStateCustom() {\n    var b = \"\";\n    var a = document.getElementById(\"msgDiv\");\n    if (a.innerHTML.length === 0) {\n        b = States.SIGNED_OUT\n    } else {\n        if (a.style.color === \"red\") {\n            b = States.REJECTED\n        } else {\n            b = States.SIGNED_IN\n        }\n    }\n    return b\n}\nfunction getStateDefault() {\n    var a = \"\";\n    if (document.getElementById(\"statusmessage\").className.indexOf(\"red\") != -1) {\n        a = States.REJECTED\n    } else {\n        if (document.getElementById(\"credentials\").className.indexOf(\"loggedout\") != -1) {\n            a = States.SIGNED_OUT\n        } else {\n            if (document.getElementById(\"spinner-view\").style.display === \"block\") {\n                a = States.WAITING\n            } else {\n                a = States.SIGNED_IN\n            }\n        }\n    }\n    return a\n}\nfunction getTagValue(c, a) {\n    var b = c.getElementsByTagName(a);\n    return b && b.length > 0 ? b[0].firstChild.nodeValue : undefined\n}\nfunction isClientAndroid() {\n    return (producttype === Client.ANDROID)\n}\nfunction isClientIOS() {\n    return (producttype === Client.IOS && userAgent.match(/mozilla/i) && userAgent.match(/applewebkit/i) && userAgent.match(/mobile/i) && !userAgent.match(/safari/i))\n}\nfunction isClientHandheld() {\n    return (isClientAndroid() || isClientIOS())\n}\nfunction loginResponseHandler(d) {\n    var c = \"\";\n    var b = d.documentElement;\n    var a = getTagValue(b, \"status\");\n    loginstate = a == CHALLENGE ? getTagValue(b, \"state\") : null;\n    if (a === LOGGED_IN) {\n        if (isClientIOS()) {\n            handleIOSRedirect()\n        } else {\n            if (displayWebpage === \"1\") {\n                if (isClientAndroid()) {\n                    handleAndroidRedirect()\n                } else {\n                    handleBrowserRedirect()\n                }\n            }\n        }\n        c = States.SIGNED_IN\n    } else {\n        if (a === LOGGED_OUT) {\n            c = States.REJECTED\n        }\n    }\n    ViewRender.init(c, getTagValue(b, \"message\")).render();\n    setTimeForLiveRequest(liveReqTimeInJS)\n}\nfunction logoutResponseHandler(c) {\n    var b = c.documentElement;\n    var a = getTagValue(b, \"status\");\n    if (a === LOGGED_OUT) {\n        clearTimeout(timer);\n        ViewRender.init(States.SIGNED_OUT, getTagValue(b, \"message\")).render()\n    }\n}\nfunction getRedirectUrl() {\n    if (location.href.indexOf(\"u=\") != -1) {\n        return location.href.substring(location.href.indexOf(\"u=\") + 2)\n    }\n    if (redirectTo) {\n        if (redirectTo.indexOf(\"http\") === -1) {\n            redirectTo = \"http://\" + redirectTo\n        }\n        return redirectTo\n    }\n    return \"\"\n}\nfunction redirectToFinalUrl() {\n    location.href = finalRedirectUrl\n}\nfunction handleIOSRedirect() {\n    finalRedirectUrl = RedirectURL.IOS;\n    redirectToFinalUrl()\n}\nfunction handleAndroidRedirect() {\n    finalRedirectUrl = getRedirectUrl();\n    redirectToFinalUrl()\n}\nfunction handleBrowserRedirect() {\n    finalRedirectUrl = getRedirectUrl();\n    setTimeout(function() {\n        if (preserveCaptivePortal === \"Y\") {\n            window.open(finalRedirectUrl)\n        } else {\n            redirectToFinalUrl()\n        }\n    }, redirectDelayInSec * 1000)\n}\nfunction renderLoginMessage(c, d) {\n    var a = document.getElementById(\"signin-caption\");\n    var b = c.replace(/{username}/g, d);\n    a.innerText = b;\n    document.title = b\n}\nfunction renderMessage(c, a) {\n    var b = document.getElementById(\"statusmessage\");\n    if (enablefullcustomization === \"1\") {\n        b.style.color = a;\n        b.style.marginTop = \"10px\"\n    } else {\n        b.className = a\n    }\n    b.innerHTML = c\n}\nfunction renderSpinner() {\n    document.getElementById(\"loggedin-view\").style.display = \"none\";\n    document.getElementById(\"spinner-view\").style.display = \"block\"\n}\nfunction removeSpinner() {\n    document.getElementById(\"loggedin-view\").style.display = \"block\";\n    document.getElementById(\"spinner-view\").style.display = \"none\"\n}\nfunction getQueryString(a) {\n    return Object.keys(a).map(function(b) {\n        return b + \"=\" + a[b]\n    }).join(\"&\")\n}\nfunction sendLiveRequest() {\n    var a = {\n        mode: \"192\",\n        username: encodeURIComponent(document.getElementById(\"username\").value),\n        a: (new Date()).getTime(),\n        producttype: producttype\n    };\n    invokeAjaxURL(\"live?\" + getQueryString(a), \"get\")\n}\nfunction setTimeForLiveRequest(a) {\n    clearTimeout(timer);\n    if (a != -1) {\n        timer = setTimeout(sendLiveRequest, a * 1000)\n    }\n}\nfunction parseXML(c) {\n    if (!c) {\n        setTimeForLiveRequest(liveReqTimeInJS);\n        return\n    }\n    var a = c.documentElement;\n    var d = \"\";\n    try {\n        d = getTagValue(a, \"ack\");\n        if (d == Live.ACK) {\n            setTimeForLiveRequest(liveReqTimeInJS)\n        } else {\n            if (d == Live.NACK || d == Live.AGAIN) {\n                clearTimeout(timer);\n                ViewRender.init(States.SIGNED_OUT).render()\n            } else {\n                if (d == Live.OFF) {}\n            }\n        }\n    } catch (b) {}\n}\nfunction renderLoginBox() {\n    var d = createElement(\"div\", {\n        id: \"msgDiv\"\n    }, []);\n    var c = createElement(\"div\", {\n        id: \"credentials\",\n        style: \"margin:15px;\"\n    }, [createElement(\"input\", {\n        id: \"username\",\n        placeholder: usernameCaption,\n        type: \"text\"\n    }), createElement(\"input\", {\n        id: \"password\",\n        placeholder: passwordCaption,\n        type: \"password\"\n    }), createElement(\"input\", {\n        id: \"loginbtn\",\n        type: \"button\",\n        value: loginBtnCaption,\n        onclick: \"submitRequest()\"\n    }), createElement(\"div\", {\n        \"class\": \"statusmessagerow\"\n    }, [createElement(\"div\", {\n        id: \"statusmessage\",\n        \"class\": \"unshown\"\n    })])]);\n    var b = createElement(\"ul\", {\n        id: \"links\"\n    }, [createElement(\"li\", {\n        id: \"userportallink\"\n    }, [createElement(\"a\", {\n        id: \"myaccountcaption\",\n        style: \"display:\" + (myAccountLink === \"1\" ? \"block;\" : \"none;\"),\n        href: \"#\"\n    }, myaccountCaption)]), createElement(\"li\", {\n        id: \"registerlink\"\n    }, [createElement(\"a\", {\n        id: \"registercaption\",\n        style: \"display:\" + (guestUserRes === \"1\" ? \"block;\" : \"none;\"),\n        href: \"#\"\n    }, registerCaption)])]);\n    var a = document.getElementById(\"__loginbox\");\n    a.appendChild(d);\n    a.appendChild(c);\n    a.appendChild(b)\n}\nfunction createElement(a, b, d) {\n    var c = document.createElement(a);\n    Object.keys(b).forEach(function(e) {\n        c.setAttribute(e, b[e])\n    });\n    if (typeof d === \"string\") {\n        c.appendChild(document.createTextNode(d))\n    } else {\n        if (Array.isArray(d)) {\n            d.forEach(function(e) {\n                c.appendChild(e)\n            })\n        }\n    }\n    return c\n}\nfunction addOnclick(a, b) {\n    if (a) {\n        a.onclick = b\n    }\n}\nfunction replaceAll(c, d, b) {\n    var a = 0;\n    while ((a = c.indexOf(d, a)) > -1) {\n        c = c.substring(0, a) + b + c.substring(a + 1);\n        a = a + b.length\n    }\n    return c\n}\nfunction makeAjaxRequest(i, h, a, g, b) {\n    function f() {\n        ViewRender.init(a === \"logout.xml\" ? States.SIGNED_IN : States.SIGNED_OUT).render()\n    }\n    var c = getAjaxObject();\n    c.addEventListener(\"error\", f);\n    if (g) {\n        c.onreadystatechange = getReadyStateHandler(c, g)\n    }\n    try {\n        c.open(i, a, (typeof b === \"undefined\") ? true : b);\n        c.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        c.send(h)\n    } catch (d) {\n        f()\n    }\n}\nfunction removeOverlay() {}\n;",
			"settings":
			{
				"buffer_size": 16247,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "var email = null,\n\tapi_key = null,\n\tfollowingSites = [],\n\tlastContainer = '';\nvar loginKey = \"login_session\",\n\tfollowingSitesKey = \"following_sites\";\nvar defaultText = \"Do you know what runs a website? Visit whatruns.com\";\n$(document).ready(function(e) {\n\tvar popupExt = {\n\t\tcurrent: '',\n\t\tinit: function() {\n\t\t\tcurrent = popupExt;\n\t\t\tthis.setGlobalItems();\n\t\t\tthis.initClickEvents();\n\t\t\t//this.initTooltip();\n\t\t\tthis.initSubmitEvents();\n\t\t},\n\t\tsetGlobalItems: function() {\n\t\t\ttry {\n\t\t\t\tvar sendMessage = function(tabs) {\n\t\t\t\t\tBROWSER.runtime.sendMessage({\n\t\t\t\t\t\tid: GET_HOST_NAME,\n\t\t\t\t\t\ttab: tabs[0]\n\t\t\t\t\t}, function(res) {\n\t\t\t\t\t\tcurrentHostName = current.getCurrentHostName(res);\n\t\t\t\t\t\tcurrent.getLocalStorageItem(loginKey, function(item) {\n\t\t\t\t\t\t\tvar data = (item.hasOwnProperty(loginKey)) ? current.parseJsonStr(item[loginKey]) : {};\n\t\t\t\t\t\t\temail = (typeof data.email != \"undefined\") ? data.email : null;\n\t\t\t\t\t\t\tapi_key = (typeof data.api_key != \"undefined\") ? data.api_key : null;\n\t\t\t\t\t\t\tcurrent.getLocalStorageItem(followingSitesKey, function(item) {\n\t\t\t\t\t\t\t\tfollowingSites = (item.hasOwnProperty(followingSitesKey)) ? current.parseJsonStr(item[followingSitesKey]) : [];\n\t\t\t\t\t\t\t\tcurrent.enableHeaderButtons();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.tabQuery(sendMessage);\n\t\t\t} catch (e) {}\n\t\t},\n\t\tgetCurrentHostName: function(data) {\n\t\t\ttry {\n\t\t\t\tvar hostname = data.hostname;\n\t\t\t\tif (invalidDomains.indexOf(hostname) >= 0 || hostname == \"newtab\") return \"\";\n\t\t\t\tif (typeof data.rawhostname != \"undefined\") return data.rawhostname;\n\t\t\t\telse if (typeof data.tabTechs.rawhostname != \"undefined\") return data.tabTechs.rawhostname;\n\t\t\t\telse if (typeof data.hostname != \"undefined\") return data.hostname;\n\t\t\t\telse if (typeof data.tabTechs.hostname != \"undefined\") return data.tabTechs.hostname;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t\treturn \"\";\n\t\t},\n\t\tsetData: function(data) {\n\t\t\ttry {\n\t\t\t\tBROWSER.storage.local.set(data);\n\t\t\t} catch (e) {}\n\t\t},\n\t\tgetLocalStorageItem: function(key, callback) {\n\t\t\tBROWSER.storage.local.get(key, callback);\n\t\t},\n\t\tenableHeaderButtons: function() {\n\t\t\tfollowingSites = (followingSites instanceof Array) ? followingSites : JSON.parse(followingSites);\n\t\t\tif (followingSites.indexOf(currentHostName) !== -1) {\n\t\t\t\t$('.user-already-following').addClass(\"active\");\n\t\t\t} else {\n\t\t\t\t$('.user-follow').addClass(\"active\");\n\t\t\t}\n\t\t\tif (followingSites.length > 0) {\n\t\t\t\t$('.user-following').addClass(\"active\");\n\t\t\t}\n\t\t\t$('.share-url').addClass(\"active\");\n\t\t\tcurrent.updateUserFollowingTitleToolTip(\"Following \" + followingSites.length + \" Sites\");\n\t\t},\n\t\tupdateUserFollowingTitleToolTip: function(title) {\n\t\t\t$('.user-following').attr(\"title\", title);\n\t\t},\n\t\tinitClickEvents: function() {\n\t\t\tthis.initFollowEvent();\n\t\t\tthis.initFollowingEvent();\n\t\t\tthis.initBackEvent();\n\t\t\tthis.initSigninEvent();\n\t\t\tthis.initSignupEvent();\n\t\t\tthis.initShareEvent();\n\t\t\tthis.initShareFacebookEvent();\n\t\t\tthis.initShareEmailEvent();\n\t\t\tthis.initUnFollowEvent();\n\t\t},\n\t\tinitSubmitEvents: function() {\n\t\t\tthis.formSubmit();\n\t\t\tthis.sendEmail();\n\t\t},\n\t\tinitFollowEvent: function() {\n\t\t\t$('.btn-follow').click(function(e) {\n\t\t\t\tif (followingSites.length < 10) current.isLoggedIn();\n\t\t\t});\n\t\t},\n\t\tinitFollowingEvent: function() {\n\t\t\t$('.btn-following').click(function(e) {\n\t\t\t\tif (followingSites.length > 0) {\n\t\t\t\t\t$('.image-loader').show();\n\t\t\t\t\tcurrent.getFollowingSites();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tinitBackEvent: function() {\n\t\t\t$('.btn-back').click(function(e) {\n\t\t\t\t$('.header-btn, .container').removeClass(\"active\");\n\t\t\t\tif (current.isValidUser()) {\n\t\t\t\t\t$('.user-following').addClass(\"active\");\n\t\t\t\t} else {\n\t\t\t\t\t$('.user-follow').addClass(\"active\");\n\t\t\t\t}\n\t\t\t\tif (lastContainer.trim().length > 0) {\n\t\t\t\t\t$('.back').addClass(\"active\");\n\t\t\t\t\t$(lastContainer).addClass('active');\n\t\t\t\t\tlastContainer = '';\n\t\t\t\t} else {\n\t\t\t\t\t$('.current-app-info, .share-url').addClass(\"active\");\n\t\t\t\t}\n\t\t\t\tif (followingSites.indexOf(currentHostName) > -1) $('.user-already-following').addClass(\"active\");\n\t\t\t\telse $('.user-follow').addClass(\"active\");\n\t\t\t\tif ($('.container').hasClass(\"newtab-text\")) $('.user-following').addClass(\"active\");\n\t\t\t});\n\t\t},\n\t\tinitSigninEvent: function() {\n\t\t\t$('.btn-signin').click(function(e) {\n\t\t\t\tcurrent.showSignInForm();\n\t\t\t});\n\t\t},\n\t\tinitSignupEvent: function() {\n\t\t\t$('.btn-signup').click(function(e) {\n\t\t\t\tcurrent.showSignUPForm();\n\t\t\t});\n\t\t},\n\t\tinitShareEvent: function() {\n\t\t\t$('.btn-share').click(function(e) {\n\t\t\t\tcurrent.showShareURLForm();\n\t\t\t});\n\t\t},\n\t\tinitShareFacebookEvent: function() {\n\t\t\t$('.share-facebook').click(function(e) {\n\t\t\t\tvar url = encodeURIComponent($('.share-url-original').val());\n\t\t\t\twindow.open(\"https://www.facebook.com/sharer/sharer.php?u=\" + url, \"myWindowName\", \"width=600, height=600\");\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tinitShareEmailEvent: function() {\n\t\t\t$('.share-email').click(function(e) {\n\t\t\t\tlastContainer = '.share-container';\n\t\t\t\tcurrent.showShareEmailForm();\n\t\t\t});\n\t\t},\n\t\tinitUnFollowEvent: function() {\n\t\t\t$(document).on(\"click\", '.btn-unfollow', function(e) {\n\t\t\t\tvar followingSiteName = $(this).closest('.list').find('.following-sitename').val();\n\t\t\t\t$(this).closest('.list').remove();\n\t\t\t\tcurrent.updateUnFollowSite(followingSiteName);\n\t\t\t});\n\t\t},\n\t\tshowSignInForm: function() {\n\t\t\t$('.container, .header-btn').removeClass(\"active\");\n\t\t\t$('.signin, .back').addClass(\"active\");\n\t\t},\n\t\tshowSignUPForm: function() {\n\t\t\t$('.container').removeClass(\"active\")\n\t\t\t$('.signup').addClass(\"active\")\n\t\t},\n\t\tshowShareEmailForm: function() {\n\t\t\t$('.container').removeClass(\"active\");\n\t\t\t$('.email-share-container').addClass(\"active\");\n\t\t},\n\t\tshowShareURLForm: function() {\n\t\t\t$('.container, .share-url').removeClass(\"active\");\n\t\t\t$('.share-container').addClass(\"active\");\n\t\t\t$('.back').addClass(\"active\");\n\t\t\tvar twitterUrl = \"https://twitter.com/share?text=\" + encodeURIComponent(defaultText) + \"&via=whatruns\";\n\t\t\tif (currentHostName.trim().length > 0) {\n\t\t\t\tvar url = DOMAIN_NAME + \"website/\" + encodeURIComponent(currentHostName);\n\t\t\t\t$('.share-url-original').val(url);\n\t\t\t\tvar text = \"Do you know what runs \" + currentHostName + \"?\";\n\t\t\t\tvar twitterUrl = \"https://twitter.com/share?url=\" + encodeURIComponent(url) + \"&text=\" + encodeURIComponent(text) + \"&via=whatruns\";\n\t\t\t}\n\t\t\t$('.twitter-share-href').attr(\"href\", twitterUrl);\n\t\t},\n\t\tisLoggedIn: function() {\n\t\t\ttry {\n\n\t\t\t\tif (current.isValidUser()) {\n\t\t\t\t\tif (followingSites.indexOf(currentHostName) <= -1) {\n\t\t\t\t\t\tfollowingSites.push(currentHostName);\n\t\t\t\t\t\tvar itemData = {\n\t\t\t\t\t\t\t\"following_sites\": JSON.stringify(followingSites)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrent.setData(itemData);\n\t\t\t\t\t\tcurrent.followSite();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent.getFollowingSites();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcurrent.showSignInForm();\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t},\n\t\tfollowSite: function() {\n\t\t\ttry {\n\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: DOMAIN_NAME + \"api/follow\",\n\t\t\t\t\tdata: \"email=\" + email + \"&hostname=\" + currentHostName,\n\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t//appendNewFollowingSite();\n\t\t\t\t\t\tcurrent.getFollowingSites();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (e) {}\n\t\t},\n\t\tgetFollowingSites: function() {\n\t\t\ttry {\n\t\t\t\tif (email && api_key) {\n\t\t\t\t\tif ($('.following-sites-list').is(':empty')) {\n\t\t\t\t\t\tvar data = current.getUserCredentials();\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\turl: DOMAIN_NAME + \"api/get_following\",\n\t\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\t\tcurrent.appendFollowingSites(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent.showFollowingSites();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n\t\tappendFollowingSites: function(response) {\n\n\t\t\ttry {\n\t\t\t\tif (typeof response != \"undefined\") {\n\t\t\t\t\tif (typeof response.following_sites != \"undefined\") {\n\t\t\t\t\t\t$('.following-sites-list').empty();\n\t\t\t\t\t\tvar following_sites = response.following_sites;\n\t\t\t\t\t\tObject.keys(following_sites).forEach(function(siteName) {\n\t\t\t\t\t\t\tvar siteDetectedApps = (typeof following_sites[siteName] === \"object\") ? following_sites[siteName] : JSON.parse(following_sites[siteName]);\n\t\t\t\t\t\t\tcurrent.appendAppDetails(siteDetectedApps, siteName, response.days);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcurrent.showFollowingSites();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n\t\tshowFollowingSites: function() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tcurrent.showBackButton();\n\t\t\t\t$('.container').removeClass(\"active\")\n\t\t\t\t$('.following').addClass(\"active\");\n\t\t\t\t$('.image-loader').hide();\n\t\t\t}, 500);\n\t\t},\n\t\tshowBackButton: function() {\n\t\t\t$('.header-btn').removeClass(\"active\");\n\t\t\t$('.back').addClass(\"active\");\n\t\t},\n\t\tappendAppDetails: function(detectedSiteApps, hostname, daysDiff) {\n\t\t\ttry {\n\t\t\t\tvar list = $('<div class=\"list\"></div>');\n\t\t\t\tvar headerEl = $('<div class=\"following-heading\"><div class=\"following-hostname inline\">' + hostname + '</div><div class=\"inline unfollow\"></div><input type=\"hidden\" class=\"hide following-sitename\" value=\"' + hostname + '\"></div>');\n\t\t\t\tvar unfollowEl = $('<button class=\"btn btn-sm btn-gray sm-1 btn-unfollow\">Unfollow</button>');\n\t\t\t\t$(list).append($(headerEl));\n\t\t\t\t$(list).find('.unfollow').append($(unfollowEl));\n\t\t\t\tfor (var time in detectedSiteApps) {\n\t\t\t\t\tvar apps = detectedSiteApps[time];\n\t\t\t\t\tvar totalApps = [];\n\t\t\t\t\tObject.keys(apps).forEach(function(categoryName) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar arr = apps[categoryName];\n\t\t\t\t\t\t\tfor (var i in arr) {\n\t\t\t\t\t\t\t\tvar techJson = arr[i];\n\t\t\t\t\t\t\t\tif (totalApps.indexOf(techJson.name) <= -1) {\n\t\t\t\t\t\t\t\t\ttotalApps.push(techJson.name);\n\t\t\t\t\t\t\t\t\tvar date = current.getDateFormat(techJson.latestDetectedTime);\n\t\t\t\t\t\t\t\t\tvar imageUrl = \"http://scriptsused.com/images/icons/\" + techJson.icon;\n\t\t\t\t\t\t\t\t\tvar imgEl = $('<div class=\"app-body inline\"><div class=\"image\"><a href=\"' + techJson.website + '\" target=\"_blank\"  data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"' + techJson.name + ' <br/> Last Detected: ' + date + '\"><img src=\"' + imageUrl + '\"></a></div><div class=\"border-bottom-green\" ></div></div>');\n\t\t\t\t\t\t\t\t\t$(list).append($(imgEl));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$('.following-sites-list').append($(list));\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n\t\tupdateUnFollowSite: function(followingSiteName) {\n\t\t\tif (current.isValidUser()) {\n\t\t\t\tvar data = {\n\t\t\t\t\temail: email,\n\t\t\t\t\tapi_key: api_key,\n\t\t\t\t\thostname: followingSiteName\n\t\t\t\t}\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tdata: data,\n\t\t\t\t\turl: DOMAIN_NAME + \"api/unfollow\",\n\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\tvar index = followingSites.indexOf(followingSiteName);\n\t\t\t\t\t\tif (index > -1) {\n\t\t\t\t\t\t\tfollowingSites.splice(index, 1);\n\t\t\t\t\t\t\tvar itemData = {\n\t\t\t\t\t\t\t\tfollowing_sites: JSON.stringify(followingSites)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrent.setData(itemData);\n\t\t\t\t\t\t\tcurrent.updateUserFollowingTitleToolTip(\"Following \" + followingSites.length + \" Sites\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tformSubmit: function() {\n\t\t\t$('.form').on(\"submit\", function(e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\te.preventDefault();\n\t\t\t\tvar data = $(this).serialize();\n\t\t\t\tvar method = $(this).attr(\"method\");\n\t\t\t\tvar url = DOMAIN_NAME + $(this).attr(\"url\");\n\t\t\t\tvar formData = {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tmethod: method,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\t\t\t\tvar $this = $(this);\n\t\t\t\tBROWSER.runtime.sendMessage({\n\t\t\t\t\tid: \"form\",\n\t\t\t\t\tsubject: formData\n\t\t\t\t}, function(response) {\n\t\t\t\t\tif (response.status != 200) {\n\t\t\t\t\t\t$this.find('.result').addClass(\"error\");\n\t\t\t\t\t\t$this.find('.result').text(response.msg);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof response.api_key != \"undefined\") current.setLoginData(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetLoginData: function(res) {\n\t\t\ttry {\n\t\t\t\temail = res.email;\n\t\t\t\tapi_key = res.api_key;\n\t\t\t\tvar itemData = {\n\t\t\t\t\temail: email,\n\t\t\t\t\tapi_key: api_key\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\t\"login_session\": JSON.stringify(itemData),\n\t\t\t\t\t\"following_sites\": JSON.stringify(followingSites)\n\t\t\t\t}\n\t\t\t\tthis.setData(data);\n\t\t\t\tthis.appendNewFollowingSite();\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n\t\tappendNewFollowingSite: function() {\n\t\t\ttry {\n\t\t\t\tthis.showBackButton();\n\t\t\t\tthis.appendAppDetails(detectedApps, currentHostName);\n\t\t\t\tif (followingSites.indexOf(currentHostName) <= -1) {\n\t\t\t\t\tfollowingSites.push(currentHostName);\n\t\t\t\t\tvar itemData = {\n\t\t\t\t\t\t\"following_sites\": JSON.stringify(followingSites)\n\t\t\t\t\t}\n\t\t\t\t\tthis.setData(itemData);\n\t\t\t\t}\n\t\t\t\tthis.showFollowingSites();\n\t\t\t\t$('.user-follow').removeClass(\"active\");\n\t\t\t\t$('.back').addClass(\"active\");\n\t\t\t\tthis.updateUserFollowingTitleToolTip(\"Following \" + followingSites.length + \" Sites\");\n\t\t\t} catch (e) {}\n\t\t},\n\t\tsendEmail: function() {\n\t\t\t$('#email-share-form').on('submit', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar $this = $(this);\n\t\t\t\t$(this).find('.result').empty();\n\t\t\t\tvar btnEl = $(this).find('.share-email-submit');\n\t\t\t\tvar text = $(btnEl).text();\n\t\t\t\t$(btnEl).empty();\n\t\t\t\t$(btnEl).append('Sending...');\n\t\t\t\t// $(btnEl).append('<i class=\"fa fa-spinner fa-spin fa-fw\" aria-hidden=\"true\"></i>');\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tdata: $(this).serialize() + \"&domain=\" + currentHostName,\n\t\t\t\t\turl: DOMAIN_NAME + \"share/email\",\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t$(btnEl).empty();\n\t\t\t\t\t\tif (res.status == 200) {\n\t\t\t\t\t\t\t$(btnEl).append('<img src=\"images/Tick.png\" style=\"max-width:10px;\"><span style=\"margin-left:5px;\">Sent</span>');\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t$(btnEl).empty();\n\t\t\t\t\t\t\t\t$(btnEl).append(text);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(btnEl).append(text);\n\t\t\t\t\t\t\t$this.find('.result').text(res.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tgetUserCredentials: function() {\n\t\t\tvar userCredentials = \"email=\" + email + \"&api_key=\" + api_key;\n\t\t\tuserCredentials += \"&domains=\" + JSON.stringify(followingSites);\n\t\t\treturn userCredentials;\n\t\t},\n\t\tparseJsonStr: function(str) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(str);\n\t\t\t} catch (e) {}\n\t\t},\n\t\tgetDateFormat: function(timestamp) {\n\t\t\ttry {\n\t\t\t\tvar date = new Date(parseInt(timestamp));\n\t\t\t\tvar month = current.getMonthName(date);\n\t\t\t\treturn month + \" \" + date.getFullYear();\n\t\t\t} catch (e) {}\n\t\t\treturn \"\";\n\t\t},\n\t\tgetMonthName: function(d) {\n\t\t\ttry {\n\t\t\t\tvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n\t\t\t\t\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t\t\t\t];\n\t\t\t\treturn monthNames[d.getMonth()];\n\t\t\t} catch (e) {}\n\t\t},\n\t\tisValidUser: function() {\n\t\t\ttry {\n\t\t\t\treturn (email && api_key && email.trim().length > 0 && api_key.trim().length > 0);\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\tpopupExt.init();\n\t$('body').tooltip({\n\t\tselector: '[data-toggle=tooltip]',\n\t\thtml: true\n\t});\n\n});",
			"settings":
			{
				"buffer_size": 14486,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "var Channel;\n(function (Channel) {\n    var Social;\n    (function (Social) {\n        var facebookPermissionCodes = {\n            noEmailProvided: \"no_email_provided\",\n            notAuthorized: \"not_authorized\",\n            email: \"email\",\n            noEmailPermission: \"no_email_permission\"\n        };\n        var facebookStatusCodes = {\n            declined: \"declined\",\n            granted: \"granted\",\n            connected: \"connected\"\n        };\n        var Facebook = /** @class */ (function () {\n            function Facebook() {\n                var _this = this;\n                this.rerequest = function (resolve, reject) {\n                    _this.fbLogin(resolve, reject, \"rerequest\");\n                };\n                this.fbLogin = function (resolve, reject, authType) {\n                    var options = { scope: Facebook.setting.scope };\n                    if (authType) {\n                        options.auth_type = authType;\n                    }\n                    FB.login(function (response) {\n                        if (response.authResponse) {\n                            FB.getLoginStatus(function () {\n                                if (response.authResponse === null) {\n                                    setTimeout(function () {\n                                        reject({ success: false, reason: \"cancel\" });\n                                    }, 1000);\n                                }\n                                else {\n                                    _this.userDetailsFromFb().then(function (fbResponse) {\n                                        if (Facebook.ignoreEmailPermissions) {\n                                            resolve({ success: true, authResponse: response.authResponse, userData: fbResponse });\n                                        }\n                                        for (var i = 0; i < fbResponse.permissions.data.length; i++) {\n                                            var currentPermission = fbResponse.permissions.data[i];\n                                            if (currentPermission.permission === facebookPermissionCodes.email) {\n                                                if (currentPermission.status === facebookStatusCodes.granted) {\n                                                    if (!fbResponse.email || typeof fbResponse.email === \"undefined\") {\n                                                        reject({ success: false, reason: facebookPermissionCodes.noEmailProvided });\n                                                        return;\n                                                    }\n                                                    else {\n                                                        resolve({ success: true, authResponse: response.authResponse, userData: fbResponse });\n                                                        return;\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        reject({ success: false, reason: facebookPermissionCodes.noEmailPermission });\n                                    });\n                                }\n                            });\n                        }\n                        else {\n                            reject({ success: false, reason: \"cancel\" });\n                        }\n                    }, options);\n                };\n                this.isLoggedInAndAuthorized = function () {\n                    return new Promise(function (resolve, reject) {\n                        var result = _this.checkLoginStatus();\n                        if (result.success) {\n                            _this.userDetailsFromFb().then(function (user) {\n                                if (user.permissions) {\n                                    for (var i = 0; i < user.permissions.data.length; i++) {\n                                        var currentPermission = user.permissions.data[i];\n                                        if (!Facebook.ignoreEmailPermissions &&\n                                            currentPermission.permission === facebookPermissionCodes.email) {\n                                            if (currentPermission.status === facebookStatusCodes.declined) {\n                                                if (!user.email || typeof user.email === \"undefined\") {\n                                                    reject({ success: false, reason: facebookPermissionCodes.noEmailProvided });\n                                                    return;\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                resolve({ success: true, authResponse: result.authResponse, userData: user });\n                            });\n                        }\n                        else {\n                            _this.fbLogin(resolve, reject);\n                        }\n                    });\n                };\n                this.login = function () {\n                    return new Promise(function (resolve, reject) {\n                        _this.isLoggedInAndAuthorized().then(function (result) {\n                            if (result.success) {\n                                resolve({\n                                    user: result.userData,\n                                    authResponse: result.authResponse\n                                });\n                            }\n                        }).catch(function (response) {\n                            reject(response);\n                        });\n                    });\n                };\n                this.rerequestPermission = function () {\n                    var rerequestPromise = new Promise(function (resolve, reject) {\n                        _this.rerequest(resolve, reject);\n                    });\n                    return new Promise(function (resolve, reject) {\n                        rerequestPromise\n                            .then(function (result) {\n                            if (result.success) {\n                                resolve({\n                                    user: result.userData,\n                                    authResponse: result.authResponse\n                                });\n                            }\n                            else {\n                                reject(result);\n                            }\n                        }).catch(function (response) {\n                            reject(response);\n                        });\n                    });\n                };\n            }\n            Facebook.init = function (initData) {\n                var _this = this;\n                Facebook.ignoreEmailPermissions = (initData.ignoreEmailPermissions) ? initData.ignoreEmailPermissions : false;\n                return new Promise(function (resolve) {\n                    if (!Facebook.initialized) {\n                        if (!Facebook.alreadyInitializing) {\n                            if (!initData) {\n                                throw new Error(\"You must provide details for connecting to FB app in your Init call.\");\n                            }\n                            var scriptTag = document.createElement(\"script\");\n                            scriptTag.src = _this.facebookSDKsrc;\n                            scriptTag.onload = Facebook.onLoadFinished;\n                            if (!initData.version) {\n                                initData.version = _this.initVersion;\n                            }\n                            if (!initData.scope) {\n                                initData.scope = \"email, public_profile\";\n                            }\n                            Facebook.setting = initData;\n                            var bodyTag = document.getElementsByTagName(\"body\")[0];\n                            bodyTag.appendChild(scriptTag);\n                            Facebook.alreadyInitializing = true;\n                        }\n                        var interval_1 = setInterval(function () {\n                            if (Facebook.initialized) {\n                                clearInterval(interval_1);\n                                resolve();\n                            }\n                        }, 200);\n                    }\n                    else {\n                        resolve();\n                    }\n                });\n            };\n            Facebook.onLoadFinished = function (e) {\n                FB.init({\n                    appId: Facebook.setting.appId.toString(),\n                    xfbml: false,\n                    cookie: true,\n                    status: true,\n                    version: Facebook.setting.version\n                });\n                Facebook.initialized = true;\n                FB.getLoginStatus(function (res) {\n                    Facebook.currentLoginStatus = res;\n                    Facebook.statusChanged();\n                });\n            };\n            Facebook.statusChanged = function () {\n                // ReSharper disable once UnusedLocals\n                var interval = setInterval(function () {\n                    FB.getLoginStatus(function (res) {\n                        Facebook.currentLoginStatus = res;\n                    });\n                }, 1000);\n            };\n            Facebook.prototype.checkLoginStatus = function () {\n                if (Facebook.currentLoginStatus != null) {\n                    var response = Facebook.currentLoginStatus;\n                    if (response.status === facebookStatusCodes.connected) {\n                        return { success: true, authResponse: response.authResponse };\n                    }\n                    else if (response.status === facebookPermissionCodes.notAuthorized) {\n                        return { success: false, reason: facebookPermissionCodes.notAuthorized };\n                    }\n                    else {\n                        return { success: false };\n                    }\n                }\n                else {\n                    return { success: false };\n                }\n            };\n            Facebook.prototype.userDetailsFromFb = function () {\n                return new Promise(function (resolve) {\n                    FB.api(\"/me\", { fields: \"name, email, permissions\" }, function (response) {\n                        resolve(response);\n                    });\n                });\n            };\n            Facebook.initialized = false;\n            Facebook.currentLoginStatus = null;\n            Facebook.alreadyInitializing = false;\n            Facebook.ignoreEmailPermissions = false;\n            Facebook.initVersion = \"v2.10\";\n            Facebook.facebookSDKsrc = \"//connect.facebook.net/en_US/sdk.js\";\n            return Facebook;\n        }());\n        Social.Facebook = Facebook;\n    })(Social = Channel.Social || (Channel.Social = {}));\n})(Channel || (Channel = {}));\n//# sourceMappingURL=facebook.js.map\n\n\n/// <reference path=\"../../../../../../Channel/Channel.Static/Scripts/Channel/classes/fetch.ts\" />\n/// <reference path=\"../classes/translations.ts\" />\nvar Digicel;\n(function (Digicel) {\n    var Social;\n    (function (Social) {\n        var Facebook = /** @class */ (function () {\n            function Facebook() {\n            }\n            Facebook.getAuthForm = function (facebookLoginResult) {\n                var authForm = {\n                    email: facebookLoginResult.user.email,\n                    fullName: facebookLoginResult.user.name,\n                    providerAuthenticationForm: {\n                        accessToken: facebookLoginResult.authResponse.accessToken,\n                        providerUserId: facebookLoginResult.authResponse.userID,\n                        tokenExpiry: facebookLoginResult.authResponse.expiresIn.toString()\n                    }\n                };\n                if (facebookLoginResult.user.iovationId === null || typeof facebookLoginResult.user.iovationId === \"undefined\") {\n                    var element = document.getElementById(\"iovationId\");\n                    if (element) {\n                        authForm.iovationId = element.value;\n                    }\n                }\n                else {\n                    authForm.iovationId = facebookLoginResult.user.iovationId;\n                }\n                return authForm;\n            };\n            Facebook.loginWithFacebook = function (requestPermission) {\n                if (requestPermission === void 0) { requestPermission = false; }\n                var loginPromise;\n                if (requestPermission) {\n                    loginPromise = this.facebook.rerequestPermission();\n                }\n                else {\n                    loginPromise = this.facebook.login();\n                }\n                return new Promise(function (resolve, reject) {\n                    loginPromise\n                        .then(function (result) {\n                        resolve(result);\n                    })\n                        .catch(function (error) {\n                        var response = { code: \"\" };\n                        if (error.reason) {\n                            switch (error.reason) {\n                                case \"no_email_provided\":\n                                case \"no_email_permission\":\n                                    response.code = \"no_email_provided\";\n                                    break;\n                                case \"cancel\":\n                                    response.code = \"cancel\";\n                                    break;\n                                case \"not_authorized\":\n                                    response.code = \"not_authorized\";\n                                    break;\n                            }\n                        }\n                        reject(response);\n                    });\n                });\n            };\n            Facebook.login = function (requestPermission) {\n                var _this = this;\n                if (requestPermission === void 0) { requestPermission = false; }\n                return this.loginWithFacebook(requestPermission)\n                    .then(function (response) {\n                    var authForm = _this.getAuthForm(response);\n                    return Social.Account.login(authForm, _this.socialProvider);\n                });\n            };\n            Facebook.register = function () {\n                var _this = this;\n                return this.loginWithFacebook()\n                    .then(function (response) {\n                    var authForm = _this.getAuthForm(response);\n                    return Social.Account.register(authForm, _this.socialProvider);\n                });\n            };\n            Facebook.link = function (userData) {\n                var _this = this;\n                return this.loginWithFacebook()\n                    .then(function (response) {\n                    var authForm = _this.getAuthForm(response);\n                    authForm.password = userData.password;\n                    return Social.Account.link(authForm, _this.socialProvider);\n                });\n            };\n            Facebook.connect = function (requestPermission) {\n                var _this = this;\n                if (requestPermission === void 0) { requestPermission = false; }\n                return this.loginWithFacebook(requestPermission)\n                    .then(function (response) {\n                    var authForm = _this.getAuthForm(response);\n                    return Social.Account.connect(authForm, _this.socialProvider);\n                });\n            };\n            Facebook.disconnect = function () {\n                return Social.Account.disconnect(this.socialProvider);\n            };\n            Facebook.initFacebookApi = function () {\n                var _this = this;\n                return new Promise(function (resolve, reject) {\n                    Channel.Social.Facebook\n                        .init({\n                        appId: Digicel.Social.facebookAppId,\n                        version: 'v2.7'\n                    })\n                        .then(function (response) {\n                        _this.facebook = new Channel.Social.Facebook();\n                        resolve({ success: true });\n                    })\n                        .catch(function (error) {\n                        reject(error);\n                    });\n                });\n            };\n            Facebook.socialProvider = Social.SocialMediaProviders.Facebook;\n            return Facebook;\n        }());\n        Social.Facebook = Facebook;\n    })(Social = Digicel.Social || (Digicel.Social = {}));\n})(Digicel || (Digicel = {}));\n//# sourceMappingURL=facebook.js.map",
			"settings":
			{
				"buffer_size": 16932,
				"line_ending": "Windows"
			}
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 392.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"Package Control: ",
				"Package Control: List Packages"
			],
			[
				"Snippet: ",
				"Snippet: React: componentWillUpdate: fn(np, ns) { ... }"
			],
			[
				"",
				"Package Control: List Packages"
			],
			[
				"syntax",
				"Set Syntax: HTML"
			]
		],
		"width": 464.0
	},
	"console":
	{
		"height": 126.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": true,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/instantgame"
	],
	"file_history":
	[
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/.gitignore",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/instantgame/CLIENT-README.md",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/instantgame/.gitignore",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/views/privacy-policy.html",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/fantastix/.env",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/app/stylesheets/stylesheet.css",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/package.json",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/config/keys.js",
		"/C/Users/Christian AUGUSTYN/Documents/workspace/WebstormProjects/StuckWanYah/README.md",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/api_fb.html",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/package.json",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/StuckWanYah/mobile.html",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/crisbot/server/lib/somekind_of_algorithm.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/instantgame/index.html",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/views/upload.html",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/app/stylesheets/stylesheet.css",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/.gitignore",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/photos.json",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/views/connect.html",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/views/disclaimer.html",
		"/C/Users/Christian AUGUSTYN/.VirtualBox/VirtualBox.xml",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/.env",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/StuckWanYah/phone_avatar.svg",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/StuckWanYah/api_fb.html",
		"/C/Users/Christian AUGUSTYN/Documents/MCS/year1/semester2/MC120/Major Project/PayrollSystem/src/payrollsystem/PayrollSystemGUI.java",
		"/C/Users/Christian AUGUSTYN/Documents/MCS/year1/semester2/MC120/Major Project/PayrollSystem/src/payrollsystem/AddEmployeePanel.java",
		"/C/Users/Christian AUGUSTYN/Documents/MCS/year1/semester2/MC120/Major Project/PayrollSystem/src/payrollsystem/PayrollSystemGUI.form",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/config/keys.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/chat/chatme-mobile/server/routes/api.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/chat/chatme-mobile/server/routes/auth.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/chat/chatme-mobile/server/routes/index.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/chat/chatme-mobile/server/routes/products.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/chat/chatme-mobile/server/routes/shippingDetails.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/chat/chatme-mobile/server/routes/users.js",
		"/C/Program Files/nodejs/node_modules/npm/lib/npm.js",
		"/C/Program Files/nodejs/node_modules/npm/lib/utils/error-handler.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/StuckWanYah/server.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/README.md",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/StuckWanYah/package.json",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/server.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/xpackage.json",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/models/sweetlips.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/views/home.html",
		"/C/xampp/htdocs/christianaugustyn/public/js/application.js",
		"/C/Program Files (x86)/nginx/conf/nginx.conf",
		"/C/Users/Christian AUGUSTYN/Documents/Fiddler2/Scripts/BrowserPAC.js",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/hacking-cracking-tools/ZykNet/LearnC/main.c",
		"/C/Program Files/Git/usr/share/vim/vim82/compiler/cucumber.vim",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/test.bat",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/views/perfectMatch.html",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/epsilonpi/.env",
		"/C/Users/Christian AUGUSTYN/Desktop/Tor Browser/Browser/tbb_version.json",
		"/C/Program Files (x86)/MongoDB/Server/3.2/bin/mongodb.config",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/stuckwanyah/StuckWanYahProject.sublime-project",
		"/C/Users/Christian AUGUSTYN/WebstormProjects/hacking-cracking-tools/.vs/slnx.sqlite",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/README.md",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/package.json",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/upload.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/submit.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/rankings.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/perfectMatch.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/friends.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/flames.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/connect.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/about.html",
		"/C/xampp/htdocs/wordpress/wp-includes/SimplePie/HTTP/Parser.php",
		"/C/Users/Wantok/AppData/Roaming/Sublime Text 2/Packages/Default/Preferences.sublime-settings",
		"/C/Users/Wantok/AppData/Roaming/Sublime Text 2/Packages/User/Preferences.sublime-settings",
		"/C/Users/Wantok/AppData/Roaming/Sublime Text 2/Packages/Default/Default (Windows).sublime-keymap",
		"/C/Users/Wantok/AppData/Roaming/Sublime Text 2/Packages/User/Default (Windows).sublime-keymap",
		"/C/Users/Wantok/AppData/Roaming/Sublime Text 2/Packages/User/JavaScript.sublime-settings",
		"/C/Users/Wantok/Downloads/jerard pdf's/National Examination Results 2018_files/bootstrap.css",
		"/C/Users/Wantok/WebstormProjects/chat/config/dbDump/contacts.db",
		"/C/Program Files/Ampps/php-5.6/ext/php_openssl.dll",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/.gitignore",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/app/routes.js",
		"/C/xampp/htdocs/xampp/.version",
		"/C/Users/Wantok/WebstormProjects/chat/app/assets/images/loader.svg",
		"/C/Users/Wantok/Documents/New folder/autorun.inf",
		"/E/AUTORUN.INF",
		"/J/Temp/.autorun.inf",
		"/J/Temp/Computer Science/eBooks/Networking/CCNA_ 3.0/CCNA/CCNA1_v30/en_CCNA1_v30/javascript/buttons.js",
		"/C/Users/Wantok/Documents/New folder/Brand/techsavvy-oeminfo.reg",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/home.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/public/javascripts/script.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/models/sweetlips-model.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/photos.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/api.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/public/javascripts/emoji.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/config/passport-setup.js",
		"/C/xampp/htdocs/facemash/folder.bat",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/post.yaml",
		"/C/Users/Wantok/AppData/Local/Google/Chrome/User Data/Default/Extensions/iffdacemhfpnchinokehhnppllonacfj/6.4_0/js/libs/bootstrap-modal-master/bs3.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/public/javascripts/javascript.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/public/javascripts/scratchpad.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/disclaimer.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/index.ejs",
		"/C/Users/Wantok/WebstormProjects/node_modules/node-notifier/vendor/snoreToast/SnoreToast.exe",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/app.js",
		"/C/Users/Wantok/WebstormProjects/chat/app/assets/home.svg",
		"/C/Users/Wantok/Documents/workspace/ChatMe/assets/ChatMe Setup.txt",
		"/C/Users/Wantok/Documents/workspace/ChatMe/MongoDB.txt",
		"/C/Users/Wantok/Documents/workspace/ChatMe/ChatMe App Structure.txt",
		"/C/Users/Wantok/Documents/workspace/ChatMe/ChatMe.txt",
		"/C/Users/Wantok/Documents/workspace/ChatMe/ReadMe.txt",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/views/Disclaimer.html",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/app2.js",
		"/C/Program Files/MongoDB/Server/3.2/bin/mongodb.config",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/StuckWanYahProject.sublime-project",
		"/C/Users/Admin/AppData/Local/Temp/Rar$EX79.536/faceclash-master/assets/js/faceclash.js",
		"/C/Users/Wantok/WebstormProjects/StuckWanYah/server.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/public/javascripts/script.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/StuckWanYah.url",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/post.yaml",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/models/sweetlips-model.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/config.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/photos.js",
		"/C/Users/Admin/AppData/Local/Temp/Rar$EX05.024/faceclash-master/assets/js/faceclash.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/views/disclaimer.html",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/views/about.html",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/package.json",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/algorithm.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/app-dev.js",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/views/submit.html",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/views/friends.html",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/views/rankings.html",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/views/connect.html",
		"/C/Users/Admin/WebstormProjects/StuckWanYah/node_modules/fb/README.md"
	],
	"find":
	{
		"height": 24.0
	},
	"find_in_files":
	{
		"height": 0.0,
		"where_history":
		[
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"merge",
			"colors",
			"h1",
			"p",
			"isAuthenticated",
			"morgan",
			"user_id",
			"isAuthenticated",
			"user_id",
			"populate",
			"sourceDirectory",
			"\t\t\t\t\t\t  ",
			"\t\t\t  ",
			"\t\t\t\t    ",
			"getNativeIdFromImageId",
			"rateImages",
			"getTwoRandomPhotos",
			"renderIndexPage",
			"srcset=\"<%= images[",
			"src=\"http://graph.",
			"http://graph.facebook.com/<%= images[0].imageId %>/picture?type=large",
			"getUserProfilePicture",
			"https://graph.facebook.com/",
			"https://graph.facebook.com/100004177278169",
			"data-profileid=\"",
			"getNativeIdFromImageId",
			"config.params.session.user_id",
			"getNativeIdFromImageId",
			"?type=square",
			"setDefaultData",
			"checkLoginState",
			"profile",
			"bodyObj.data[i].picture.data.url",
			"bodyObj.data[i]",
			"populate",
			"obj.data[i].age_range",
			"bodyObj",
			"String",
			"\t\t\t\t    ",
			"\t\t\t    ",
			"Photos",
			"photos",
			"Photos",
			"photos",
			"Photos",
			" ",
			"request.get",
			"user",
			"4680b2de-8690-11e9-b83d-5719e53cf1de",
			"478",
			"478a",
			"478",
			"6327",
			"data",
			"m.f",
			".update",
			"rateImages",
			"getNativeIdFromImageId",
			"votes for",
			"update",
			"fblogin",
			"resp",
			"JSON.parse(body)",
			"usersFromList",
			"_usersFromList",
			"populatePhotos",
			"_prepareUserData",
			"getUserDetailsFromFacebook",
			"ad",
			"access_token",
			"access",
			"EAAZAdDi7fMz8BAEwpZBRu8ICMKFNIU5VdLUIqvC0d4eZC9j1kE3WkKcGyL5xLzcQwBecZCrUrqkcewQQcwAdEn4KZCtIULRyFVPK5uxY3m8axtsUvRem3xQoL9xXtiR2ZCbN86ZAVV5Mwa1uOiqLiuiwzIyVOmPOhidqLDZCvOauFh9YRDQIgFBqe8h8xSosRFf3gtZC6hvxqg9hTkLJd5y0PKFD8ar1BmvuwEbCwV0qclhOjZAs38HPKA",
			"jDialog",
			"jDialog1",
			"jTextField2",
			"layout.",
			"layout",
			"jDialog1",
			"setSize",
			"jCheckBoxMondayActionPerformed",
			"panel",
			"jTable1MouseClicked",
			"jTable1MousePressed",
			"jButton1ActionPerformed",
			"jCheckBoxMondayActionPerformed",
			"jCheckBoxMondayPropertyChange",
			"addGroup",
			"jTable1MousePressed",
			"jRadioButton",
			"javax.swing.",
			"_fields",
			"getUserDetailsFromFacebook",
			"friend",
			"\t\t  ",
			"\t  ",
			"\n\t  ",
			"multer",
			".count",
			"export",
			"logSymbols",
			"StuckWanYahProject",
			"port",
			"initFacebookApi",
			"FB.init",
			"$.ajax",
			"blackhole",
			"FB.api",
			"userDetailsFromFb",
			"FB.api(",
			"FB.api",
			"FB.",
			"\t\t\t\t\t",
			"\t\t\t\t\t \t",
			"FB.api",
			"userDetailsFromFb",
			"FB.api(",
			"checkLoginState",
			"statusChangeCallback",
			"login()",
			"login",
			"statusChangeCallback",
			"initFacebookApi",
			"facebookStatusCodes",
			"\t\t\t\t\t \t",
			"checkLoginState",
			"initClickEventListener",
			"100012306993722",
			"Publish"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": false
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "server.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 86520,
						"regions":
						{
						},
						"selection":
						[
							[
								1173,
								1178
							],
							[
								1230,
								1235
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": false,
							"word_wrap": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "package.json",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2131,
						"regions":
						{
						},
						"selection":
						[
							[
								656,
								656
							]
						],
						"settings":
						{
							"syntax": "Packages/JSON/JSON.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": ".gitignore",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 173,
						"regions":
						{
						},
						"selection":
						[
							[
								173,
								173
							]
						],
						"settings":
						{
							"syntax": "Packages/Git Formats/Git Ignore.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": ".env",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1613,
						"regions":
						{
						},
						"selection":
						[
							[
								350,
								350
							]
						],
						"settings":
						{
							"syntax": "Packages/Text/Plain text.tmLanguage",
							"word_wrap": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "views/home.html",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6134,
						"regions":
						{
						},
						"selection":
						[
							[
								1710,
								1710
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false,
							"word_wrap": false
						},
						"translation.x": 0.0,
						"translation.y": 411.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "app/javascripts/script.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 54392,
						"regions":
						{
						},
						"selection":
						[
							[
								40748,
								40741
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": false,
							"word_wrap": false
						},
						"translation.x": 0.0,
						"translation.y": 15569.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3808,
						"regions":
						{
						},
						"selection":
						[
							[
								1616,
								1616
							]
						],
						"settings":
						{
							"auto_name": "var express = require('express');",
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 522.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "README.md",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3879,
						"regions":
						{
						},
						"selection":
						[
							[
								2086,
								2086
							]
						],
						"settings":
						{
							"mde.match_heading_hashes": false,
							"syntax": "Packages/MarkdownEditing/syntaxes/Markdown.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 1.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16247,
						"regions":
						{
						},
						"selection":
						[
							[
								512,
								512
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14486,
						"regions":
						{
						},
						"selection":
						[
							[
								409,
								409
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16932,
						"regions":
						{
						},
						"selection":
						[
							[
								11365,
								11365
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3060.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 24.0
	},
	"input":
	{
		"height": 37.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.exec":
	{
		"height": 234.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.unsaved_changes":
	{
		"height": 100.0
	},
	"pinned_build_system": "",
	"project": "StuckWanYahProject.sublime-project",
	"replace":
	{
		"height": 44.0
	},
	"save_all_on_build": false,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"C:\\Users\\Christian AUGUSTYN\\Documents\\workspace\\WebstormProjects\\StuckWanYah\\views\\Fantastix Website.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 298.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
